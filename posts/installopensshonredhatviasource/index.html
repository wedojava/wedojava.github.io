<!DOCTYPE html>
<html lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="author" content="wedojava" />
	
	
	
	<title>Install openssh to redhat 6.3 via source ｜ 回风舞雪</title>
	
    
    
    <meta name="description" content="This post is the log for compile source and install some package to linux, yeah, it&amp;rsquo;ll fit to offline install while you&amp;rsquo;re download packages before.
Download   openssh-7.5p1 (This is the last version support: ssh protocal &amp;lt; 1.5 ) -&amp;gt; Download now
  zlib-devel -&amp;gt; Download now
  openssl-fip -&amp;gt; Download now
  openssl-1.0.2u -&amp;gt; Download now
   " />
    

    
    
    <meta name="keywords" content="Hugo, theme, zozo, huifeng" />
    

	
    
    <link rel="shortcut icon" href="https://huifeng.me/images/favicon.ico" />

    <link rel="stylesheet" type="text/css" media="screen" href="https://huifeng.mecss/normalize.css" />
    <link rel="stylesheet" type="text/css" media="screen" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.0/animate.min.css" />
    <link rel="stylesheet" type="text/css" media="screen" href="https://huifeng.me/css/zozo.css" />
    <link rel="stylesheet" type="text/css" media="screen" href="https://huifeng.me/css/search.css" />
	<link rel="stylesheet" type="text/css" media="screen" href="https://cdn.jsdelivr.net/npm/remixicon@2.5.0/fonts/remixicon.css" />
    <link rel="stylesheet" type="text/css" media="screen" href="https://huifeng.me/css/highlight.css" />

    
    
</head>


<body>
    <div class="main animate__animated animate__fadeInDown">
        <div class="nav_container animated fadeInDown">
    <div class="site_nav" id="site_nav">
        <ul>
            
            <li>
                <a href="/">Home</a>
            </li>
            
            <li>
                <a href="/posts/">Archive</a>
            </li>
            
            <li>
                <a href="/tags/">Tags</a>
            </li>
            
            <li>
                <a href="/about/">About</a>
            </li>
            
        </ul>
    </div>
    <div class="menu_icon">
        <a id="menu_icon"><i class="ri-menu-line"></i></a>
    </div>
</div>
        <div class="header animated fadeInDown">
    <div class="site_title_container">
        <div class="site_title">
            <h1>
                <a href="https://huifeng.me">
                    <span>回风舞雪</span>
                </a>
            </h1>
        </div>
        <div class="description">
            <p class="sub_title">Love My Love</p>
            <div class="my_socials">
                
                
                <a href="https://github.com/wedojava" title="github" target="_blank"><i class="ri-github-fill"></i></a>
                
                
                
                <a href="https://weibo.com/wedojava" title="weibo" target="_blank"><i class="ri-weibo-fill"></i></a>
                
                
                <a href="https://huifeng.me/index.xml" type="application/rss+xml" title="rss" target="_blank"><i
                        class="ri-rss-fill"></i></a>
            </div>
        </div>
    </div>
</div>
        <div class="content">
            <div class="post_page">
                <div class="post animate__animated animate__fadeInDown">
                    <div class="post_title post_detail_title">
                        <h2><a href='/posts/installopensshonredhatviasource/'>Install openssh to redhat 6.3 via source</a></h2>
                        <span class="date">2020.02.27</span>
                    </div>
                    <div class="post_content markdown"><p>This post is the log for compile source and install some package to linux, yeah, it&rsquo;ll fit to offline install while you&rsquo;re download packages before.</p>
<h1 id="download">Download</h1>
<ul>
<li>
<p>openssh-7.5p1 (This is the last version support: ssh protocal &lt; 1.5 ) -&gt; <a href="https://cdn.openbsd.org/pub/OpenBSD/OpenSSH/portable/openssh-7.5p1.tar.gz">Download now</a></p>
<ul>
<li>
<p>zlib-devel -&gt; <a href="https://www.zlib.net/zlib-1.2.11.tar.gz">Download now</a></p>
</li>
<li>
<p>openssl-fip -&gt; <a href="https://www.openssl.org/source/openssl-fips-2.0.16.tar.gz">Download now</a></p>
</li>
<li>
<p>openssl-1.0.2u -&gt; <a href="https://github.com/openssl/openssl/releases/tag/OpenSSL_1_0_2u">Download now</a></p>
</li>
</ul>
</li>
</ul>
<h1 id="install-via-source">Install via source</h1>
<ol>
<li>Install requirements</li>
</ol>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">yum install -y zlib-devel pam-devel tcp_wrappers-devel
</code></pre></div><p>OR install via source, such as zlib:</p>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">tar zxf zlib-1.2.11.tar.gz
cd zlib-1.2.11.tar.gz
./configure
make
make install
</code></pre></div><ol start="2">
<li>Install openssl-fip</li>
</ol>
<p>Refer: <a href="http://www.openssl.org/docs/fips">http://www.openssl.org/docs/fips</a></p>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">tar zxf openssl-fips-2.0.16.tar.gz
cd openssl-fips-2.0.16
./config
make
make install
</code></pre></div><ol start="3">
<li>Install openssl</li>
</ol>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">tar zxf openssl-OpenSSL_1_0_2u.tar.gz
cd openssl-OpenSSL_1_0_2u
./config fips --shared
make
make install
</code></pre></div><p>openssl succeeded install printing:</p>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">OpenSSL shared libraries have been installed in:
  /usr/local/ssl

If this directory is not in a standard system path for dynamic/shared
libraries, then you will have problems linking and executing
applications that use OpenSSL libraries UNLESS:

* you link with static (archive) libraries.  If you are truly
  paranoid about security, you should use static libraries.
* you use the GNU libtool code during linking
  (http://www.gnu.org/software/libtool/libtool.html)
* you use pkg-config during linking (this requires that
  PKG_CONFIG_PATH includes the path to the OpenSSL shared
  library directory), and make use of -R or -rpath.
  (http://www.freedesktop.org/software/pkgconfig/)
* you specify the system-wide link path via a command such
  as crle(1) on Solaris systems.
* you add the OpenSSL shared library directory to /etc/ld.so.conf
  and run ldconfig(8) on Linux systems.
* you define the LD_LIBRARY_PATH, LIBPATH, SHLIB_PATH (HP),
  DYLD_LIBRARY_PATH (MacOS X) or PATH (Cygwin and DJGPP)
  environment variable and add the OpenSSL shared library
  directory to it.

One common tool to check the dynamic dependencies of an executable
or dynamic library is ldd(1) on most UNIX systems.

See any operating system documentation and manpages about shared
libraries for your version of UNIX.  The following manpages may be
helpful: ld(1), ld.so(1), ld.so.1(1) [Solaris], dld.sl(1) [HP],
ldd(1), crle(1) [Solaris], pldd(1) [Solaris], ldconfig(8) [Linux],
chatr(1) [HP].
cp libcrypto.pc /usr/local/ssl/lib/pkgconfig
chmod 644 /usr/local/ssl/lib/pkgconfig/libcrypto.pc
cp libssl.pc /usr/local/ssl/lib/pkgconfig
chmod 644 /usr/local/ssl/lib/pkgconfig/libssl.pc
cp openssl.pc /usr/local/ssl/lib/pkgconfig
chmod 644 /usr/local/ssl/lib/pkgconfig/openssl.pc
</code></pre></div><ol start="4">
<li>Link openssl library to system libs, if step3, openssl config contains <code>--prefix=/usr</code>, skip below.</li>
</ol>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">echo &#34;/usr/local/ssl/lib&#34; &gt;&gt; /etc/ld.so.conf
ldconfig
</code></pre></div><ol start="5">
<li>Install openssh</li>
</ol>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">tar zxf openssh
cd openssh
./configure --prefix=/usr/local/ssh --sysconfdir=/etc/ssh --with-ssl-dir=/usr/local/ --with-sandbox=n
make
make install
</code></pre></div><p>*. If error occur as <code>系统没有找到openssl库</code> , you need execute the command:  <code>ldconfig</code>.</p>
<h1 id="my-succeeded-install-log">My Succeeded Install log</h1>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">## 1. Download packages.

## 2. Install requirements

yum install -y zlib-devel pam-devel tcp_wrappers-devel

# OR install zlib via source

tar zxf zlib-1.2.11.tar.gz
cd zlib-1.2.11.tar.gz
./configure
make
make install

## 3. Install openssl-fip

http://www.openssl.org/docs/fips 

tar zxf openssl-fips-2.0.16.tar.gz
cd openssl-fips-2.0.16
./config
make
make install

## 4.Install openssl

tar zxf openssl-OpenSSL_1_0_2u.tar.gz
cd openssl-OpenSSL_1_0_2u
./config fips --shared
make
make install

---------------------------- install printing ----------------------------
OpenSSL shared libraries have been installed in:
/usr/local/ssl

If this directory is not in a standard system path for dynamic/shared
libraries, then you will have problems linking and executing
applications that use OpenSSL libraries UNLESS:

* you link with static (archive) libraries.  If you are truly
paranoid about security, you should use static libraries.
* you use the GNU libtool code during linking
(http://www.gnu.org/software/libtool/libtool.html)
* you use pkg-config during linking (this requires that
PKG_CONFIG_PATH includes the path to the OpenSSL shared
library directory), and make use of -R or -rpath.
(http://www.freedesktop.org/software/pkgconfig/)
* you specify the system-wide link path via a command such
as crle(1) on Solaris systems.
* you add the OpenSSL shared library directory to /etc/ld.so.conf
and run ldconfig(8) on Linux systems.
* you define the LD_LIBRARY_PATH, LIBPATH, SHLIB_PATH (HP),
DYLD_LIBRARY_PATH (MacOS X) or PATH (Cygwin and DJGPP)
environment variable and add the OpenSSL shared library
directory to it.

One common tool to check the dynamic dependencies of an executable
or dynamic library is ldd(1) on most UNIX systems.

See any operating system documentation and manpages about shared
libraries for your version of UNIX.  The following manpages may be
helpful: ld(1), ld.so(1), ld.so.1(1) [Solaris], dld.sl(1) [HP],
ldd(1), crle(1) [Solaris], pldd(1) [Solaris], ldconfig(8) [Linux],
chatr(1) [HP].
cp libcrypto.pc /usr/local/ssl/lib/pkgconfig
chmod 644 /usr/local/ssl/lib/pkgconfig/libcrypto.pc
cp libssl.pc /usr/local/ssl/lib/pkgconfig
chmod 644 /usr/local/ssl/lib/pkgconfig/libssl.pc
cp openssl.pc /usr/local/ssl/lib/pkgconfig
chmod 644 /usr/local/ssl/lib/pkgconfig/openssl.pc
---------------------------- install printing end ----------------------------

## 5. 将新编译的openssl library 加入系统动态库链接中, 如果在第4步openssl 编译过程中，将其设定为OS默认安装目录（--prefix=/usr），那么此步骤无需执行！

echo &#34;/usr/local/ssl/lib&#34; &gt;&gt; /etc/ld.so.conf
ldconfig

## 6. Install openssh

tar zxf openssh
cd openssh
./configure --prefix=/usr/local/ssh --sysconfdir=/etc/ssh --with-ssl-dir=/usr/local/ --with-sandbox=n
make
make install

### If error occur as `系统没有找到openssl库` means command need: `ldconfig`.

</code></pre></div><p>EOF</p></div>
                    <div class="post_footer">
                        
                        <div class="meta">
                            <div class="info">
                                <span class="field tags">
                                    <i class="ri-stack-line"></i>
                                    
                                    <a href="https://huifeng.me/tags/redhat/">redhat</a>
                                    
                                    <a href="https://huifeng.me/tags/linux/"> linux</a>
                                    
                                    <a href="https://huifeng.me/tags/lib/"> lib</a>
                                    
                                    <a href="https://huifeng.me/tags/pcap/"> pcap</a>
                                    
                                </span>
                            </div>
                        </div>
                        
                    </div>
                </div>
                
                
                
<div class="doc_comments">
    <div class="comments_block_title">发表评论</div>
    <div id="vcomments"></div>
</div>

<link rel="stylesheet" href="https://huifeng.me/css/comments.css" />
<script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src='//unpkg.com/valine/dist/Valine.min.js'></script>

<script type="text/javascript">
    new Valine({
        el: '#vcomments',
        appId: 'yusajl3uDsnB888cn1ulQeKz-gzGzoHsz',
        appKey: 'jYjHeNB1qVYREHe1zX4bRx7z',
        placeholder: ' ',
        visitor: 'true',
    })
</script>
                
            </div>
        </div>
    </div>
    <a id="back_to_top" href="#" class="back_to_top"><i class="ri-arrow-up-s-line"></i></a>
    <footer class="footer">
    <div class="powered_by">
        <a href="https://varkai.com">Designed by VarKai,</a>
        <a href="http://www.gohugo.io/">Proudly published with Hugo</a>
    </div>

    <div class="footer_slogan">
        <span>&gt;_ Simple Is Correct.</span>
    </div>
</footer>
    <div id="fastSearch">
   <input id="searchInput" tabindex="0">
   <ul id="searchResults">
   </ul>
 </div>
 <script src="/js/fuse.js"></script> 
 <script src="/js/fastsearch.js"></script>
<script src="https://huifeng.me/js/jquery-3.5.1.min.js"></script>
<link href="https://huifeng.me/css/fancybox.min.css" rel="stylesheet">
<script src="https://huifeng.me/js/fancybox.min.js"></script>
<script src="https://huifeng.me/js/zozo.js"></script>


<script type="text/javascript" async
    src="https://cdn.bootcss.com/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
        MathJax.Hub.Config({
            tex2jax: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\[\[', '\]\]']],
                processEscapes: true,
                processEnvironments: true,
                skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
                TeX: {
                    equationNumbers: { autoNumber: "AMS" },
                    extensions: ["AMSmath.js", "AMSsymbols.js"]
                }
            }
        });

        MathJax.Hub.Queue(function () {
            
            
            
            var all = MathJax.Hub.getAllJax(), i;
            for (i = 0; i < all.length; i += 1) {
                all[i].SourceElement().parentNode.className += ' has-jax';
            }
        });
    </script>

<style>
    code.has-jax {
        font: inherit;
        font-size: 100%;
        background: inherit;
        border: inherit;
        color: #515151;
    }
</style>




</body>

</html>