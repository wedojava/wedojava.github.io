[{"categories":["Go"],"contents":"Go çš„å¹¶å‘å¾ˆæ ¸å¿ƒï¼Œç†è§£ä¸éš¾ï¼Œå¬æ‡‚ä¹Ÿç®€å•ï¼Œä½†æ˜¯ç”¨å¥½å®ƒï¼Œå¾ˆéš¾ï¼è‡³å°‘æˆ‘ç°åœ¨è§‰å¾—è¿™ä¸œè¥¿å¥½ç»•ï¼Œå½“ç„¶è¿™ä¹Ÿè¯´æ˜æˆ‘ä»¬æ²¡æœ‰å­¦é€å½»ï¼Œå­¦æ˜ç™½ï¼Œä¸‹é¢æŠŠå­¦åˆ°çš„ä¸€äº›ä¸œè¥¿è®°å½•ä¸‹æ¥ã€‚ç®—æ˜¯äºŒæ¬¡ç†è§£ã€‚\nConcurrency is go programing is a core tech, easy to understand but hard to use in best practices.\nReference: https://www.kancloud.cn/mutouzhang/go/596822\nTips: Some words   Goçš„å¹¶å‘ç†å¿µå¯ä»¥è¿™æ ·æ¦‚æ‹¬ï¼šä¸ºäº†ç®€å•èµ·è§ï¼Œåœ¨å¯èƒ½çš„æƒ…å†µä¸‹ä½¿ç”¨é€šé“ï¼Œå¹¶ä¸”åƒå…è´¹èµ„æºä¸€æ ·å¤„ç†goroutine(è€Œä¸éœ€è¦è¿‡å¤šè¿‡æ—©çš„è€ƒè™‘èµ„æºå ç”¨æƒ…å†µ)ã€‚ é€šé“æœ¬è´¨ä¸Šæ¯”å†…å­˜è®¿é—®åŒæ­¥åŸºå…ƒæ›´å…·å¯ç»„åˆæ€§ã€‚ å°†é”åˆ†æ•£åœ¨å„ä¸ªç»“æ„ä¸­å¬èµ·æ¥åƒæ˜¯ä¸€åœºå™©æ¢¦ã€‚    Ownership Transfer [USE CHANNEL]\nIf some code section generate datas, you wanna use it in other section. =\u0026gt; this means you wanna transfer this ownership of data to other section. =\u0026gt; USE CHANNEL!\nBenefits: You can create buffer channels to implement memory queues with cheap resources.\n  Guard Internal Struct [USE MUTEX]\nDon\u0026rsquo;t use channel but sync.Mutex!\nBenefits: Hide implementation details of locking section, reduce complexity to caller.\nPoint: Try your best to limit the lock to a small area\n  type Counter struct { mu sync.Mutex value int } func(c *Counter) Increment() { c.mu.Lock() defer c.mu.Unlock() c.value++ } Coordinate Multiple Pieces Of Logic [USE SELECT]\nå¦‚æœä½ å‘ç°è‡ªå·±åœ¨åŠªåŠ›äº†è§£å¹¶å‘ä»£ç çš„å·¥ä½œåŸç†ï¼Œä¸ºä»€ä¹ˆä¼šå‘ç”Ÿæ­»é”æˆ–ç«äº‰ï¼Œå¹¶ä¸”ä½ æ­£åœ¨ä½¿ç”¨Mutexï¼Œè¿™å¯èƒ½æ˜¯ä½ éœ€è¦åˆ‡æ¢åˆ°é€šé“çš„ä¸€ä¸ªå¾ˆå¥½çš„ä¿¡å·ã€‚  TO BE CONTINUE\u0026hellip;\n","permalink":"https://wedojava.github.io/posts/concurrencyingostudy/","tags":["go","golang","concurrency","å¹¶å‘"],"title":"Concurrency In Go Study"},{"categories":["Hugo"],"contents":"Hi there, my hugo have three repos:\n hugo(hugo resource, private repo) - root zozo(theme/zozo, private repo) - submodule public(html files, public repo) - submodule  Maybe, you have this structure too.\nI clone my repo hugo to my other desktop, but theme and public folders are blank.\nNow, fix it!\nReference: https://git-scm.com/book/zh/v2/Git-%E5%B7%A5%E5%85%B7-%E5%AD%90%E6%A8%A1%E5%9D%97\nHow:  make sure .gitmodule is correct. run git submodule update to update  Issue: If some submodule cannot push and at the weird branch, just go to that path, run git switch master then git push or git pull.\n Yes, just so easy as there. Here you go.\n","permalink":"https://wedojava.github.io/posts/clonehugotootherdesktop/","tags":["hugo","clone","git","deploy","submodule"],"title":"Clone Hugo To Other Desktop"},{"categories":["Git"],"contents":"# Constantly # git remote add git remote add origin https://e.coding.net/wedojava/hugo/zozo.git # git remote é‡æ–°è®¾ç½® git remote set-url origin https://e.coding.net/wedojava/hugo/zozo.git git push -u origin master git clone https://github.com/varkai/hugo-theme-zozo themes/zozo git submodule add https://github.com/budparr/gohugo-theme-ananke.git themes/ananke git submodule add -b master https://gitee.com/wedojava/wedojava.git public git config --global user.email \u0026#34;wedojava@gmail.com\u0026#34; # Roll Back Reference:\nhttps://github.com/includeios/document/issues/12\nhttps://www.liaoxuefeng.com/wiki/896043488029600/897013573512192\nhttps://ruby-china.org/topics/11637\nhttps://codertw.com/%E7%A8%8B%E5%BC%8F%E8%AA%9E%E8%A8%80/561978/\nhttps://www.cnblogs.com/keystone/p/10700617.html\nMethod 1.1 git reset --hard HEAD^ å›é€€åˆ°ä¸Šä¸ªç‰ˆæœ¬ git reset --hard commit_id é€€åˆ°/è¿›åˆ° æŒ‡å®šcommit_id git push origin HEAD --force æŠŠå›é€€çš„æŸä¸ªç‰ˆæœ¬æäº¤çš„è¿œç¨‹ Method 1.2 git reset --hard dbf5efdb3cd8ea5d576f2e29fe0db1951d0e3e3b # å¼ºåˆ¶æ¨é€åˆ°è¿œç¨‹åˆ†æ”¯, ä¼šæŠ¹å»è¿œç¨‹åº“çš„æäº¤ä¿¡æ¯, ä¸è¦è¿™ä¹ˆå¹² # git push -f origin master Method 2 # å›é€€åˆ°æŒ‡å®šç‰ˆæœ¬, éœ€è¦è§£å†³å†²çª git revert e7c8599d29b61579ef31789309b4e691d6d3a83f # æ”¾å¼ƒå›é€€(åŠ --hardä¼šé‡ç½®å·² commitå’Œå·¥ä½œåŒºçš„å†…å®¹) # git reset --hard origin/master # log å¯ä»¥æŸ¥çœ‹æ‰€æœ‰åˆ†æ”¯çš„æ‰€æœ‰æ“ä½œè®°å½•ï¼ˆåŒ…æ‹¬ï¼ˆåŒ…æ‹¬commitå’Œresetçš„æ“ä½œï¼‰ï¼ŒåŒ…æ‹¬å·²ç»è¢«åˆ é™¤çš„commitè®°å½•ï¼Œgit logåˆ™ä¸èƒ½å¯Ÿçœ‹å·²ç»åˆ é™¤äº†çš„commitè®°å½•\ngit reflog æ‰“å°ä½ è®°å½•ä½ çš„æ¯ä¸€æ¬¡æ“ä½œè®°å½• ","permalink":"https://wedojava.github.io/posts/gittips/","tags":["git"],"title":"Git Tips"},{"categories":["hugo","hexo"],"contents":" å¹²è´§ï¼šä»hexoè½¬åˆ°hugoå†™äº†ä¸ªpython3çš„è„šæœ¬: migrate hexo to hugoï¼Œæ¯•ç«Ÿå¿«ä¸€å¹´æ²¡ç”¨Pythonäº†ï¼Œå¦‚æœæœ‰é—®é¢˜æ¬¢è¿éªšæ‰°.\n æ›´å¤šå‚è€ƒï¼šhttps://gohugo.io/hosting-and-deployment/hosting-on-github/\nç›®æ ‡  ä¸å†èŠ±é’±ä¹°VPSäº† ä¸å†ä¾èµ–å¤ªå¤šï¼Œå®‰è£…å¤ªå¤šä¸œè¥¿åœ¨æœ¬åœ°ï¼Œjust go env enough! ç®€å•å¿«é€Ÿ  éƒ¨ç½² æ¨èéƒ¨ç½²åˆ° Coding æˆ–è€…GitHubï¼ŒGitee çš„è‡ªå®šä¹‰åŸŸåæ˜¯è¦ Pro ä¼šå‘˜æ‰å¯ä»¥ï¼ŒèŠ±é’±çš„ã€‚\nå…³äºæ•´ä¸ªé¡¹ç›®çš„éƒ¨ç½²æˆ‘è§‰å¾—å¯ä»¥è¿™ä¹ˆæï¼š\nä»¥æˆ‘åœ¨ Coding ä¸Šä¸ºä¾‹ï¼Œå…¶ä»–ç±»ä¼¼å§ï¼Œç”¨äº† Coding å‘ç°ä»–é¡¹ç›®ä¸‹åŒ…å«ä»“åº“çš„ç»“æ„æ¯”è¾ƒèˆ’æœã€‚\n æ–°å»ºé¡¹ç›®ï¼šhugo è¿›å…¥é¡¹ç›®ï¼Œæ–°å»ºä»“åº“ï¼šhuifeng.me (ç§æœ‰) è¿˜å‘†åœ¨é¡¹ç›®é‡Œï¼Œæ–°å»ºä»“åº“ï¼špublicï¼ˆå…¬å¼€ï¼‰  é€šè¿‡ hugo new site huifeng.me æ–°å»ºçš„ä»“åº“æ”¾çš„æ˜¯æ‰€æœ‰æºç äº†ï¼Œä½†æ˜¯é¡µé¢çš®è‚¤å’Œpublicæ–‡ä»¶å¤¹ä¸åŒ…å«è¿›å»ã€‚\nå¤§æ¦‚çš„æµç¨‹æ˜¯è¿™æ ·ï¼š\nhugo new site huifeng.me git remote add origin \u0026lt;your_repo_url\u0026gt; git push -u origin master git submodule add https://github.com/varkai/hugo-theme-zozo themes/zozo # ä¸Šé¢è¿™æ ·æœ¬æ¥æ˜¯æŒºå¥½çš„åšæ³•ï¼Œæ›´æ–°å°±è¿›å» git pull å°±å¥½ï¼Œå¯æ˜¯æˆ‘è¿˜æ˜¯ä¿®æ”¹äº†åŸæœ‰æ ·å¼ï¼Œæ‰€ä»¥æœ‰äº†ä¸‹é¢çš„ä¿®æ”¹ # ä¸‹é¢ä¸¤è¡Œè¿™æ ·æ˜¯ä¸ºäº†æˆ‘æ ¹æ®è‡ªå·±æƒ³è¦ä¿®æ”¹äº†æ ·å¼ä¸è‡³äºæ— å¤„ä¿å­˜ã€‚ cd ./themes/zozo git remote set-url origin https://e.coding.net/wedojava/hugo/zozo.git # ä¸‹é¢çš„æ“ä½œæ˜¯å‚è€ƒçš„è¿™é‡Œï¼š # https://gohugo.io/hosting-and-deployment/hosting-on-github/#step-by-step-instructions cd ../../ hugo cd public git add . git commit -m \u0026#34;first public\u0026#34; git remote add origin https://e.coding.net/wedojava/hugo/public.git cd .. echo \u0026#34;public\u0026#34; \u0026gt;\u0026gt; .gitignore ä¿å­˜ä¸‹é¢è„šæœ¬å¹¶ä¿®æ”¹ +x æƒé™ï¼š\n#!/bin/sh  # If a command fails then the deploy stops set -e printf \u0026#34;\\033[0;32mDeploying updates to GitHub...\\033[0m\\n\u0026#34; # Build the project. hugo # if using a theme, replace with `hugo -t \u0026lt;YOURTHEME\u0026gt;` # Go To Public folder cd public # Add changes to git. git add . # Commit changes. msg=\u0026#34;rebuilding site $(date)\u0026#34; if [ -n \u0026#34;$*\u0026#34; ]; then msg=\u0026#34;$*\u0026#34; fi git commit -m \u0026#34;$msg\u0026#34; # Push source and build repos. git push origin master and run: ./deploy.sh \u0026quot;Your optional commit message\u0026quot;\nEOF\n","permalink":"https://wedojava.github.io/posts/hexo2hugo/","tags":["hexo","hugo","github","gitee","coding","blog"],"title":"Hexoè½¬åˆ°hugoï¼Œæœ‰äº›ç»éªŒå’Œè„šæœ¬å¸Œæœ›èƒ½å¸®åˆ°å¤§å®¶"},{"categories":["Newwork"],"contents":"test if device can up sshd service  if\n# show ip ssh SSH Disabled - version 1.99 %Please create RSA keys to enable SSH (and of atleast 768 bits for SSH v2). Authentication methods:publickey,keyboard-interactive,password Authentication timeout: 120 secs; Authentication retries: 3 Minimum expected Diffie Hellman key size : 1024 bits IOS Keys in SECSH format(ssh-rsa, base64 encoded): NONE means\u0026rsquo; ssh supported just need config\n config domain name  #conf t (config)#ip domain-name domain222test generate rsa  (config)#crypto key generate rsa The name for the keys will be: CE22.domain222test Choose the size of the key modulus in the range of 360 to 4096 for your General Purpose Keys. Choosing a key modulus greater than 512 may take a few minutes. How many bits in the modulus [512]: 2048 % Generating 2048 bit RSA keys, keys will be non-exportable... [OK] (elapsed time was 8 seconds) user account add username: demo and password: demo  (config)#username demo secret demo Up ssh protocal on vty line  (config)#line vty 0 (config-line)#transport input ssh // Up ssh login (config-line)#login local // auth by local config sshd  (config)#ip ssh time-out 120 (config)#ip ssh authentication-retries 1 (config)#ip ssh version 2 ","permalink":"https://wedojava.github.io/posts/cisco-sshd-conf/","tags":["cisco"," ssh"," sshd"," config"," network"],"title":"Cisco sshd config"},{"categories":["Linux"],"contents":"This post is the log for compile source and install some package to linux, yeah, it\u0026rsquo;ll fit to offline install while you\u0026rsquo;re download packages before.\nDownload   openssh-7.5p1 (This is the last version support: ssh protocal \u0026lt; 1.5 ) -\u0026gt; Download now\n  zlib-devel -\u0026gt; Download now\n  openssl-fip -\u0026gt; Download now\n  openssl-1.0.2u -\u0026gt; Download now\n    Install via source  Install requirements  yum install -y zlib-devel pam-devel tcp_wrappers-devel OR install via source, such as zlib:\ntar zxf zlib-1.2.11.tar.gz cd zlib-1.2.11.tar.gz ./configure make make install Install openssl-fip  Refer: http://www.openssl.org/docs/fips\ntar zxf openssl-fips-2.0.16.tar.gz cd openssl-fips-2.0.16 ./config make make install Install openssl  tar zxf openssl-OpenSSL_1_0_2u.tar.gz cd openssl-OpenSSL_1_0_2u ./config fips --shared make make install openssl succeeded install printing:\nOpenSSL shared libraries have been installed in: /usr/local/ssl If this directory is not in a standard system path for dynamic/shared libraries, then you will have problems linking and executing applications that use OpenSSL libraries UNLESS: * you link with static (archive) libraries. If you are truly paranoid about security, you should use static libraries. * you use the GNU libtool code during linking (http://www.gnu.org/software/libtool/libtool.html) * you use pkg-config during linking (this requires that PKG_CONFIG_PATH includes the path to the OpenSSL shared library directory), and make use of -R or -rpath. (http://www.freedesktop.org/software/pkgconfig/) * you specify the system-wide link path via a command such as crle(1) on Solaris systems. * you add the OpenSSL shared library directory to /etc/ld.so.conf and run ldconfig(8) on Linux systems. * you define the LD_LIBRARY_PATH, LIBPATH, SHLIB_PATH (HP), DYLD_LIBRARY_PATH (MacOS X) or PATH (Cygwin and DJGPP) environment variable and add the OpenSSL shared library directory to it. One common tool to check the dynamic dependencies of an executable or dynamic library is ldd(1) on most UNIX systems. See any operating system documentation and manpages about shared libraries for your version of UNIX. The following manpages may be helpful: ld(1), ld.so(1), ld.so.1(1) [Solaris], dld.sl(1) [HP], ldd(1), crle(1) [Solaris], pldd(1) [Solaris], ldconfig(8) [Linux], chatr(1) [HP]. cp libcrypto.pc /usr/local/ssl/lib/pkgconfig chmod 644 /usr/local/ssl/lib/pkgconfig/libcrypto.pc cp libssl.pc /usr/local/ssl/lib/pkgconfig chmod 644 /usr/local/ssl/lib/pkgconfig/libssl.pc cp openssl.pc /usr/local/ssl/lib/pkgconfig chmod 644 /usr/local/ssl/lib/pkgconfig/openssl.pc Link openssl library to system libs, if step3, openssl config contains --prefix=/usr, skip below.  echo \u0026#34;/usr/local/ssl/lib\u0026#34; \u0026gt;\u0026gt; /etc/ld.so.conf ldconfig Install openssh  tar zxf openssh cd openssh ./configure --prefix=/usr/local/ssh --sysconfdir=/etc/ssh --with-ssl-dir=/usr/local/ --with-sandbox=n make make install *. If error occur as ç³»ç»Ÿæ²¡æœ‰æ‰¾åˆ°opensslåº“ , you need execute the command: ldconfig.\nMy Succeeded Install log ## 1. Download packages. ## 2. Install requirements yum install -y zlib-devel pam-devel tcp_wrappers-devel # OR install zlib via source tar zxf zlib-1.2.11.tar.gz cd zlib-1.2.11.tar.gz ./configure make make install ## 3. Install openssl-fip http://www.openssl.org/docs/fips tar zxf openssl-fips-2.0.16.tar.gz cd openssl-fips-2.0.16 ./config make make install ## 4.Install openssl tar zxf openssl-OpenSSL_1_0_2u.tar.gz cd openssl-OpenSSL_1_0_2u ./config fips --shared make make install ---------------------------- install printing ---------------------------- OpenSSL shared libraries have been installed in: /usr/local/ssl If this directory is not in a standard system path for dynamic/shared libraries, then you will have problems linking and executing applications that use OpenSSL libraries UNLESS: * you link with static (archive) libraries. If you are truly paranoid about security, you should use static libraries. * you use the GNU libtool code during linking (http://www.gnu.org/software/libtool/libtool.html) * you use pkg-config during linking (this requires that PKG_CONFIG_PATH includes the path to the OpenSSL shared library directory), and make use of -R or -rpath. (http://www.freedesktop.org/software/pkgconfig/) * you specify the system-wide link path via a command such as crle(1) on Solaris systems. * you add the OpenSSL shared library directory to /etc/ld.so.conf and run ldconfig(8) on Linux systems. * you define the LD_LIBRARY_PATH, LIBPATH, SHLIB_PATH (HP), DYLD_LIBRARY_PATH (MacOS X) or PATH (Cygwin and DJGPP) environment variable and add the OpenSSL shared library directory to it. One common tool to check the dynamic dependencies of an executable or dynamic library is ldd(1) on most UNIX systems. See any operating system documentation and manpages about shared libraries for your version of UNIX. The following manpages may be helpful: ld(1), ld.so(1), ld.so.1(1) [Solaris], dld.sl(1) [HP], ldd(1), crle(1) [Solaris], pldd(1) [Solaris], ldconfig(8) [Linux], chatr(1) [HP]. cp libcrypto.pc /usr/local/ssl/lib/pkgconfig chmod 644 /usr/local/ssl/lib/pkgconfig/libcrypto.pc cp libssl.pc /usr/local/ssl/lib/pkgconfig chmod 644 /usr/local/ssl/lib/pkgconfig/libssl.pc cp openssl.pc /usr/local/ssl/lib/pkgconfig chmod 644 /usr/local/ssl/lib/pkgconfig/openssl.pc ---------------------------- install printing end ---------------------------- ## 5. å°†æ–°ç¼–è¯‘çš„openssl library åŠ å…¥ç³»ç»ŸåŠ¨æ€åº“é“¾æ¥ä¸­, å¦‚æœåœ¨ç¬¬4æ­¥openssl ç¼–è¯‘è¿‡ç¨‹ä¸­ï¼Œå°†å…¶è®¾å®šä¸ºOSé»˜è®¤å®‰è£…ç›®å½•ï¼ˆ--prefix=/usrï¼‰ï¼Œé‚£ä¹ˆæ­¤æ­¥éª¤æ— éœ€æ‰§è¡Œï¼ echo \u0026#34;/usr/local/ssl/lib\u0026#34; \u0026gt;\u0026gt; /etc/ld.so.conf ldconfig ## 6. Install openssh tar zxf openssh cd openssh ./configure --prefix=/usr/local/ssh --sysconfdir=/etc/ssh --with-ssl-dir=/usr/local/ --with-sandbox=n make make install ### If error occur as `ç³»ç»Ÿæ²¡æœ‰æ‰¾åˆ°opensslåº“` means command need: `ldconfig`. EOF\n","permalink":"https://wedojava.github.io/posts/installopensshonredhatviasource/","tags":["redhat"," linux"," lib"," pcap"],"title":"Install openssh to redhat 6.3 via source"},{"categories":["Tools"],"contents":"å¦‚ä½•æ·»åŠ ç³»ç»Ÿå³é”®èœå•? æˆ‘æŠŠæˆ‘çš„å…¨æ”¶é›†åœ¨è¿™é‡Œ!\nReference: https://www.zhihu.com/question/48091139\nHow to Save the code below as foobar.reg and execute it.\nNotice ! Modify path !  Modify the path to your path! For instance: C:\\\\Users\\\\foobar\\\\scoop\\\\apps\\\\git\\\\current\\\\git-bash.exe to \\\\you\\\\dope\\\\path\\\\sth.exe. Save the content as .reg file and execute it as administrator.  Install and Uninstall Context Sublime-text Install:\nWindows Registry Editor Version 5.00 [HKEY_CURRENT_USER\\Software\\Classes\\*\\shell\\Open with \u0026amp;Sublime] @=\u0026#34;Open with \u0026amp;Sublime\u0026#34; \u0026#34;Icon\u0026#34;=\u0026#34;C:\\\\Users\\\\Notebook\\\\scoop\\\\apps\\\\sublime-text\\\\3211\\\\sublime_text.exe\u0026#34; [HKEY_CURRENT_USER\\Software\\Classes\\*\\shell\\Open with \u0026amp;Sublime\\command] @=\u0026#34;\\\u0026#34;C:\\\\Users\\\\Notebook\\\\scoop\\\\apps\\\\sublime-text\\\\3211\\\\sublime_text.exe\\\u0026#34; \\\u0026#34;%1\\\u0026#34;\u0026#34; [HKEY_CURRENT_USER\\Software\\Classes\\Directory\\shell\\Open with \u0026amp;Sublime] @=\u0026#34;Open with \u0026amp;Sublime\u0026#34; \u0026#34;Icon\u0026#34;=\u0026#34;C:\\\\Users\\\\Notebook\\\\scoop\\\\apps\\\\sublime-text\\\\3211\\\\sublime_text.exe\u0026#34; [HKEY_CURRENT_USER\\Software\\Classes\\Directory\\shell\\Open with \u0026amp;Sublime\\command] @=\u0026#34;\\\u0026#34;C:\\\\Users\\\\Notebook\\\\scoop\\\\apps\\\\sublime-text\\\\3211\\\\sublime_text.exe\\\u0026#34; \\\u0026#34;%1\\\u0026#34;\u0026#34; [HKEY_CURRENT_USER\\Software\\Classes\\Directory\\Background\\shell\\Open with \u0026amp;Sublime] @=\u0026#34;Open with \u0026amp;Sublime\u0026#34; \u0026#34;Icon\u0026#34;=\u0026#34;C:\\\\Users\\\\Notebook\\\\scoop\\\\apps\\\\sublime-text\\\\3211\\\\sublime_text.exe\u0026#34; [HKEY_CURRENT_USER\\Software\\Classes\\Directory\\Background\\shell\\Open with \u0026amp;Sublime\\command] @=\u0026#34;\\\u0026#34;C:\\\\Users\\\\Notebook\\\\scoop\\\\apps\\\\sublime-text\\\\3211\\\\sublime_text.exe\\\u0026#34; \\\u0026#34;%V\\\u0026#34;\u0026#34; Uninstall:\nWindows Registry Editor Version 5.00 [-HKEY_CURRENT_USER\\Software\\Classes\\*\\shell\\Open with \u0026amp;Sublime] [-HKEY_CURRENT_USER\\Software\\Classes\\*\\shell\\Open with \u0026amp;Sublime\\command] [-HKEY_CURRENT_USER\\Software\\Classes\\Directory\\shell\\Open with \u0026amp;Sublime] [-HKEY_CURRENT_USER\\Software\\Classes\\Directory\\shell\\Open with \u0026amp;Sublime\\command] [-HKEY_CURRENT_USER\\Software\\Classes\\Directory\\Background\\shell\\Open with \u0026amp;Sublime] [-HKEY_CURRENT_USER\\Software\\Classes\\Directory\\Background\\shell\\Open with \u0026amp;Sublime\\command] emacs Install:\nWindows Registry Editor Version 5.00 [HKEY_CURRENT_USER\\Software\\Classes\\*\\shell\\Open with emacs] @=\u0026#34;Open with emacs\u0026#34; \u0026#34;Icon\u0026#34;=\u0026#34;C:\\\\Users\\\\foobar\\\\scoop\\\\apps\\\\emacs\\\\current\\\\bin\\\\runemacs.exe\u0026#34; [HKEY_CURRENT_USER\\Software\\Classes\\*\\shell\\Open with emacs\\command] @=\u0026#34;\\\u0026#34;C:\\\\Users\\\\foobar\\\\scoop\\\\apps\\\\emacs\\\\current\\\\bin\\\\runemacs.exe\\\u0026#34; \\\u0026#34;%1\\\u0026#34;\u0026#34; [HKEY_CURRENT_USER\\Software\\Classes\\Directory\\shell\\Open with emacs] @=\u0026#34;Open with emacs\u0026#34; \u0026#34;Icon\u0026#34;=\u0026#34;C:\\\\Users\\\\foobar\\\\scoop\\\\apps\\\\emacs\\\\current\\\\bin\\\\runemacs.exe\u0026#34; [HKEY_CURRENT_USER\\Software\\Classes\\Directory\\shell\\Open with emacs\\command] @=\u0026#34;\\\u0026#34;C:\\\\Users\\\\foobar\\\\scoop\\\\apps\\\\emacs\\\\current\\\\bin\\\\runemacs.exe\\\u0026#34; \\\u0026#34;%1\\\u0026#34;\u0026#34; [HKEY_CURRENT_USER\\Software\\Classes\\Directory\\Background\\shell\\Open with emacs] @=\u0026#34;Open with emacs\u0026#34; \u0026#34;Icon\u0026#34;=\u0026#34;C:\\\\Users\\\\foobar\\\\scoop\\\\apps\\\\emacs\\\\current\\\\bin\\\\runemacs.exe\u0026#34; [HKEY_CURRENT_USER\\Software\\Classes\\Directory\\Background\\shell\\Open with emacs\\command] @=\u0026#34;\\\u0026#34;C:\\\\Users\\\\foobar\\\\scoop\\\\apps\\\\emacs\\\\current\\\\bin\\\\runemacs.exe\\\u0026#34; \\\u0026#34;%V\\\u0026#34;\u0026#34; Uninstall:\nWindows Registry Editor Version 5.00 [-HKEY_CURRENT_USER\\Software\\Classes\\*\\shell\\Open with emacs] [-HKEY_CURRENT_USER\\Software\\Classes\\*\\shell\\Open with emacs\\command] [-HKEY_CURRENT_USER\\Software\\Classes\\Directory\\shell\\Open with emacs] [-HKEY_CURRENT_USER\\Software\\Classes\\Directory\\shell\\Open with emacs\\command] [-HKEY_CURRENT_USER\\Software\\Classes\\Directory\\Background\\shell\\Open with emacs] [-HKEY_CURRENT_USER\\Software\\Classes\\Directory\\Background\\shell\\Open with emacs\\command] Vim Install:\nWindows Registry Editor Version 5.00 [HKEY_CLASSES_ROOT\\*\\shell\\nvim] @=\u0026#34;Open With NVIM\u0026#34; \u0026#34;Icon\u0026#34;=\u0026#34;C:\\\\Users\\\\Notebook\\\\scoop\\\\apps\\\\neovim\\\\current\\\\bin\\\\nvim-qt.exe\u0026#34; [HKEY_CLASSES_ROOT\\*\\shell\\nvim\\command] @=\u0026#34;\\\u0026#34;C:\\\\Users\\\\Notebook\\\\scoop\\\\apps\\\\neovim\\\\current\\\\bin\\\\nvim-qt.exe\\\u0026#34; \\\u0026#34;%1\\\u0026#34;\u0026#34; [HKEY_CLASSES_ROOT\\Directory\\Background\\shell\\nvim] @=\u0026#34;Open With NVIM\u0026#34; \u0026#34;Icon\u0026#34;=\u0026#34;C:\\\\Users\\\\Notebook\\\\scoop\\\\apps\\\\neovim\\\\current\\\\bin\\\\nvim-qt.exe\u0026#34; [HKEY_CLASSES_ROOT\\Directory\\Background\\shell\\nvim\\command] @=\u0026#34;\\\u0026#34;C:\\\\Users\\\\Notebook\\\\scoop\\\\apps\\\\neovim\\\\current\\\\bin\\\\nvim-qt.exe\\\u0026#34; \\\u0026#34;%V\\\u0026#34;\u0026#34; [HKEY_CLASSES_ROOT\\Directory\\shell\\nvim] @=\u0026#34;Open With NVIM\u0026#34; \u0026#34;Icon\u0026#34;=\u0026#34;C:\\\\Users\\\\Notebook\\\\scoop\\\\apps\\\\neovim\\\\current\\\\bin\\\\nvim-qt.exe\u0026#34; [HKEY_CLASSES_ROOT\\Directory\\shell\\nvim\\command] @=\u0026#34;\\\u0026#34;C:\\\\Users\\\\Notebook\\\\scoop\\\\apps\\\\neovim\\\\current\\\\bin\\\\nvim-qt.exe\\\u0026#34; \\\u0026#34;%1\\\u0026#34;\u0026#34; Unistall:\nWindows Registry Editor Version 5.00 [-HKEY_CURRENT_USER\\Software\\Classes\\*\\shell\\Open with NVIM] [-HKEY_CURRENT_USER\\Software\\Classes\\*\\shell\\Open with NVIM\\command] [-HKEY_CURRENT_USER\\Software\\Classes\\Directory\\shell\\Open with NVIM] [-HKEY_CURRENT_USER\\Software\\Classes\\Directory\\shell\\Open with NVIM\\command] [-HKEY_CURRENT_USER\\Software\\Classes\\Directory\\Background\\shell\\Open with NVIM] [-HKEY_CURRENT_USER\\Software\\Classes\\Directory\\Background\\shell\\Open with NVIM\\command] Git bash Inistall:\nWindows Registry Editor Version 5.00 [HKEY_CLASSES_ROOT\\Directory\\shell\\git_shell] @=\u0026#34;Git Ba\u0026amp;sh Here\u0026#34; \u0026#34;Icon\u0026#34;=\u0026#34;C:\\\\Users\\\\Notebook\\\\scoop\\\\apps\\\\git\\\\current\\\\git-bash.exe\u0026#34; [HKEY_CLASSES_ROOT\\Directory\\shell\\git_shell\\command] @=\u0026#34;\\\u0026#34;C:\\\\Users\\\\Notebook\\\\scoop\\\\apps\\\\git\\\\current\\\\git-bash.exe\\\u0026#34; \\\u0026#34;--cd=%1\\\u0026#34;\u0026#34; [HKEY_CLASSES_ROOT\\Directory\\Background\\shell\\git_shell] @=\u0026#34;Git Ba\u0026amp;sh Here\u0026#34; \u0026#34;Icon\u0026#34;=\u0026#34;C:\\\\Users\\\\Notebook\\\\scoop\\\\apps\\\\git\\\\current\\\\git-bash.exe\u0026#34; [HKEY_CLASSES_ROOT\\Directory\\Background\\shell\\git_shell\\command] @=\u0026#34;\\\u0026#34;C:\\\\Users\\\\Notebook\\\\scoop\\\\apps\\\\git\\\\current\\\\git-bash.exe\\\u0026#34; \\\u0026#34;--cd=%v.\\\u0026#34;\u0026#34; Unistall:\nWindows Registry Editor Version 5.00 [-HKEY_CURRENT_USER\\Software\\Classes\\*\\shell\\git_bash] [-HKEY_CURRENT_USER\\Software\\Classes\\*\\shell\\git_bash\\command] [-HKEY_CURRENT_USER\\Software\\Classes\\Directory\\shell\\git_bash] [-HKEY_CURRENT_USER\\Software\\Classes\\Directory\\shell\\git_bash\\command] [-HKEY_CURRENT_USER\\Software\\Classes\\Directory\\Background\\shell\\git_bash] [-HKEY_CURRENT_USER\\Software\\Classes\\Directory\\Background\\shell\\git_bash\\command] Difference Method 1 you need to edit via regedit to change the value to your git-bash path.\nMethod 2 you just edit here and run it.\nEOF\n","permalink":"https://wedojava.github.io/posts/context-right-menu/","tags":["Cygwin"," Mintty"," å³é”®"," vim"," gvim"," nvim"," neovim"," emacs"," context"],"title":"Right way install Context (right menu)"},{"categories":["Go"],"contents":"Some tips I don\u0026rsquo;t know!\n   By convention, the package name is the same as the last element of the import path. For instance, the \u0026quot;math/rand\u0026quot; package comprises files that begin with the statement package rand.\n  Naked return statements should be used only in short functions. They can harm readability in longer functions.\n  Outside a function, every statement begins with a keyword (var, func, and so on) and so the := construct is not available.\n  Basic types:\n byte // alias for uint8 rune // alias for int32 // represents a Unicode code point The int, uint, and uintptr types are usually 32 bits wide on 32-bit systems and 64 bits wide on 64-bit systems. When you need an integer value you should use int unless you have a specific reason to use a sized or unsigned integer type.    For:\n The init and post statements are optional, like this: for ; sum \u0026lt; 1000; {... is correct.    An array\u0026rsquo;s length is part of its type, so arrays cannot be resized.\n  Slices are like references to arrays: A slice does not store any data, it just describes a section of an underlying array.\n  The make function allocates a zeroed array and returns a slice that refers to that array:\n  a := make([]int, 5) // a len=5 cap=5 [0 0 0 0 0]  b := make([]int, 0, 5) // b len=0 cap=5 []  c := b[:2] // c len=2 cap=5 [0 0]  d := c[2:5] // d len=3 cap=3 [0 0 0]     Range:\n When ranging over a slice, two values are returned for each iteration. The first is the index, and the second is a copy of the element at that index.   ","permalink":"https://wedojava.github.io/posts/go-a-tour-of-go-note.md/","tags":["Go"," tips"],"title":"ã€ŠA Tour of Goã€‹ Study note"},{"categories":["Network"],"contents":"Install Reference:\n GNS3 Installation on Linux  ğŸ‘ˆ no useful to Archlinux and Manjaro and no better than above! so sad! Dynamips (Cisco Router Emulator) ğŸ‘ˆ Official document for Dynamips Install and configure GNS3 on Arch Linux ğŸ‘ˆ Very detailed and procise! Install GNS3 on Arch / Manjaro Linux (The Right Way) ğŸ‘ˆ Very detailed and procise!  Arch-GNS3-Helper    My Steps 1. Install GNS3 sudo pacman -Syu sudo pacman -S yay yay -S gns3-server --noconfirm yay -S gns3-gui --noconfirm 2. Install Dynamips git clone git://github.com/GNS3/dynamips.git cd dynamips mkdir build cd build cmake .. make make install Verify :\n$ cd $HOME $ dynamips 2\u0026gt; /dev/null | grep version Cisco Router Simulation Platform (version 0.2.19-amd64/Linux stable) $ getcap $(which dynamips) /usr/bin/dynamips = cap_net_admin,cap_net_raw+ep 3. Install VPCS yay -S vpcs --noconfrim Check:\n$ cd $HOME $ type vpcs vpcs is /usr/bin/vpcs $ vpcs -v | grep version Welcome to Virtual PC Simulator, version 0.8 beta1 Expriement Base conf en conf t hostname R1 line console 0 # Go to console. no exec-time # Stop unwished withdraw due to long periods of inactivity. logging synchronous # Stop interrupte by log while input. exit no ip domain lookup # Stop DNS analysis auto,another wise it waste time to get info to non-critical words. Config ip info conf t int g1/0 ip addr 1.1.1.1 255.255.255.0 no shutdown exit exit sh ip int brief ","permalink":"https://wedojava.github.io/posts/gns3-experience-simple-expriements/","tags":["GNS3"," Network"],"title":"GNS3 Experience Setup and usage in linux"},{"categories":["Hack"],"contents":"{% centerquote ç‹å°æ³¢ %} äººçš„ä¸€åˆ‡ç—›è‹¦ï¼Œæœ¬è´¨ä¸Šéƒ½æ˜¯å¯¹è‡ªå·±æ— èƒ½çš„æ„¤æ€’ã€‚ {% endcenterquote %}\n[TOC]\nENVï¼š\nWindows* x86\npython 2.7.17\n# Memory dump ä½¿ç”¨ç¬¬ä¸‰æ–¹è½¯ä»¶æŠ“å–å†…å­˜dump é’ˆå¯¹äºç‰©ç†æœº,é€šå¸¸å¯ä»¥ä½¿ç”¨å¦‚ä¸‹å·¥å…·æ¥æŠ“å–å†…å­˜dump:\nKnTTools F-Response Mandiant Memoryze HBGary FastDump MoonSols Windows Memory Toolkit AccessData FTK Imager EnCase/WinEn Belkasoft Live RAM Capturer ATC-NY Windows Memory Reader Winpmem Win32dd/Win64dd DumpIt\nDumpit Dump memory by Dumpit, you can download it from https://my.comae.io\n# Volatility  https://github.com/volatilityfoundation/volatility https://github.com/volatilityfoundation/volatility3 https://github.com/volatilityfoundation/volatility/wiki/Installation\n Clone it Download it from: https://www.volatilityfoundation.org/26\nOr I recommand to do:\ngit clone https://github.com/volatilityfoundation/volatility.git Dependencies   pycrypto2.6: Download pycrypto2.6 for python2.7\n  distorm3-3.3.4: Download distorm for x86\n  pyinstaller:\n  py -2 -m pip install pyinstaller C:\\Python27\\Scripts\\pyinstaller.exe -F pyinstaller.spec  construct  pip install construct Usage mimikatz git clone https://github.com/volatilityfoundation/volatility.git download mimikatz.py to ./volatility/plugins/ from https://github.com/RealityNet/hotoloti/blob/master/volatility/mimikatz.py\ndownload mimikatz.py directly\n# Get profile volatility.exe -f win7.raw imageinfo # Get password volatility.exe -f win7.raw --profile=Win7SP0x86 mimikatz # Get pslist and find out lsass\u0026#39; PID (the first number after `lsass.exe`) volatility.exe -f win7.raw --profile=Win7SP0x86 pslist | findstr \u0026#34;lsass\u0026#34;    # Study logs About lsass.exe Key point links:  LSA - [lsass.exe entry]: lsasrv.dll Msv - [LM, NTLM, SHA1]: lsasrv.dll Wdigest - [password]: wdigest.dll Kerberos: kerberos.dll Tspkg: TSpkg.dll SSP: msv1_0.dll LiveSsp: msv1_0.dll Dpapi: dpapisrv.dll or lsasrv.dll  All links: 00:\u0026#39;lsass.exe\u0026#39; 01:\u0026#39;ntdll.dll\u0026#39; 02:\u0026#39;kernel32.dll\u0026#39; 03:\u0026#39;KERNELBASE.dll\u0026#39; 04:\u0026#39;msvcrt.dll\u0026#39; 05:\u0026#39;RPCRT4.dll\u0026#39; 06:\u0026#39;SspiSrv.dll\u0026#39; 07:\u0026#39;lsasrv.dll\u0026#39; 08:\u0026#39;sechost.dll\u0026#39; 09:\u0026#39;SspiCli.dll\u0026#39; 10:\u0026#39;ADVAPI32.dll\u0026#39; 11:\u0026#39;USER32.dll\u0026#39; 12:\u0026#39;GDI32.dll\u0026#39; 13:\u0026#39;LPK.dll\u0026#39; 14:\u0026#39;USP10.dll\u0026#39; 15:\u0026#39;SAMSRV.dll\u0026#39; 16:\u0026#39;cryptdll.dll\u0026#39; 17:\u0026#39;MSASN1.dll\u0026#39; 18:\u0026#39;wevtapi.dll\u0026#39; 19:\u0026#39;IMM32.DLL\u0026#39; 20:\u0026#39;MSCTF.dll\u0026#39; 21:\u0026#39;cngaudit.dll\u0026#39; 22:\u0026#39;AUTHZ.dll\u0026#39; 23:\u0026#39;ncrypt.dll\u0026#39; 24:\u0026#39;bcrypt.dll\u0026#39; 25:\u0026#39;msprivs.DLL\u0026#39; 26:\u0026#39;netjoin.dll\u0026#39; 27:\u0026#39;bcryptprimitives.dll\u0026#39; 28:\u0026#39;negoexts.DLL\u0026#39; 29:\u0026#39;Secur32.dll\u0026#39; 30:\u0026#39;cryptbase.dll\u0026#39; 31:\u0026#39;kerberos.DLL\u0026#39; 32:\u0026#39;CRYPTSP.dll\u0026#39; 33:\u0026#39;WS2_32.dll\u0026#39; 34:\u0026#39;NSI.dll\u0026#39; 35:\u0026#39;mswsock.dll\u0026#39; 36:\u0026#39;wship6.dll\u0026#39; 37:\u0026#39;\u0026#39; 38:\u0026#39;netlogon.DLL\u0026#39; 39:\u0026#39;\u0026#39; 40:\u0026#39;logoncli.dll\u0026#39; 41:\u0026#39;schannel.DLL\u0026#39; 42:\u0026#39;\u0026#39; 43:\u0026#39;wdigest.DLL\u0026#39; 44:\u0026#39;rsaenh.dll\u0026#39; 45:\u0026#39;tspkg.DLL\u0026#39; 46:\u0026#39;pku2u.DLL\u0026#39; 47:\u0026#39;RpcRtRemote.dll\u0026#39; 48:\u0026#39;efslsaext.dll\u0026#39; 49:\u0026#39;scecli.DLL\u0026#39; 50:\u0026#39;credssp.dll\u0026#39; 51:\u0026#39;WINSTA.dll\u0026#39; 52:\u0026#39;IPHLPAPI.DLL\u0026#39; 53:\u0026#39;WINNSI.DLL\u0026#39; 54:\u0026#39;netutils.dll\u0026#39; 55:\u0026#39;wkscli.dll\u0026#39; 56:\u0026#39;USERENV.dll\u0026#39; 57:\u0026#39;profapi.dll\u0026#39; 58:\u0026#39;wshtcpip.dll\u0026#39; 59:\u0026#39;dssenh.dll\u0026#39; 60:\u0026#39;GPAPI.dll\u0026#39; 61:\u0026#39;cryptnet.dll\u0026#39; 62:\u0026#39;WLDAP32.dll\u0026#39; 63:\u0026#39;SHLWAPI.dll\u0026#39; 64:\u0026#39;SensApi.dll\u0026#39; 65:\u0026#39;WINHTTP.dll\u0026#39; 66:\u0026#39;webio.dll\u0026#39; 67:\u0026#39;dhcpcsvc6.DLL\u0026#39; 68:\u0026#39;dhcpcsvc.DLL\u0026#39; 69:\u0026#39;ole32.dll\u0026#39; 70:\u0026#39;CFGMGR32.dll\u0026#39; 71:\u0026#39;rasadhlp.dll\u0026#39; 72:\u0026#39;fwpuclnt.dll\u0026#39; __len__:73 How to find out Signatures? I found it by https://github.com/skelsec/pypykatz/tree/master/pypykatz/lsadecryptor/packages\nmsv templates    Target Windows Version Signature     XP ~ 2k3 b'\\x4c\\x8b\\xdf\\x49\\xc1\\xe3\\x04\\x48\\x8b\\xcb\\x4c\\x03\\xd8'   2k3 ~ Vista b'\\x4c\\x8b\\xdf\\x49\\xc1\\xe3\\x04\\x48\\x8b\\xcb\\x4c\\x03\\xd8'   Vista ~ Win7 b'\\x33\\xff\\x45\\x85\\xc0\\x41\\x89\\x75\\x00\\x4c\\x8b\\xe3\\x0f\\x84'   Win7 ~ Win8 b'\\x33\\xf6\\x45\\x89\\x2f\\x4c\\x8b\\xf3\\x85\\xff\\x0f\\x84'   Win8 ~ Win_Blue b'\\x33\\xff\\x41\\x89\\x37\\x4c\\x8b\\xf3\\x45\\x85\\xc0\\x74'   Win_Blue ~ WIN_10_1507 b'\\x8b\\xde\\x48\\x8d\\x0c\\x5b\\x48\\xc1\\xe1\\x05\\x48\\x8d\\x05'   WIN_10_1507 ~ WIN_10_1703 b'\\x33\\xff\\x41\\x89\\x37\\x4c\\x8b\\xf3\\x45\\x85\\xc0\\x74'   WIN_10_1703 ~ WIN_10_1803 b'\\x33\\xff\\x45\\x89\\x37\\x48\\x8b\\xf3\\x45\\x85\\xc9\\x74'   WIN_10_1803 ~ WIN_10_1903 b'\\x33\\xff\\x41\\x89\\x37\\x4c\\x8b\\xf3\\x45\\x85\\xc9\\x74'   WIN_10_1903 b'\\x33\\xff\\x41\\x89\\x37\\x4c\\x8b\\xf3\\x45\\x85\\xc0\\x74'    Get Credman Reference: howto ~ credential manager saved credentials\n  Get credentials from target:   xcopy /h /i /s %appdata%\\Microsoft\\Credentials .\\test\\AppDataCredentials xcopy /h /i /s %localappdata%\\Microsoft\\Credentials .\\test\\localAppDataCredentials xcopy /h /i /s %appdata%\\Microsoft\\Protect .\\test\\AppDataProtect  Analisis at local   mimikatz.exe \u0026#34;dpapi::cred /in:C:\\\\Users\\\\snow\\\\credman\\\\AppDataCredentials\\\\042450E3F8E1A3F429E61FE2963AA249\u0026#34; \u0026#34;exit\u0026#34; Return:\n.#####. mimikatz 2.2.0 (x86) #18362 Aug 14 2019 01:31:19 .## ^ ##. \u0026#34;A La Vie, A L\u0026#39;Amour\u0026#34; - (oe.eo) ## / \\ ## /*** Benjamin DELPY `gentilkiwi` ( benjamin@gentilkiwi.com ) ## \\ / ## \u0026gt; http://blog.gentilkiwi.com/mimikatz \u0026#39;## v ##\u0026#39; Vincent LE TOUX ( vincent.letoux@gmail.com ) \u0026#39;#####\u0026#39; \u0026gt; http://pingcastle.com / http://mysmartlogon.com ***/ mimikatz(commandline) # dpapi::cred /in:C:\\\\Users\\\\snow\\\\credman\\\\AppDataCredent ials\\\\042450E3F8E1A3F429E61FE2963AA249 **BLOB** dwVersion : 00000001 - 1 guidProvider : {df9d8cd0-1501-11d1-8c7a-00c04fc297eb} dwMasterKeyVersion : 00000001 - 1 guidMasterKey : {dc7aadf6-32ff-4aca-a053-80df0e637e00} dwFlags : 20000000 - 536870912 (system ; ) dwDescriptionLen : 0000003a - 58 szDescription : Enterprise Credential Data algCrypt : 00006610 - 26128 (CALG_AES_256) dwAlgCryptLen : 00000100 - 256 dwSaltLen : 00000020 - 32 pbSalt : 1071acb779a51788ab4f9bc7acc34ec8881b52608c931a4bc6a08b5db ae8f9ba dwHmacKeyLen : 00000000 - 0 pbHmackKey : algHash : 0000800e - 32782 (CALG_SHA_512) dwAlgHashLen : 00000200 - 512 dwHmac2KeyLen : 00000020 - 32 pbHmack2Key : 308761fa960dbd4d7f4ee788d44117a7b823b35092df3683e7023672c f551ef0 dwDataLen : 000000d0 - 208 pbData : 599b8ddcf80b900c90df0fe02dd31102a5e327b0967ba9d716cf5f5ff d605abaf6c9712ab9b87b8e873706b74e75d92b0c060c9572883fc5952210c0571057529022cc01c eda17e94577ac39339af3efff54c75a47c6d8a32af6f96681d19bf2f0878f16ca78e7105cdff3739 1c55bf80ad6f331a38bb995c8128c69d38e7988b59104e535e7cc33e1d6f487c26abe63eee8bec3d fce368dd470324b6c7623d89b42afe3ce933eee3d9998a104c35c065002968dd458ca7ecdea32fb7 b44820bee867be744b2b36a23107dda01c44ee1 dwSignLen : 00000040 - 64 pbSign : 6beb703e4a1c1b76c0a084f90199217ab4744e7ff5ff261330ab45a9b 987e20e50d6e899f0cc90c4769aa06fd054d4866b61d9ec341b6fd9a03e7d60fe6fee27 mimikatz(commandline) # exit Bye!   Get sth importent:  dwFlags : 20000000 - 536870912 (system ; ) guidMasterKey : {dc7aadf6-32ff-4aca-a053-80df0e637e00}    Decrypt:   volatility usage If u install by apt-get or download an executable file:\nvolatility -f WIN7.raw imageinfo # æ“ä½œç³»ç»Ÿä¿¡æ¯ volatility -f WIN7.raw --profile=Win7SP0x86 pslist # æŸ¥çœ‹è¿›ç¨‹ volatility -f WIN7.raw --profile=Win7SP0x86 hivelist # ç¼“å­˜åœ¨å†…å­˜ä¸­çš„æ³¨å†Œè¡¨ volatility -f WIN7.raw --profile=Win7SP0x86 hivedump -o # æ³¨å†Œè¡¨çš„ virtual åœ°å€ volatility -f WIN7.raw --profile=Win7SP0x86 printkey -K \u0026#34;SAM\\Domains\\Account\\Users\\Names\u0026#34; # SAM è¡¨ä¸­éƒ½æœ‰å“ªäº›ç”¨æˆ· volatility -f WIN7.raw --profile=Win7SP0x86 printkey -K â€œSOFTWARE\\Microsoft\\Windows NT\\CurrentVersion\\Winlogonâ€ # æœ€åç™»å½• If get it via git or source: To see available options, run python vol.py -h or python vol.py --info\npython vol.py --plugins=volatility/plugins --profile=Win7SP1x86 -f C:\\test\\win7.raw imageinfo # find out `lsass`\u0026#39;s pid -\u0026gt; 568 python vol.py --plugins=volatility/plugins --profile=Win7SP1x86 -f C:\\test\\win7.raw memdump -p 568 -D c:\\test python vol.py --plugins=volatility/plugins --profile=Win7SP1x86 -f C:\\test\\win7.raw mimikatz python C:\\Users\\Notebook\\Git\\python\\vol_mimikatz\\volatility\\vol.py --plugins=C:\\Users\\Notebook\\Git\\python\\vol_mimikatz\\volatility\\volatility\\plugins --profile=Win7SP1x86 -f C:\\test\\win7.raw mimikatz ","permalink":"https://wedojava.github.io/posts/volatility-mimikatz/","tags":["Volatility"," Mimikatz"],"title":"Volatility and Mimikatz"},{"categories":["C/C++"],"contents":" Reference:\n Screenshot C++ win32 api https://gist.github.com/rdp/9821698 How can I take a screenshot and save it as JPEG on Windows? Converting a BMP Image to a PNG Image  Retrieving the Class Identifier for an Encoder   c++é“¾æ¥æ—¶ï¼Œæ— æ³•è§£æçš„å¤–éƒ¨ç¬¦å· _GdipAllocç­‰ä¸€ç³»åˆ—æŠ¥é”™   I implemented screen shot from two methods, this post decription the way use [C/C++ win32 api] to get it, Python edition for screen shot is more easy than this, I\u0026rsquo;ll release it late also.\nJust tips I got via this project\u0026rsquo;s developing!  Get Screen\u0026rsquo;s Resolution  method one    INT width = GetSystemMetrics(SM_CXSCREEN); // å±å¹•å®½ INT height = GetSystemMetrics(SM_CYSCREEN); // å±å¹•é«˜ + method two  HDC hScreen = GetDC(NULL); RECT rect = { 0, 0, GetDeviceCaps(hScreen, HORZRES), GetDeviceCaps(hScreen, VERTRES) }; POINT a, b; a.x = LPRECT(\u0026amp;rect)-\u0026gt;left; a.y = LPRECT(\u0026amp;rect)-\u0026gt;top; b.x = LPRECT(\u0026amp;rect)-\u0026gt;right; b.y = LPRECT(\u0026amp;rect)-\u0026gt;bottom;  Add #pragma comment(lib,\u0026quot;gdiplus.lib\u0026quot;) to fix link error: error LNK2019: unresolved external symbol _GdipAlloc@4 etc. Better way to connect string:  #include \u0026lt;stdio.h\u0026gt;sprintf_s(filepath, \u0026#34;%s%s%s\u0026#34;, \u0026#34;dirPath\u0026#34;, \u0026#34;filename\u0026#34;, \u0026#34;.bmp\u0026#34;);  Convert CHAR* to WCHAR* (char* to wchar_t *):  #include \u0026lt;stdio.h\u0026gt;wchar_t* wfilepath = new wchar_t[50]; swprintf(wfilepath, 50, L\u0026#34;%hs\u0026#34;, \u0026#34;filepath\u0026#34;); Capture Screen One quick start Refer to Screenshot C++ win32 api, it is the quick and easy way to see while or not you can capture a screen by program C. Just run and paste to Paint. You can get achivement quickly and easy to get how to shot screen.\nAnother way to get it (Method one) Refer to https://gist.github.com/rdp/9821698 I follow the gist replies, and fixed memory leak resulted above: NOTICEï¼š Set properties in visule studio [Configuration]-\u0026gt;[General]-\u0026gt;[Character Set]-\u0026gt;Use Multi-Byte Character Set\n// compile this like g++ go2.c -lgdi32 [if you\u0026#39;re using mingw]  #include \u0026lt;windows.h\u0026gt;#include \u0026lt;stdio.h\u0026gt; // Helper function to retrieve current position of file pointer: inline int GetFilePointer(HANDLE FileHandle) { return SetFilePointer(FileHandle, 0, 0, FILE_CURRENT); } //---------------------------------------------------------------------------  // Screenshot // -\u0026gt; FileName: Name of file to save screenshot to // -\u0026gt; lpDDS: DirectDraw surface to capture // \u0026lt;- Result: Success // extern bool SaveBMPFile(char* filename, HBITMAP bitmap, HDC bitmapDC, int width, int height) { bool Success = false; HDC SurfDC = NULL; // GDI-compatible device context for the surface  HBITMAP OffscrBmp = NULL; // bitmap that is converted to a DIB  HDC OffscrDC = NULL; // offscreen DC that we can select OffscrBmp into  LPBITMAPINFO lpbi = NULL; // bitmap format info; used by GetDIBits  LPVOID lpvBits = NULL; // pointer to bitmap bits array  HANDLE BmpFile = INVALID_HANDLE_VALUE; // destination .bmp file  BITMAPFILEHEADER bmfh; // .bmp file header  // We need an HBITMAP to convert it to a DIB:  if ((OffscrBmp = CreateCompatibleBitmap(bitmapDC, width, height)) == NULL) return false; // The bitmap is empty, so let\u0026#39;s copy the contents of the surface to it.  // For that we need to select it into a device context. We create one.  if ((OffscrDC = CreateCompatibleDC(bitmapDC)) == NULL) return false; // Select OffscrBmp into OffscrDC:  HBITMAP OldBmp = (HBITMAP)SelectObject(OffscrDC, OffscrBmp); // Now we can copy the contents of the surface to the offscreen bitmap:  BitBlt(OffscrDC, 0, 0, width, height, bitmapDC, 0, 0, SRCCOPY); // GetDIBits requires format info about the bitmap. We can have GetDIBits  // fill a structure with that info if we pass a NULL pointer for lpvBits:  // Reserve memory for bitmap info (BITMAPINFOHEADER + largest possible  // palette):  if ((lpbi = (LPBITMAPINFO)(new char[sizeof(BITMAPINFOHEADER) + 256 * sizeof(RGBQUAD)])) == NULL) return false; ZeroMemory(\u0026amp;lpbi-\u0026gt;bmiHeader, sizeof(BITMAPINFOHEADER)); lpbi-\u0026gt;bmiHeader.biSize = sizeof(BITMAPINFOHEADER); // Get info but first de-select OffscrBmp because GetDIBits requires it:  SelectObject(OffscrDC, OldBmp); if (!GetDIBits(OffscrDC, OffscrBmp, 0, height, NULL, lpbi, DIB_RGB_COLORS)) return false; // Reserve memory for bitmap bits:  if ((lpvBits = new char[lpbi-\u0026gt;bmiHeader.biSizeImage]) == NULL) return false; // Have GetDIBits convert OffscrBmp to a DIB (device-independent bitmap):  if (!GetDIBits(OffscrDC, OffscrBmp, 0, height, lpvBits, lpbi, DIB_RGB_COLORS)) return false; // Create a file to save the DIB to:  if ((BmpFile = CreateFile(filename, GENERIC_WRITE, 0, NULL, CREATE_ALWAYS, FILE_ATTRIBUTE_NORMAL, NULL)) == INVALID_HANDLE_VALUE) return false; DWORD Written; // number of bytes written by WriteFile  // Write a file header to the file:  bmfh.bfType = 19778; // \u0026#39;BM\u0026#39;  // bmfh.bfSize = ??? // we\u0026#39;ll write that later  bmfh.bfReserved1 = bmfh.bfReserved2 = 0; // bmfh.bfOffBits = ??? // we\u0026#39;ll write that later  if (!WriteFile(BmpFile, \u0026amp;bmfh, sizeof(bmfh), \u0026amp;Written, NULL)) return false; if (Written \u0026lt; sizeof(bmfh)) return false; // Write BITMAPINFOHEADER to the file:  if (!WriteFile(BmpFile, \u0026amp;lpbi-\u0026gt;bmiHeader, sizeof(BITMAPINFOHEADER), \u0026amp;Written, NULL)) return false; if (Written \u0026lt; sizeof(BITMAPINFOHEADER)) return false; // Calculate size of palette:  int PalEntries; // 16-bit or 32-bit bitmaps require bit masks:  if (lpbi-\u0026gt;bmiHeader.biCompression == BI_BITFIELDS) PalEntries = 3; else // bitmap is palettized?  PalEntries = (lpbi-\u0026gt;bmiHeader.biBitCount \u0026lt;= 8) ? // 2^biBitCount palette entries max.:  (int)(1 \u0026lt;\u0026lt; lpbi-\u0026gt;bmiHeader.biBitCount) // bitmap is TrueColor -\u0026gt; no palette:  : 0; // If biClrUsed use only biClrUsed palette entries:  if (lpbi-\u0026gt;bmiHeader.biClrUsed) PalEntries = lpbi-\u0026gt;bmiHeader.biClrUsed; // Write palette to the file:  if (PalEntries) { if (!WriteFile(BmpFile, \u0026amp;lpbi-\u0026gt;bmiColors, PalEntries * sizeof(RGBQUAD), \u0026amp;Written, NULL)) return false; if (Written \u0026lt; PalEntries * sizeof(RGBQUAD)) return false; } // The current position in the file (at the beginning of the bitmap bits)  // will be saved to the BITMAPFILEHEADER:  bmfh.bfOffBits = GetFilePointer(BmpFile); // Write bitmap bits to the file:  if (!WriteFile(BmpFile, lpvBits, lpbi-\u0026gt;bmiHeader.biSizeImage, \u0026amp;Written, NULL)) return false; if (Written \u0026lt; lpbi-\u0026gt;bmiHeader.biSizeImage) return false; // The current pos. in the file is the final file size and will be saved:  bmfh.bfSize = GetFilePointer(BmpFile); // We have all the info for the file header. Save the updated version:  SetFilePointer(BmpFile, 0, 0, FILE_BEGIN); if (!WriteFile(BmpFile, \u0026amp;bmfh, sizeof(bmfh), \u0026amp;Written, NULL)) return false; if (Written \u0026lt; sizeof(bmfh)) return false; delete[] lpvBits; return true; } bool ScreenCapture(int x, int y, int width, int height, char* filename) { // get a DC compat. w/ the screen  HDC hDc = CreateCompatibleDC(0); // make a bmp in memory to store the capture in  HBITMAP hBmp = CreateCompatibleBitmap(GetDC(0), width, height); // join em up  SelectObject(hDc, hBmp); // copy from the screen to my bitmap  BitBlt(hDc, 0, 0, width, height, GetDC(0), x, y, SRCCOPY); // save my bitmap  bool ret = SaveBMPFile(filename, hBmp, hDc, width, height); // free the bitmap memory  DeleteObject(hBmp); DeleteDC(hDc); return ret; } int main() { char filename[100] = \u0026#34;testScreenCap.bmp\u0026#34;; int width = GetSystemMetrics(SM_CXSCREEN); int height = GetSystemMetrics(SM_CYSCREEN); bool ifSuccess = ScreenCapture(0, 0, width, height, filename); if (ifSuccess) { printf(\u0026#34;wrote to testScreenCap.bmp\u0026#34;); } return 0; } Another way to get it (Method two) NOTICEï¼š Set [Configuration]-\u0026gt;[General]-\u0026gt;[Character Set]-\u0026gt;Use Multi-Byte Character Set\n#include \u0026lt;windows.h\u0026gt; int CaptureImage(HWND hWnd, CHAR* dirPath, CHAR* filename); int main() { CHAR path[100] = \u0026#34;D:\\\\\u0026#34;; CHAR filename[100] = \u0026#34;hello\u0026#34;; CaptureImage(GetDesktopWindow(), path, filename); // ä¿å­˜ä¸º E:hello.bmp  return 0; } /** * GDI æˆªå–æŒ‡å®šçª—å£ * * å‚æ•° hwnd è¦æˆªå±çš„çª—å£å¥æŸ„ * å‚æ•° dirPath æˆªå›¾å­˜æ”¾ç›®å½• * å‚æ•° filename æˆªå›¾åç§° */ int CaptureImage(HWND hwnd, CHAR * dirPath, CHAR * filename) { HDC mdc; HBITMAP hbmp; CHAR FilePath[MAX_PATH]; HDC hdcScreen; HDC hdcWindow; HDC hdcMemDC = NULL; HBITMAP hbmScreen = NULL; BITMAP bmpScreen; RECT rcClient; BITMAPFILEHEADER bmfHeader; BITMAPINFOHEADER bi; DWORD dwBmpSize; HANDLE hDIB; CHAR* lpbitmap; HANDLE hFile; DWORD dwSizeofDIB; DWORD dwBytesWritten; hdcScreen = GetDC(NULL); // å…¨å±å¹•DC  hdcWindow = GetDC(hwnd); // æˆªå›¾ç›®æ ‡çª—å£DC  // åˆ›å»ºå…¼å®¹å†…å­˜DC  hdcMemDC = CreateCompatibleDC(hdcWindow); if (!hdcMemDC) { goto done; } // è·å–å®¢æˆ·ç«¯åŒºåŸŸç”¨äºè®¡ç®—å¤§å°  GetClientRect(hwnd, \u0026amp;rcClient); // è®¾ç½®å»¶å±•æ¨¡å¼  SetStretchBltMode(hdcWindow, HALFTONE); // æ¥æº DC æ˜¯æ•´ä¸ªå±å¹•è€Œç›®æ ‡ DC æ˜¯å½“å‰çš„çª—å£ (HWND)  if (!StretchBlt(hdcWindow, 0, 0, rcClient.right, rcClient.bottom, hdcScreen, 0, 0, GetSystemMetrics(SM_CXSCREEN), GetSystemMetrics(SM_CYSCREEN), SRCCOPY)) { goto done; } // é€šè¿‡çª—å£DC åˆ›å»ºä¸€ä¸ªå…¼å®¹ä½å›¾  hbmScreen = CreateCompatibleBitmap( hdcWindow, rcClient.right - rcClient.left, rcClient.bottom - rcClient.top ); if (!hbmScreen) { goto done; } // å°†ä½å›¾å—ä¼ é€åˆ°æˆ‘ä»¬å…¼å®¹çš„å†…å­˜DCä¸­  SelectObject(hdcMemDC, hbmScreen); if (!BitBlt( hdcMemDC, // ç›®çš„DC  0, 0, // ç›®çš„DCçš„ x,y åæ ‡  rcClient.right - rcClient.left, rcClient.bottom - rcClient.top, // ç›®çš„ DC çš„å®½é«˜  hdcWindow, // æ¥æºDC  0, 0, // æ¥æºDCçš„ x,y åæ ‡  SRCCOPY)) // ç²˜è´´æ–¹å¼  { goto done; } // è·å–ä½å›¾ä¿¡æ¯å¹¶å­˜æ”¾åœ¨ bmpScreen ä¸­  GetObject(hbmScreen, sizeof(BITMAP), \u0026amp;bmpScreen); bi.biSize = sizeof(BITMAPINFOHEADER); bi.biWidth = bmpScreen.bmWidth; bi.biHeight = bmpScreen.bmHeight; bi.biPlanes = 1; bi.biBitCount = 32; bi.biCompression = BI_RGB; bi.biSizeImage = 0; bi.biXPelsPerMeter = 0; bi.biYPelsPerMeter = 0; bi.biClrUsed = 0; bi.biClrImportant = 0; dwBmpSize = ((bmpScreen.bmWidth * bi.biBitCount + 31) / 32) * 4 * bmpScreen.bmHeight; // åœ¨ 32-bit Windows ç³»ç»Ÿä¸Š, GlobalAlloc å’Œ LocalAlloc æ˜¯ç”± HeapAlloc å°è£…æ¥çš„  // handle æŒ‡å‘è¿›ç¨‹é»˜è®¤çš„å †. æ‰€ä»¥å¼€é”€æ¯” HeapAlloc è¦å¤§  hDIB = GlobalAlloc(GHND, dwBmpSize); lpbitmap = (char*)GlobalLock(hDIB); // è·å–å…¼å®¹ä½å›¾çš„ä½å¹¶ä¸”æ‹·è´ç»“æœåˆ°ä¸€ä¸ª lpbitmap ä¸­.  GetDIBits( hdcWindow, // è®¾å¤‡ç¯å¢ƒå¥æŸ„  hbmScreen, // ä½å›¾å¥æŸ„  0, // æŒ‡å®šæ£€ç´¢çš„ç¬¬ä¸€ä¸ªæ‰«æçº¿  (UINT)bmpScreen.bmHeight, // æŒ‡å®šæ£€ç´¢çš„æ‰«æçº¿æ•°  lpbitmap, // æŒ‡å‘ç”¨æ¥æ£€ç´¢ä½å›¾æ•°æ®çš„ç¼“å†²åŒºçš„æŒ‡é’ˆ  (BITMAPINFO*)\u0026amp; bi, // è¯¥ç»“æ„ä½“ä¿å­˜ä½å›¾çš„æ•°æ®æ ¼å¼  DIB_RGB_COLORS // é¢œè‰²è¡¨ç”±çº¢ã€ç»¿ã€è“ï¼ˆRGBï¼‰ä¸‰ä¸ªç›´æ¥å€¼æ„æˆ  ); wsprintf(FilePath, \u0026#34;%s\\%s.bmp\u0026#34;, dirPath, filename); // åˆ›å»ºä¸€ä¸ªæ–‡ä»¶æ¥ä¿å­˜æ–‡ä»¶æˆªå›¾  hFile = CreateFile( FilePath, GENERIC_WRITE, 0, NULL, CREATE_ALWAYS, FILE_ATTRIBUTE_NORMAL, NULL ); // å°† å›¾ç‰‡å¤´(headers)çš„å¤§å°, åŠ ä¸Šä½å›¾çš„å¤§å°æ¥è·å¾—æ•´ä¸ªæ–‡ä»¶çš„å¤§å°  dwSizeofDIB = dwBmpSize + sizeof(BITMAPFILEHEADER) + sizeof(BITMAPINFOHEADER); // è®¾ç½® Offset åç§»è‡³ä½å›¾çš„ä½(bitmap bits)å®é™…å¼€å§‹çš„åœ°æ–¹  bmfHeader.bfOffBits = (DWORD)sizeof(BITMAPFILEHEADER) + (DWORD)sizeof(BITMAPINFOHEADER); // æ–‡ä»¶å¤§å°  bmfHeader.bfSize = dwSizeofDIB; // ä½å›¾çš„ bfType å¿…é¡»æ˜¯å­—ç¬¦ä¸² \u0026#34;BM\u0026#34;  bmfHeader.bfType = 0x4D42; //BM  dwBytesWritten = 0; WriteFile(hFile, (LPSTR)\u0026amp; bmfHeader, sizeof(BITMAPFILEHEADER), \u0026amp;dwBytesWritten, NULL); WriteFile(hFile, (LPSTR)\u0026amp; bi, sizeof(BITMAPINFOHEADER), \u0026amp;dwBytesWritten, NULL); WriteFile(hFile, (LPSTR)lpbitmap, dwBmpSize, \u0026amp;dwBytesWritten, NULL); // è§£é”å †å†…å­˜å¹¶é‡Šæ”¾  GlobalUnlock(hDIB); GlobalFree(hDIB); // å…³é—­æ–‡ä»¶å¥æŸ„  CloseHandle(hFile); // æ¸…ç†èµ„æº done: DeleteObject(hbmScreen); DeleteObject(hdcMemDC); ReleaseDC(NULL, hdcScreen); ReleaseDC(hwnd, hdcWindow); return 0; } Convert BMP to JPG or PNG Usefull cases:\n How can I take a screenshot and save it as JPEG on Windows? Converting a BMP Image to a PNG Image  Retrieving the Class Identifier for an Encoder   c++é“¾æ¥æ—¶ï¼Œæ— æ³•è§£æçš„å¤–éƒ¨ç¬¦å· _GdipAllocç­‰ä¸€ç³»åˆ—æŠ¥é”™  After two cases above coded, link error like referenced in function \u0026quot;public: static void * __cdecl Gdiplus::GdiplusBase::operator new(unsigned int)\u0026quot; (??2GdiplusBase@Gdiplus@@SAPAXI@Z) occured, you can code #pragma comment(lib,\u0026quot;gdiplus.lib\u0026quot;) at the top of your .cpp file to solve it.    if you wanna another format, exchange image/png to the list below:\n image/bmp image/jpeg image/gif image/tiff image/png  Code for convert bmp to png:\n#pragma comment(lib,\u0026#34;gdiplus.lib\u0026#34;) #include \u0026lt;windows.h\u0026gt;#include \u0026lt;gdiplus.h\u0026gt;#include \u0026lt;stdio.h\u0026gt;using namespace Gdiplus; INT GetEncoderClsid(const WCHAR* format, CLSID* pClsid); // helper function INT convert2png(); // By reference: // https://docs.microsoft.com/en-us/windows/win32/gdiplus/-gdiplus-converting-a-bmp-image-to-a-png-image-use INT convert2png() { // Initialize GDI+.  GdiplusStartupInput gdiplusStartupInput; ULONG_PTR gdiplusToken; GdiplusStartup(\u0026amp;gdiplusToken, \u0026amp;gdiplusStartupInput, NULL); CLSID encoderClsid; Status stat; Image* image = new Image(L\u0026#34;hello.bmp\u0026#34;); // Get the CLSID of the PNG encoder.  GetEncoderClsid(L\u0026#34;image/png\u0026#34;, \u0026amp;encoderClsid); //GetEncoderClsid(L\u0026#34;image/jpeg\u0026#34;, \u0026amp;encoderClsid);  stat = image-\u0026gt;Save(L\u0026#34;hello.png\u0026#34;, \u0026amp;encoderClsid, NULL); //stat = image-\u0026gt;Save(L\u0026#34;hello.jpg\u0026#34;, \u0026amp;encoderClsid, NULL);  if (stat == Ok) printf(\u0026#34;hello.png was saved successfully\\n\u0026#34;); else printf(\u0026#34;Failure: stat = %d\\n\u0026#34;, stat); delete image; GdiplusShutdown(gdiplusToken); return 0; } // By reference: // https://docs.microsoft.com/en-us/windows/win32/gdiplus/-gdiplus-retrieving-the-class-identifier-for-an-encoder-use int GetEncoderClsid(const WCHAR* format, CLSID* pClsid) { UINT num = 0; // number of image encoders  UINT size = 0; // size of the image encoder array in bytes  ImageCodecInfo* pImageCodecInfo = NULL; GetImageEncodersSize(\u0026amp;num, \u0026amp;size); if (size == 0) return -1; // Failure  pImageCodecInfo = (ImageCodecInfo*)(malloc(size)); if (pImageCodecInfo == NULL) return -1; // Failure  GetImageEncoders(num, size, pImageCodecInfo); for (UINT j = 0; j \u0026lt; num; ++j) { if (wcscmp(pImageCodecInfo[j].MimeType, format) == 0) { *pClsid = pImageCodecInfo[j].Clsid; free(pImageCodecInfo); return j; // Success  } } free(pImageCodecInfo); return -1; // Failure } My Final Result Code Here are some of my insights about official documents:\n Official document are often useful, such as my searching for convert bmp to jpg, the shortest and best code from microsoft docs. Just refer inform posts, maybe it\u0026rsquo;s a quick way to resolve our problem, but, we can knowing it, but donâ€™t know why, only officical document can tell you all if you patience enough.  For programe c/c++, for development environment differ, we also have to exhaust our effort to fix too many bugs, lost time for developing env, but not for developing business. So, share my env config here.\nMy Development environment configuration  Target Platform Version: 8.1 Platform Toolset: Visual Studio 2015 - Windows XP (v140_xp) Character Set: Use Multi-Byte Character Set  Complete code You can save the code below as a .cpp file to run, it can catpure your screen and save hello.bmp and hello.png files respectively. Good luck!\n#pragma comment(lib,\u0026#34;gdiplus.lib\u0026#34;) #include \u0026lt;windows.h\u0026gt;#include \u0026lt;gdiplus.h\u0026gt;#include \u0026lt;stdio.h\u0026gt;using namespace Gdiplus; int CaptureImage(HWND hWnd, CHAR* dirPath, CHAR* filename); INT GetEncoderClsid(const WCHAR* format, CLSID* pClsid); // helper function INT convert2png(); int main() { CHAR path[100] = \u0026#34;.\\\\\u0026#34;; CHAR filename[100] = \u0026#34;hello\u0026#34;; CaptureImage(GetDesktopWindow(), path, filename); // ä¿å­˜ä¸º E:hello.bmp  convert2png(); return 0; } // By reference: // https://docs.microsoft.com/en-us/windows/win32/gdiplus/-gdiplus-converting-a-bmp-image-to-a-png-image-use INT convert2png() { // Initialize GDI+.  GdiplusStartupInput gdiplusStartupInput; ULONG_PTR gdiplusToken; GdiplusStartup(\u0026amp;gdiplusToken, \u0026amp;gdiplusStartupInput, NULL); CLSID encoderClsid; Status stat; Image* image = new Image(L\u0026#34;hello.bmp\u0026#34;); // Get the CLSID of the PNG encoder.  GetEncoderClsid(L\u0026#34;image/png\u0026#34;, \u0026amp;encoderClsid); //GetEncoderClsid(L\u0026#34;image/jpeg\u0026#34;, \u0026amp;encoderClsid);  stat = image-\u0026gt;Save(L\u0026#34;hello.png\u0026#34;, \u0026amp;encoderClsid, NULL); //stat = image-\u0026gt;Save(L\u0026#34;hello.jpg\u0026#34;, \u0026amp;encoderClsid, NULL);  if (stat == Ok) printf(\u0026#34;hello.png was saved successfully\\n\u0026#34;); else printf(\u0026#34;Failure: stat = %d\\n\u0026#34;, stat); delete image; GdiplusShutdown(gdiplusToken); return 0; } // By reference: // https://docs.microsoft.com/en-us/windows/win32/gdiplus/-gdiplus-retrieving-the-class-identifier-for-an-encoder-use int GetEncoderClsid(const WCHAR* format, CLSID* pClsid) { UINT num = 0; // number of image encoders  UINT size = 0; // size of the image encoder array in bytes  ImageCodecInfo* pImageCodecInfo = NULL; GetImageEncodersSize(\u0026amp;num, \u0026amp;size); if (size == 0) return -1; // Failure  pImageCodecInfo = (ImageCodecInfo*)(malloc(size)); if (pImageCodecInfo == NULL) return -1; // Failure  GetImageEncoders(num, size, pImageCodecInfo); for (UINT j = 0; j \u0026lt; num; ++j) { if (wcscmp(pImageCodecInfo[j].MimeType, format) == 0) { *pClsid = pImageCodecInfo[j].Clsid; free(pImageCodecInfo); return j; // Success  } } free(pImageCodecInfo); return -1; // Failure } /** * GDI æˆªå–æŒ‡å®šçª—å£ * * å‚æ•° hwnd è¦æˆªå±çš„çª—å£å¥æŸ„ * å‚æ•° dirPath æˆªå›¾å­˜æ”¾ç›®å½• * å‚æ•° filename æˆªå›¾åç§° */ int CaptureImage(HWND hwnd, CHAR* dirPath, CHAR* filename) { HDC mdc; HBITMAP hbmp; CHAR FilePath[MAX_PATH]; HDC hdcScreen; HDC hdcWindow; HDC hdcMemDC = NULL; HBITMAP hbmScreen = NULL; BITMAP bmpScreen; RECT rcClient; BITMAPFILEHEADER bmfHeader; BITMAPINFOHEADER bi; DWORD dwBmpSize; HANDLE hDIB; CHAR* lpbitmap; HANDLE hFile; DWORD dwSizeofDIB; DWORD dwBytesWritten; hdcScreen = GetDC(NULL); // å…¨å±å¹•DC  hdcWindow = GetDC(hwnd); // æˆªå›¾ç›®æ ‡çª—å£DC  // åˆ›å»ºå…¼å®¹å†…å­˜DC  hdcMemDC = CreateCompatibleDC(hdcWindow); if (!hdcMemDC) { goto done; } // è·å–å®¢æˆ·ç«¯åŒºåŸŸç”¨äºè®¡ç®—å¤§å°  GetClientRect(hwnd, \u0026amp;rcClient); // è®¾ç½®å»¶å±•æ¨¡å¼  SetStretchBltMode(hdcWindow, HALFTONE); // æ¥æº DC æ˜¯æ•´ä¸ªå±å¹•è€Œç›®æ ‡ DC æ˜¯å½“å‰çš„çª—å£ (HWND)  if (!StretchBlt(hdcWindow, 0, 0, rcClient.right, rcClient.bottom, hdcScreen, 0, 0, GetSystemMetrics(SM_CXSCREEN), GetSystemMetrics(SM_CYSCREEN), SRCCOPY)) { goto done; } // é€šè¿‡çª—å£DC åˆ›å»ºä¸€ä¸ªå…¼å®¹ä½å›¾  hbmScreen = CreateCompatibleBitmap( hdcWindow, rcClient.right - rcClient.left, rcClient.bottom - rcClient.top ); if (!hbmScreen) { goto done; } // å°†ä½å›¾å—ä¼ é€åˆ°æˆ‘ä»¬å…¼å®¹çš„å†…å­˜DCä¸­  SelectObject(hdcMemDC, hbmScreen); if (!BitBlt( hdcMemDC, // ç›®çš„DC  0, 0, // ç›®çš„DCçš„ x,y åæ ‡  rcClient.right - rcClient.left, rcClient.bottom - rcClient.top, // ç›®çš„ DC çš„å®½é«˜  hdcWindow, // æ¥æºDC  0, 0, // æ¥æºDCçš„ x,y åæ ‡  SRCCOPY)) // ç²˜è´´æ–¹å¼  { goto done; } // è·å–ä½å›¾ä¿¡æ¯å¹¶å­˜æ”¾åœ¨ bmpScreen ä¸­  GetObject(hbmScreen, sizeof(BITMAP), \u0026amp;bmpScreen); bi.biSize = sizeof(BITMAPINFOHEADER); bi.biWidth = bmpScreen.bmWidth; bi.biHeight = bmpScreen.bmHeight; bi.biPlanes = 1; bi.biBitCount = 32; bi.biCompression = BI_RGB; bi.biSizeImage = 0; bi.biXPelsPerMeter = 0; bi.biYPelsPerMeter = 0; bi.biClrUsed = 0; bi.biClrImportant = 0; dwBmpSize = ((bmpScreen.bmWidth * bi.biBitCount + 31) / 32) * 4 * bmpScreen.bmHeight; // åœ¨ 32-bit Windows ç³»ç»Ÿä¸Š, GlobalAlloc å’Œ LocalAlloc æ˜¯ç”± HeapAlloc å°è£…æ¥çš„  // handle æŒ‡å‘è¿›ç¨‹é»˜è®¤çš„å †. æ‰€ä»¥å¼€é”€æ¯” HeapAlloc è¦å¤§  hDIB = GlobalAlloc(GHND, dwBmpSize); lpbitmap = (char*)GlobalLock(hDIB); // è·å–å…¼å®¹ä½å›¾çš„ä½å¹¶ä¸”æ‹·è´ç»“æœåˆ°ä¸€ä¸ª lpbitmap ä¸­.  GetDIBits( hdcWindow, // è®¾å¤‡ç¯å¢ƒå¥æŸ„  hbmScreen, // ä½å›¾å¥æŸ„  0, // æŒ‡å®šæ£€ç´¢çš„ç¬¬ä¸€ä¸ªæ‰«æçº¿  (UINT)bmpScreen.bmHeight, // æŒ‡å®šæ£€ç´¢çš„æ‰«æçº¿æ•°  lpbitmap, // æŒ‡å‘ç”¨æ¥æ£€ç´¢ä½å›¾æ•°æ®çš„ç¼“å†²åŒºçš„æŒ‡é’ˆ  (BITMAPINFO*)\u0026amp; bi, // è¯¥ç»“æ„ä½“ä¿å­˜ä½å›¾çš„æ•°æ®æ ¼å¼  DIB_RGB_COLORS // é¢œè‰²è¡¨ç”±çº¢ã€ç»¿ã€è“ï¼ˆRGBï¼‰ä¸‰ä¸ªç›´æ¥å€¼æ„æˆ  ); wsprintf(FilePath, \u0026#34;%s\\%s.bmp\u0026#34;, dirPath, filename); // åˆ›å»ºä¸€ä¸ªæ–‡ä»¶æ¥ä¿å­˜æ–‡ä»¶æˆªå›¾  hFile = CreateFile( FilePath, GENERIC_WRITE, 0, NULL, CREATE_ALWAYS, FILE_ATTRIBUTE_NORMAL, NULL ); // å°† å›¾ç‰‡å¤´(headers)çš„å¤§å°, åŠ ä¸Šä½å›¾çš„å¤§å°æ¥è·å¾—æ•´ä¸ªæ–‡ä»¶çš„å¤§å°  dwSizeofDIB = dwBmpSize + sizeof(BITMAPFILEHEADER) + sizeof(BITMAPINFOHEADER); // è®¾ç½® Offset åç§»è‡³ä½å›¾çš„ä½(bitmap bits)å®é™…å¼€å§‹çš„åœ°æ–¹  bmfHeader.bfOffBits = (DWORD)sizeof(BITMAPFILEHEADER) + (DWORD)sizeof(BITMAPINFOHEADER); // æ–‡ä»¶å¤§å°  bmfHeader.bfSize = dwSizeofDIB; // ä½å›¾çš„ bfType å¿…é¡»æ˜¯å­—ç¬¦ä¸² \u0026#34;BM\u0026#34;  bmfHeader.bfType = 0x4D42; //BM  dwBytesWritten = 0; WriteFile(hFile, (LPSTR)\u0026amp; bmfHeader, sizeof(BITMAPFILEHEADER), \u0026amp;dwBytesWritten, NULL); WriteFile(hFile, (LPSTR)\u0026amp; bi, sizeof(BITMAPINFOHEADER), \u0026amp;dwBytesWritten, NULL); WriteFile(hFile, (LPSTR)lpbitmap, dwBmpSize, \u0026amp;dwBytesWritten, NULL); // è§£é”å †å†…å­˜å¹¶é‡Šæ”¾  GlobalUnlock(hDIB); GlobalFree(hDIB); // å…³é—­æ–‡ä»¶å¥æŸ„  CloseHandle(hFile); // æ¸…ç†èµ„æº done: DeleteObject(hbmScreen); DeleteObject(hdcMemDC); ReleaseDC(NULL, hdcScreen); ReleaseDC(hwnd, hdcWindow); return 0; } ","permalink":"https://wedojava.github.io/posts/c-capturescreen-screenshot/","tags":["C++"," C"," win32"," screen"," shot"," capture"],"title":"Capture Screen or Screen Shot [C/C++ win32 api]"},{"categories":["HAProxy"],"contents":" Reference: http://cbonte.github.io/haproxy-dconv/1.9/configuration.html#2.5\n No introduce, no advanced usage, also no tutor for how to install, just config to implement proxy.\nThe case there is so easy so you can get sense of achivement quickly.\nMy Goal If I type ssh username@127.0.0.1 -p80 at vps1(127.0.0.1), it\u0026rsquo;ll connect to vps2(123.123.123.123:22)!\nConditions  vps1\u0026rsquo;s port 80 is open vps2\u0026rsquo;s port 22 is open haproxy was installed in vps1(127.0.0.1)  Configuration global log /dev/log local0 log /dev/log local1 notice chroot /var/lib/haproxy stats socket /run/haproxy/admin.sock mode 660 level admin expose-fd listeners stats timeout 30s user haproxy group haproxy daemon # Default SSL material locations ca-base /etc/ssl/certs crt-base /etc/ssl/private # See: https://ssl-config.mozilla.org/#server=haproxy\u0026amp;server-version=2.0.3\u0026amp;config=intermediate ssl-default-bind-ciphers ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:DHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-GCM-SHA384 ssl-default-bind-ciphersuites TLS_AES_128_GCM_SHA256:TLS_AES_256_GCM_SHA384:TLS_CHACHA20_POLY1305_SHA256 ssl-default-bind-options no-sslv3 no-tlsv10 no-tlsv11 no-tls-tickets defaults log global mode http # option httplog # option dontlognull timeout connect 5000 timeout client 50000 timeout server 50000 errorfile 400 /etc/haproxy/errors/400.http errorfile 403 /etc/haproxy/errors/403.http errorfile 408 /etc/haproxy/errors/408.http errorfile 500 /etc/haproxy/errors/500.http errorfile 502 /etc/haproxy/errors/502.http errorfile 503 /etc/haproxy/errors/503.http errorfile 504 /etc/haproxy/errors/504.http frontend tcp-33-front bind *:33 mode tcp default_backend tcp-33-back backend tcp-33-back mode tcp server tcp-33 123.123.123.123:22 check listen test bind *:80 mode tcp server centos 123.123.123.123:22 check port 22 inter 5000 fall 5 Then, run the command below to verify the syntex is right.\nhaproxy -f /etc/haproxy/haproxy.cfg -c No error occur, yeap, run it!\nhaproxy -f /etc/haproxy/haproxy.cfg Now, you can run ssh -p33 vagrant@127.0.0.1 or ssh -p80 vagrant@127.0.0.1 to connect to vps2(123.123.123.123) on ssh:22.\nSimple Working Principle This is core config:\nfrontend tcp-33-front bind *:33 mode tcp default_backend tcp-33-back backend tcp-33-back mode tcp server tcp-33 123.123.123.123:22 check listen test bind *:80 mode tcp server centos 123.123.123.123:22 check port 22 inter 5000 fall 5 also, you can just use one part of it!\nlisten style: All data access to port 80 will pass to 22!\nlisten test bind *:80 mode tcp server centos 123.123.123.123:22 check port 22 inter 5000 fall 5 OR\nAll data access to port 33 will pass to 22!\nfrontend tcp-33-front bind *:33 mode tcp default_backend tcp-33-back backend tcp-33-back mode tcp server tcp-33 123.123.123.123:22 check haproxy process look up: ps -ef | grep haproxy .\nBind ports! Reference: http://cbonte.github.io/haproxy-dconv/1.8/configuration.html#bind\n It is possible to specify a list of address:port combinations delimited by commas. There is no fixed limit to the number of addresses and ports which can be listened on in a frontend, as well as there is no limit to the number of \u0026ldquo;bind\u0026rdquo; statements in a frontend.\n SO, YOU CAN WRITE frontend like this:\nbind :33, :44 bind 10.0.0.1:55, 10.0.0.1:66 EOF\n","permalink":"https://wedojava.github.io/posts/haproxy-simple-usage/","tags":["HAProxy"," proxy"," example"],"title":"HAProxy Simple Usage"},{"categories":["C/C++"],"contents":"Continuous update!\nMisc  VC6.0 non-console program output debugging method:  download DebugView and run, insert code below to you program:    OutputDebugString(charParam); OutputDebugStringW(wchar_tParam);   how to fix, while VC6.0 console in the debugger after can not be closed:\n vc++6.0ä¸­è°ƒè¯•ç¨‹åºåå‡ºæ¥çš„æ§åˆ¶å°å…³ä¸æ‰æ€ä¹ˆåŠ somewhat maybe your OS based on x64    \u0026ldquo;a string \u0026quot; + 123 -\u0026gt; \u0026ldquo;a string 123\u0026rdquo;:\n  i = 1; char stringMerged[100] = { 0 }; sprintf(stringMerged, \u0026#34;%s%d\u0026#34;, filename, i); // stringMerged == \u0026#34;a string \u0026#34;, i == 123 // now, stringMerged == \u0026#34;a string 123\u0026#34;   \u0026lsquo;wcslen\u0026rsquo; : cannot convert parameter 1 from \u0026lsquo;char [260]\u0026rsquo; to \u0026lsquo;const unsigned short *\u0026rsquo;\n  get argv[1]:\n  char* filename = new char[argv[1].length() + 1]; strcpy(filename, keyword.c_str()); // now, filename is the first arg\u0026#39;s value  get arguments from WinMain()\u0026rsquo;s lpCmdLine:  method one:    #include \u0026lt;stdlib.h\u0026gt;... int argc = __argc;; char** argv = __argv; ... + mothod two: [CommandLineToArgvW function](https://docs.microsoft.com/en-us/windows/win32/api/shellapi/nf-shellapi-commandlinetoargvw)   Example for the using above:  #include \u0026#34;stdafx.h\u0026#34;#include \u0026lt;windows.h\u0026gt;#include \u0026lt;stdio.h\u0026gt; // for sprintf#include \u0026lt;stdlib.h\u0026gt; // Forward declarations: int main(int argc, char* argv[]); int APIENTRY WinMain(HINSTANCE hInstance, HINSTANCE hPrevInstance, LPSTR lpCmdLine, int nCmdShow) { int argc = __argc; char** argv = __argv; main(argc, argv); return 0; } int main(int argc, char* argv[]) { char args[100] = \u0026#34;appName.exe\u0026#34;; if(argc == 2) { sprintf(args, \u0026#34;%s %s\u0026#34;, args, argv[1]); } if(argc == 3) { sprintf(args, \u0026#34;%s %s %s\u0026#34;, args, argv[1], argv[2]); } WinExec(args,SW_HIDE); return 0; } Useful functions  Create Dir:  #define R_OK 4 /* Test for read permission. */#define W_OK 2 /* Test for write permission. */#define X_OK 1 /* Test for execute permission. */#define F_OK 0 /* Test for existence. */int DirCreate(string path) { // if _access(path.c_str(), R_OK) == 0 the folder exist!  if (_access(path.c_str(), R_OK) == -1) // vc6.0  { int flag = _mkdir(path.c_str()); // mkdir successfully return 0  return flag; } return 0; }  Get Tmp folder:  char tmp[200]; int GetTmp() { DWORD dwRetVal = 0; TCHAR szTempFileName[MAX_PATH]; TCHAR lpTempPathBuffer[MAX_PATH]; HANDLE hFile = INVALID_HANDLE_VALUE; dwRetVal = GetTempPath(MAX_PATH, lpTempPathBuffer); if (dwRetVal \u0026lt; MAX_PATH || (dwRetVal != 0)) { memset(tmp, 0, 200); wcstombs(tmp, lpTempPathBuffer, wcslen(lpTempPathBuffer) + 1); } return 0; } Convert types  const char* to char*:  strdup(\u0026#34;My string literal!\u0026#34;); // method one // or (char*)\u0026#34;My string literal!\u0026#34; // method two  char* argv[] to int:  char *p; capNum = strtol(argv[2], \u0026amp;p, 10);  char [] to wchar_t*  char filepath[100] = { 0 }; filepath = \u0026#34;filename\u0026#34;; wchar_t* wfilepath = new wchar_t[50]; swprintf(wfilepath, L\u0026#34;%hs\u0026#34;, filepath); // vc6.0 swprintf(wfilepath, 50, L\u0026#34;%hs\u0026#34;, filepath); // vs2015 vs2019  char* to string:  char *buf = \u0026#34;test\u0026#34;; string s = buf; // or char *buf = \u0026#34;test\u0026#34;; std::string s(buf); // or char *buf = \u0026#34;test\u0026#34;; std::string s(buf, sizeof(buf)); ","permalink":"https://wedojava.github.io/posts/program-c-basic-tips/","tags":["C++"," C"," win32"," debug"," functions"," convert"," char"," int"],"title":"Program C Basic Tips [C/C++]"},{"categories":["Nginx"],"contents":"{% centerquote %} è®©ä½ çš„ç½‘ç«™ https èµ·æ¥å§ï¼ {% endcenterquote %}\n1. Enable TLS  Reference: https://letsencrypt.org https://certbot.eff.org\n 1.1. Setup Certbot Enable EPEL repo:\n$ sudo yum install epel-release $ sudo yum install subscription-manager $ subscription-manager repos --enable \u0026quot;rhel-*-optional-rpms\u0026quot; --enable \u0026quot;rhel-*-extras-rpms\u0026quot;  If you are using CentOS, you can enable the optional channel by running:\n$ sudo yum -y install yum-utils $ sudo yum-config-manager --enable rhui-REGION-rhel-server-extras rhui-REGION-rhel-server-optional  After doing this, you can install Certbot by running:\n$ sudo yum install certbot python2-certbot-nginx  If No package certbot available. occur, try the below:\n$ sudo yum install certbot-nginx  1.2. Enable TLS $ sudo certbot --nginx {% note default %}\nBut, Notice! If you install nginx by source make, you need to set options like above:\n$ sudo certbot --nginx --nginx-ctl /usr/local/nginx/nginx --nginx-server-root /usr/local/nginx {% endnote %}\nThen currect resulted is similar below:\nIMPORTANT NOTES: - Congratulations! Your certificate and chain have been saved at: /etc/letsencrypt/live/kelimelerdunyasi.org/fullchain.pem Your key file has been saved at: /etc/letsencrypt/live/kelimelerdunyasi.org/privkey.pem Your cert will expire on 2019-07-23. To obtain a new or tweaked version of this certificate in the future, simply run certbot again with the \u0026quot;certonly\u0026quot; option. To non-interactively renew *all* of your certificates, run \u0026quot;certbot renew\u0026quot; - Your account credentials have been saved in your Certbot configuration directory at /etc/letsencrypt. You should make a secure backup of this folder now. This configuration directory will also contain certificates and private keys obtained by Certbot so making regular backups of this folder is ideal. - If you like Certbot, please consider supporting our work by: Donating to ISRG / Let's Encrypt: https://letsencrypt.org/donate Donating to EFF: https://eff.org/donate-le  2. Automating renewal 2.1.Test Test automatic renewal for your certificates by running this command:\n$ sudo certbot renew --dry-run return:\nSaving debug log to /var/log/letsencrypt/letsencrypt.log - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - Processing /etc/letsencrypt/renewal/kelimelerdunyasi.org.conf - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - Cert not due for renewal, but simulating renewal for dry run Plugins selected: Authenticator nginx, Installer nginx Starting new HTTPS connection (1): acme-staging-v02.api.letsencrypt.org Renewing an existing certificate Performing the following challenges: http-01 challenge for kelimelerdunyasi.org Waiting for verification... Cleaning up challenges Resetting dropped connection: acme-staging-v02.api.letsencrypt.org - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - new certificate deployed with reload of nginx server; fullchain is /etc/letsencrypt/live/kelimelerdunyasi.org/fullchain.pem - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - ** DRY RUN: simulating \u0026#39;certbot renew\u0026#39; close to cert expiry ** (The test certificates below have not been saved.) Congratulations, all renewals succeeded. The following certs have been renewed: /etc/letsencrypt/live/kelimelerdunyasi.org/fullchain.pem (success) ** DRY RUN: simulating \u0026#39;certbot renew\u0026#39; close to cert expiry ** (The test certificates above have not been saved.) - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - IMPORTANT NOTES: - Your account credentials have been saved in your Certbot configuration directory at /etc/letsencrypt. You should make a secure backup of this folder now. This configuration directory will also contain certificates and private keys obtained by Certbot so making regular backups of this folder is ideal. If return contain Congratulations, all renewals succeeded. means configuration is current.\n2.2. Automating renewal setup sudo crontab -e Insert line below:\n00 00 * * 1 certbot renew --post-hook \u0026#34;/usr/local/nginx/nginx -s reload\u0026#34; Than, certificate will renewal every week.\n2.3. Verify the certificate Visit https://www.ssllabs.com to verify certificate\n EOF\n","permalink":"https://wedojava.github.io/posts/how-to-enable-tls-in-nginx-by-letsencrypt/","tags":["nginx"," https"," tls"],"title":"How to enable TLS in Nginx by Let's Encrypt"},{"categories":["Hexo"],"contents":"{% centerquote ç‹å°æ³¢ %} äººçš„ä¸€åˆ‡ç—›è‹¦ï¼Œæœ¬è´¨ä¸Šéƒ½æ˜¯å¯¹è‡ªå·±æ— èƒ½çš„æ„¤æ€’ã€‚ {% endcenterquote %}\nWhy Utterances?  The most similar comments to github issue. Emoji add free as github issue. Markdown support. Data storage can be trusted and stable, thanks to github.  But my choice is Valine Oh my, after study utterances, I have to changed my choice to Valine:\n utterances need to modify many theme files, I think I\u0026rsquo;ll forget where to restore it. utterances\u0026rsquo;s replies are not smart enough. utterances has more differ from github issue after all, it lost some great features like reply. utterances cannot display count of comments at home page. Valine not the best one but enough for me, except add emoji free to bottom line.  So, this post is just a study and successful attempt for utterances.\nWhy not Gitment or Gitalk? Reference:\n https://github.com/imsun/gitment#is-it-safe-to-make-my-client-secret-public https://blog.wolfogre.com/posts/security-problem-of-gitment/  How to use Utterances? Fill out: utterances -\u0026gt; configuration, you can get a script.\nThen:\ntouch \u0026lt;your theme path\u0026gt;/layout/_third-party/comments/utterances.swig vim \u0026lt;your theme path\u0026gt;/layout/_third-party/comments/utterances.swig  Add code below to utterances.swig:\n{% if theme.utterances.enable %} \u0026lt;script src=\u0026#34;https://utteranc.es/client.js\u0026#34; repo=\u0026#34;{{ theme.utterances.repo }}\u0026#34; issue-term=\u0026#34;{{ theme.utterances.issue_term }}\u0026#34; label=\u0026#34;{{ theme.utterances.label }}\u0026#34; theme=\u0026#34;{{ theme.utterances.theme }}\u0026#34; crossorigin=\u0026#34;anonymous\u0026#34; async\u0026gt; \u0026lt;/script\u0026gt; {% endif %} vim \u0026lt;your theme path\u0026gt;/layout/_partials/comments.swig  Refer to the following to modify comments.swig:\n{% elseif theme.valine.enable and theme.valine.appid and theme.valine.appkey %} \u0026lt;div class=\u0026#34;comments\u0026#34; id=\u0026#34;comments\u0026#34;\u0026gt; \u0026lt;/div\u0026gt; + + {% elseif theme.utterances.enable %} + \u0026lt;div class=\u0026#34;comments\u0026#34; id=\u0026#34;comments\u0026#34;\u0026gt; + {% include \u0026#39;../_third-party/comments/utterances.swig\u0026#39; %} + \u0026lt;/div\u0026gt; {% endif %} vim \u0026lt;your theme path\u0026gt;/_config.yml  Add following to _config.yml:\nutterances: enable: true repo: # owner/repo issue_term: # pathname, url, title, og:title [ISSUE NUMBER] or [SPECIFIC TERM] theme: # github-light or github-dark label: ğŸ’¬Comments # The label must exist in your repo, mine is ğŸ’¬Comments {% note danger %} Tips:\n currect format: repo: # owner/repo wrong format: repo: # https://github.com/owner/repo.git {% endnote %}   Reference:\n https://www.njphper.com/posts/a4cd94b2.html https://wangjiezhe.com/posts/2018-10-29-Hexo-NexT-3/\n EOF\n","permalink":"https://wedojava.github.io/posts/use-utteranc-as-hexo-comments/","tags":["hexo"," Utterances"," next"],"title":"Use utterances as Hexo Next theme comments"},{"categories":["python"],"contents":"I coped with character type coversion to let it looks like c type, and search bytes from *.dll to modify it. so, there is sth I learned and written down here.\n# Binary I/O operation Define!\ndef hex_read(filepath: str) -\u0026gt; bytearray: if os.path.isfile(filepath): with open(filepath, \u0026#39;rb\u0026#39;) as f: data = bytearray(f.read()) return data Usage:\ndll_data = hex_read(\u0026#39;D:\\\\test\\\\test.dll\u0026#39;) Find bytes and replace it:\nindex_start = dll_data.find(b\u0026#39;\\x85\\x69\\xf0\\x7f\u0026#39;) index_end = index_start + 100 if index_start != -1: data_old = dll_data[index_start:index_end] data_new = replacebytes # replacebytes is the content you want to replace dll_data_new = dll_data.replace(data_old, data_new) with open(\u0026#39;D:\\\\test\\\\test.dll\u0026#39;, \u0026#39;wb\u0026#39;) as f: f.write(dll_data_new) ","permalink":"https://wedojava.github.io/posts/binary-io-operation/","tags":["binary"," bytes"," read"," write"," python"," bytearray"],"title":"Binary I/O operation"},{"categories":["python"],"contents":" Reference:\n https://docs.python.org/zh-cn/3/library/stdtypes.html https://docs.python.org/zh-cn/3/library/struct.html   # Python Types Coversion hey, there are some usefull features below, I will update at intervals:\nbit_length() New in version 3.1:\nIn [73]: n = -37 In [74]: bin(n) Out[74]: '-0b100101' In [75]: n.bit_length() Out[75]: 6  hex to int:\nIn [59]: int('0x22357', 16) Out[59]: 140119  int to hex:\nIn [32]: hex(141128) Out[32]: '0x22748'  packed binary data to int:\nIn [70]: struct.unpack(\u0026quot;I\u0026quot;, b'\\x57\\x23\\x02\\x00') Out[70]: (140119,) In [71]: type(struct.unpack(\u0026quot;I\u0026quot;, b'\\x57\\x23\\x02\\x00')) Out[71]: tuple In [72]: struct.unpack(\u0026quot;I\u0026quot;, b'\\x57\\x23\\x02\\x00')[0] Out[72]: 140119   what is param \u0026ldquo;I\u0026rdquo;? Read More about struct  int to packed binary data:\nIn [91]: struct.pack('I', 140119) Out[91]: b'W#\\x02\\x00' In [92]: struct.pack('I', 140119).hex() Out[92]: '57230200' ","permalink":"https://wedojava.github.io/posts/hex-b-str-int-switch-in-python/","tags":["hex"," byte"," string"," int"," python"," covert"],"title":"Hex byte string int coversion"},{"categories":["ç¿»å¢™"],"contents":"Reference: https://toutyrater.github.io/prep/install.html\n# 1. Install Install or update by script:\nwget https://install.direct/go.sh sudo bash go.sh  Return:\nPORT:111 UUID:9d1712fd-f641-4be9-b2ca-99c9dc000aeb  # 2. Config 2.1. WebSocket+TLS+Web Stable but not fast!\nServer /etc/v2ray/config.json :\n{ \u0026#34;inbounds\u0026#34;: [{ \u0026#34;port\u0026#34;: 111, \u0026#34;listen\u0026#34;: \u0026#34;127.0.0.1\u0026#34;, \u0026#34;protocol\u0026#34;: \u0026#34;vmess\u0026#34;, \u0026#34;settings\u0026#34;: { \u0026#34;clients\u0026#34;: [ { \u0026#34;id\u0026#34;: \u0026#34;9d1712fd-f641-4be9-b2ca-99c9dc000aeb\u0026#34;, \u0026#34;level\u0026#34;: 1, \u0026#34;alterId\u0026#34;: 64 } ] }, \u0026#34;streamSettings\u0026#34;: { \u0026#34;network\u0026#34;: \u0026#34;ws\u0026#34;, \u0026#34;wsSettings\u0026#34;: { \u0026#34;path\u0026#34;: \u0026#34;/wahaha\u0026#34; } } }], \u0026#34;outbounds\u0026#34;: [{ \u0026#34;protocol\u0026#34;: \u0026#34;freedom\u0026#34;, \u0026#34;settings\u0026#34;: {} }] } Client:\n{ \u0026#34;inbounds\u0026#34;: [ { \u0026#34;port\u0026#34;: 1080, \u0026#34;listen\u0026#34;: \u0026#34;127.0.0.1\u0026#34;, \u0026#34;protocol\u0026#34;: \u0026#34;socks\u0026#34;, \u0026#34;sniffing\u0026#34;: { \u0026#34;enabled\u0026#34;: true, \u0026#34;destOverride\u0026#34;: [\u0026#34;http\u0026#34;, \u0026#34;tls\u0026#34;] }, \u0026#34;settings\u0026#34;: { \u0026#34;auth\u0026#34;: \u0026#34;noauth\u0026#34;, \u0026#34;udp\u0026#34;: false } } ], \u0026#34;outbounds\u0026#34;: [ { \u0026#34;protocol\u0026#34;: \u0026#34;vmess\u0026#34;, \u0026#34;settings\u0026#34;: { \u0026#34;vnext\u0026#34;: [ { \u0026#34;address\u0026#34;: \u0026#34;mydomain.me\u0026#34;, \u0026#34;port\u0026#34;: 443, \u0026#34;users\u0026#34;: [ { \u0026#34;id\u0026#34;: \u0026#34;9d1712fd-f641-4be9-b2ca-99c9dc000aeb\u0026#34;, \u0026#34;alterId\u0026#34;: 64 } ] } ] }, \u0026#34;streamSettings\u0026#34;: { \u0026#34;network\u0026#34;: \u0026#34;ws\u0026#34;, \u0026#34;security\u0026#34;: \u0026#34;tls\u0026#34;, \u0026#34;wsSettings\u0026#34;: { \u0026#34;path\u0026#34;: \u0026#34;/ray\u0026#34; } } } ] } 2.2. mKCP Server /etc/v2ray/config.json :\n{ \u0026#34;inbounds\u0026#34;: [ { \u0026#34;port\u0026#34;: 16823, \u0026#34;protocol\u0026#34;: \u0026#34;vmess\u0026#34;, \u0026#34;settings\u0026#34;: { \u0026#34;clients\u0026#34;: [ { \u0026#34;id\u0026#34;: \u0026#34;b831381d-6324-4d53-ad4f-8cda48b30811\u0026#34;, \u0026#34;alterId\u0026#34;: 64 } ] }, \u0026#34;streamSettings\u0026#34;: { \u0026#34;network\u0026#34;: \u0026#34;mkcp\u0026#34;, \u0026#34;kcpSettings\u0026#34;: { \u0026#34;uplinkCapacity\u0026#34;: 5, \u0026#34;downlinkCapacity\u0026#34;: 100, \u0026#34;congestion\u0026#34;: true, \u0026#34;header\u0026#34;: { \u0026#34;type\u0026#34;: \u0026#34;wechat-video\u0026#34; } } } } ], \u0026#34;outbounds\u0026#34;: [ { \u0026#34;protocol\u0026#34;: \u0026#34;freedom\u0026#34;, \u0026#34;settings\u0026#34;: {} } ] } Client:\n{ \u0026#34;inbounds\u0026#34;: [ { \u0026#34;port\u0026#34;: 1080, \u0026#34;protocol\u0026#34;: \u0026#34;socks\u0026#34;, \u0026#34;sniffing\u0026#34;: { \u0026#34;enabled\u0026#34;: true, \u0026#34;destOverride\u0026#34;: [\u0026#34;http\u0026#34;, \u0026#34;tls\u0026#34;] }, \u0026#34;settings\u0026#34;: { \u0026#34;auth\u0026#34;: \u0026#34;noauth\u0026#34; } } ], \u0026#34;outbounds\u0026#34;: [ { \u0026#34;protocol\u0026#34;: \u0026#34;vmess\u0026#34;, \u0026#34;settings\u0026#34;: { \u0026#34;vnext\u0026#34;: [ { \u0026#34;address\u0026#34;: \u0026#34;serveraddr.com\u0026#34;, \u0026#34;port\u0026#34;: 16823, \u0026#34;users\u0026#34;: [ { \u0026#34;id\u0026#34;: \u0026#34;b831381d-6324-4d53-ad4f-8cda48b30811\u0026#34;, \u0026#34;alterId\u0026#34;: 64 } ] } ] }, \u0026#34;streamSettings\u0026#34;: { \u0026#34;network\u0026#34;: \u0026#34;mkcp\u0026#34;, \u0026#34;kcpSettings\u0026#34;: { \u0026#34;uplinkCapacity\u0026#34;: 5, \u0026#34;downlinkCapacity\u0026#34;: 100, \u0026#34;congestion\u0026#34;: true, \u0026#34;header\u0026#34;: { \u0026#34;type\u0026#34;: \u0026#34;none\u0026#34; } } } } ] } ","permalink":"https://wedojava.github.io/posts/v2ray-install-and-config/","tags":["v2ray"," config"," websocket"," tls"," caddy"," kcp"],"title":"V2ray install and config"},{"categories":["Hexo"],"contents":"There are steps to make Hexo works well with caddy, github webhooks and service script write by python3.\nWhy not nginx, because I know well about it, I think, and now I want to try caddy.\nWhy not git to deploy itï¼Ÿ This is the way to use git for deployment. But it was outdated or I think, use webhooks and caddy maybe the pop and better way than that.\nThis is not as common use for webhooks, the main idear for easy to write hexo blog is follow:\n One github\u0026rsquo;s repository cloned at your local system: Only write your md files at there. Two folders at VPS to clone your md files and generate by hexo for deploy.\nAdvantage: Write blog so easy, just write down and push to github. Generate at server, so you never need install hexo to your local system, so you can write and push anywhere have git installed Generate at server, so it will stable and faster than local.\nDisadvantage: Many settings and preparations at VPS.\n My System environment:\n Local: Windows 10 VPS: Ubuntu 18.04 LTS  OK, let\u0026rsquo;s GO!\nOutline:\n Preparation for your host: git Preparation for your VPS: git, Node.js, Hexo, webhook scripts Install and config Caddy to your VPS  My Tree:\n LocalMachine:  blog/blog_md - for blogs write.   VPS:  /var/www/blog - for generated files public ~/blog - Init by hexo,we generate here. ~/blog_static - git clone from repository, the repository is used for push and target webhooks. ~/blog_static/blog_md - subfolder of repository, contains blog md files. ~/webhook-server.py - listen for webhook. ~/webhook.sh - call by webhook-server.py for deploy.    # 1. VPS Preparations This step is the preparation for using github webhook.\n1.1. Install git and node.js Git is very simple and nothing to say, simply say Node.js.\nRun the command below to show a list of versions available for download and install the last LTS version:\ncurl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.34.0/install.sh | bash nvm ls-remote nvm install 10.16.0 nvm on # or nvm use 10.16.0 node -v  Return: v10.16.0\n1.2. Install Hexo on VPS npm install -g hexo-cli npm install hexo-server -g cd \u0026lt;blog folder\u0026gt; hexo init  If error occur ERROR Local hexo not found in \u0026lt;blog folder\u0026gt;, run:\nnpm install hexo --save  Then:\nnpm install  If occur: found 1 moderate severity vulnerability, run:\nnpm audit fix --force  Then:\nhexo init  1.3. Github hooks 1.3.1. Add webhook at respository where your md files placed  Payload URL resemble: http://huifeng.me:123/webhook Content type: the default content type of application/json is fine.  1.3.2. Write a python webhook-server.py: 1st Way authenticate the hook conveniently (Recommend)\nA easy way for enable secret: GitHub Webhook (micro) Framework It also can do anything about webhooks, but documents is so poor.\nEnvironment Prepare:\nsudo apt install python3-pip pip3 install flask pip3 install github_webhook  My final webhook-server.py (run as python3):\nimport os from github_webhook import Webhook from flask import Flask app = Flask(__name__) # Standard Flask app webhook = Webhook(app, endpoint=\u0026#34;/testendpoint\u0026#34;, secret=\u0026#39;testsecret\u0026#39;) # Defines \u0026#39;/postreceive\u0026#39; endpoint @app.route(\u0026#34;/\u0026#34;) # Standard Flask endpoint def hello_world(): return \u0026#34;Hello, World!\u0026#34; @webhook.hook() # Defines a handler for the \u0026#39;push\u0026#39; event def on_push(data): #print(\u0026#34;Got push with: {0}\u0026#34;.format(data)) print(os.popen(\u0026#34;sh ~/webhook.sh\u0026#34;).read()) if __name__ == \u0026#34;__main__\u0026#34;: try: port_number = int(sys.argv[1]) except: port_number = 8888 app.run(host=\u0026#34;0.0.0.0\u0026#34;, port=port_number, debug=False) Key settings:\n  If code is webhook = Webhook(app, endpoint=\u0026quot;/testendpoint\u0026quot;, secret='testsecret'):\n Payload URL setting is resemble: http://huifeng.me:8888/testendpoint Secret setting is testsecret    If with no secret setting:\n webhook = Webhook(app, endpoint=\u0026quot;/testendpoint\u0026quot;)    If nothing defined yourself, code is webhook = Webhook(app):\n Default way: /postreceive Without secret verification.    2nd Way without authenticate but simple (Optional)\nWithout authenticate but easy, a way to study but suggust not use in Ops.\n#!/usr/bin/env python # -*- coding: utf-8 -*- import json import os import traceback from flask import Flask, request app = Flask(__name__) @app.route(\u0026#39;/webhook\u0026#39;, methods=[\u0026#39;POST\u0026#39;]) def update(): if request.method == \u0026#39;POST\u0026#39;: try: print request.headers print request.json print os.popen(\u0026#34;sh ~/webhook.sh\u0026#34;).read() except: print traceback.format_exc() return json.dumps({\u0026#34;msg\u0026#34;: \u0026#34;error method\u0026#34;}) if __name__ == \u0026#39;__main__\u0026#39;: try: port_number = int(sys.argv[1]) except: port_number = 8888 app.run(host=\u0026#34;0.0.0.0\u0026#34;, port=port_number, debug=False) You can enable secret by yourself(Optional choise) or jump to 1st Way: Give the abilitiy to authenticate the hook by sercet. we can modify the python code above, the core is:\nimport hmac header_signature = request.META.get(\u0026#39;HTTP_X_HUB_SIGNATURE\u0026#39;) signature = header_signature.split(\u0026#39;=\u0026#39;) mac = hmac.new(\u0026#39;YOUR GITHUB WEBHOOK SECRET\u0026#39;.encode(\u0026#39;utf-8\u0026#39;), request.body, hash_type).hexdigest() if hmac.compare_digest(mac, signature): print os.popen(\u0026#34;sh ~/webhook.sh\u0026#34;).read() But, the code above need test, not the final code to run, just a thought!\n1.3.3. Write a shell webhook.sh: #!/usr/bin/env bash  cd ~/blog_static git pull https://github.com/wedojava/Blog.git rm -rf ~/blog/source/_posts/* cp -rp ~/blog_static/blog_md/* ~/blog/source/_posts/ cd ~/blog hexo clean hexo generate rm -rf /var/www/blog/* cp -rp ~/blog/public/* /var/www/blog/ 1.3.4. Run in background: nohup python webhook-server.py \u0026amp;  Don\u0026rsquo;t warry, you can read logs in file nohup where webhook-server.py located.\nIf your server\u0026rsquo;s environment is not suitable, run the command follow:\nsudo apt install python-pip pip install request flask  I suggest test before run in background,you can run the command below to assess the return lines:\npython webhook-server.py   # 2. Install and config Caddy to your VPS 2.1. Directory and permissions prepare  Reference: https://caddyserver.com/docs\n Reference:https://github.com/caddyserver/caddy/tree/master/dist/init/linux-systemd\nMain idea: Give website folder appropriate ownership and permission, so if git pushed, python script can catch the webhook event and load shell script to pull, move etc.\n(If your VPS not setted default)Set up the user, group, and directories that will be needed:\nsudo groupadd -g 33 www-data sudo useradd \\ -g www-data --no-user-group \\ --home-dir /var/www --no-create-home \\ --shell /usr/sbin/nologin \\ --system --uid 33 www-data  Create caddy folder and give it appropriate ownership and permissions:\nsudo mkdir /etc/caddy sudo chown -R root:root /etc/caddy sudo mkdir /etc/ssl/caddy sudo chown -R root:www-data /etc/ssl/caddy sudo chmod 0770 /etc/ssl/caddy  Place your caddy configuration file (\u0026ldquo;Caddyfile\u0026rdquo;) in the proper directory and give it appropriate ownership and permissions:\nsudo cp /path/to/Caddyfile /etc/caddy/ sudo chown root:root /etc/caddy/Caddyfile sudo chmod 644 /etc/caddy/Caddyfile  Create the home directory for the server and give it appropriate ownership and permissions:\nsudo mkdir /var/www sudo chown www-data:www-data /var/www sudo chmod 755 /var/www  Let\u0026rsquo;s assume you have the contents of your website in a directory called \u0026lsquo;blog\u0026rsquo;. Put your website into place for it to be served by caddy:\nsudo mkdir /var/www/blog sudo chown -R \u0026lt;youruser\u0026gt;:\u0026lt;yourgroup\u0026gt; /var/www/blog sudo chmod -R 755 /var/www/blog  2.2. Config Caddyfile DIffer from other service, for caddy you can make config file first to ensure which plugin is necessary, after config the file, caddy install option will also becoming your mind, you can study how to set it by caddy offical doc: https://caddyserver.com/docs\n/etc/caddy/Caddyfile may resembles below:\nhuifeng.me { root /var/www/blog tls yourusername@gmail.com index index.html # minify gzip log /var/www/access.log { rotate_size 50 # Rotate a log when it reaches 50 MB rotate_age 90 # Keep rotated log files for 90 days rotate_keep 20 # Keep at most 20 rotated log files rotate_compress # Compress rotated log files in gzip format } limits { header 100KB body /download 100MB } errors /var/www/error.log { # 404 404/index.html rotate_size 50 # Rotate a log when it reaches 50 MB rotate_age 90 # Keep rotated log files for 90 days rotate_keep 20 # Keep at most 20 rotated log files rotate_compress # Compress rotated log files in gzip format } } 2.3. Install via script This step requires root privileges, so:\nsu curl https://getcaddy.com | bash -s personal http.cache,http.minify exit  Enable Caddy as service:\nNotice!\nIf you assume the following:\n that you want to run caddy as user www-data and group www-data caddy binary in the system wide binary directory: /usr/local/bin/caddy your caddy configuration file (\u0026ldquo;Caddyfile\u0026rdquo;) in the proper directory /etc/caddy/Caddyfile your caddy tls(Letsencrypt-issued certificates) want to write in: /etc/ssl/caddy  please preceed:\n# ä» github ä¸‹è½½ systemd é…ç½®æ–‡ä»¶ sudo curl -s https://raw.githubusercontent.com/mholt/caddy/master/dist/init/linux-systemd/caddy.service -o /etc/systemd/system/caddy.service sudo systemctl daemon-reload # é‡æ–°åŠ è½½ systemd é…ç½® sudo systemctl enable caddy.service # è®¾ç½® caddy æœåŠ¡è‡ªå¯åŠ¨ sudo systemctl status caddy.service # æŸ¥çœ‹ caddy çŠ¶æ€  Else:\nedit /etc/systemd/system/caddy.service to set your right user, group, and so on.\n # 3. Some Tips:  If you use caddy, sometimes, web is blank, also viewed by source, maybe, your Caddyfile have something wrong or your vps cannot support some feature well, so, comment out line by line and test. For me, I commented minify, ext while the blank page occured, and it fixed.\n  About Github hooks, if python and shell is allright, but still cannot works well, try to change github setting of webhooks, set Payload URL as http://your-url not https.\n EOF\nThanks for https://www.jianshu.com/p/75274647c4b0\n","permalink":"https://wedojava.github.io/posts/deploy-hexo-to-vps-by-caddy-and-webhooks/","tags":["VPS"," hexo"," éƒ¨ç½²"," caddy"," python"],"title":"Deploy Hexo to VPS By Caddy And Webhooks(Python)"},{"categories":["Linux"],"contents":"1. æœåŠ¡å™¨ç¯å¢ƒ ç³»ç»Ÿï¼šCentOS 7.6 é˜²ç«å¢™ï¼šfirewalld\n1.1. é˜²ç«å¢™é…ç½® æ­¤é˜²ç«å¢™ä¸º CentOS 7.6 è‡ªå¸¦è‡ªå¯åŠ¨ï¼Œé»˜è®¤æ²¡æœ‰ä»»ä½•é€šè·¯å‡ºå»ï¼Œä½ åªèƒ½ä»å¤–é¢pingçš„é€šï¼Œsshè¿æ¥ï¼Œå…¶ä»–ä»€ä¹ˆä¹Ÿåšä¸äº†ã€‚\nä¸‹é¢æˆ‘ä»¬å¼€æ”¾ä¸¤ä¸ªç«¯å£ï¼Œä¸€ä¸ªæ˜¯ 80/TCP ï¼Œä¸€ä¸ªæ˜¯è‡ªå®šä¹‰çš„sshè¿æ¥ç«¯å£ 123/TCP.\nRun:\n$ firewall-cmd --permanent --add-port=80/tcp $ firewall-cmd --permanent --add-port=123/tcp  firewall-cmdï¼šæ˜¯Linuxæä¾›çš„æ“ä½œfirewallçš„ä¸€ä¸ªå·¥å…·; \u0026ndash;permanentï¼šè¡¨ç¤ºè®¾ç½®ä¸ºæŒä¹…; \u0026ndash;add-portï¼šæ ‡è¯†æ·»åŠ çš„ç«¯å£; \u0026ndash;zone=public:æŒ‡å®šçš„zoneä¸ºpublic(ä¸åŠ æ­¤å‚æ•°é»˜è®¤éƒ½æ˜¯æ·»åŠ åˆ°è¿™é‡Œ).  é»˜è®¤çš„ï¼Œé€šè¿‡å‘½ä»¤è¡Œæ·»åŠ çš„è§„åˆ™ä¼šæ·»åŠ åˆ°æ–‡ä»¶ï¼š /etc/firewalld/zones/public.xml .\næ·»åŠ å®Œæ¯•ä¸Šé¢çš„è§„åˆ™åï¼Œæ ·å­çœ‹èµ·æ¥å¦‚ä¸‹ï¼š\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;utf-8\u0026#34;?\u0026gt; \u0026lt;zone\u0026gt; \u0026lt;short\u0026gt;Public\u0026lt;/short\u0026gt; \u0026lt;description\u0026gt;For use in public areas. You do not trust the other computers on networks to not harm your computer. Only selected incoming connections are accepted.\u0026lt;/description\u0026gt; \u0026lt;service name=\u0026#34;dhcpv6-client\u0026#34;/\u0026gt; \u0026lt;service name=\u0026#34;ssh\u0026#34;/\u0026gt; \u0026lt;port protocol=\u0026#34;tcp\u0026#34; port=\u0026#34;80\u0026#34;/\u0026gt; \u0026lt;port protocol=\u0026#34;tcp\u0026#34; port=\u0026#34;61744\u0026#34;/\u0026gt; \u0026lt;/zone\u0026gt; 1.2. firewallå¸¸ç”¨å‘½ä»¤ é‡å¯ã€å…³é—­ã€å¼€å¯firewalld.serviceæœåŠ¡:\nservice firewalld restart é‡å¯ service firewalld start å¼€å¯ service firewalld stop å…³é—­ æŸ¥çœ‹firewallæœåŠ¡çŠ¶æ€:\nsystemctl status firewall æŸ¥çœ‹firewallçš„çŠ¶æ€:\nfirewall-cmd --state æŸ¥çœ‹é˜²ç«å¢™è§„åˆ™:\nfirewall-cmd --list-all å…³é—­firewallï¼š\nservice firewalld stop systemctl disable firewalld.service #ç¦æ­¢firewallå¼€æœºå¯åŠ¨  2. Docker å®‰è£…å’Œé…ç½® Quick reference:\n https://docs.docker.com/get-started/ https://docs.docker.com/install/linux/docker-ce/centos/  ä¸»è¦ä¾èµ–å¸®åŠ©é¡µæ“ä½œçš„ï¼Œä¸‹é¢çš„æ˜¯æˆ‘æ“ä½œè¿‡ç¨‹ä¸­çš„å‘½ä»¤ï¼š\n2.1.Uninstall old versions $ sudo yum remove docker \\ docker-client \\ docker-client-latest \\ docker-common \\ docker-latest \\ docker-latest-logrotate \\ docker-logrotate \\ docker-selinux \\ docker-engine-selinux \\ docker-engine 2.2. Install using the repository $ sudo yum install -y yum-utils \\ device-mapper-persistent-data \\ lvm2 $ sudo yum-config-manager \\ --add-repo \\ https://download.docker.com/linux/centos/docker-ce.repo $ sudo yum-config-manager --enable docker-ce-edge $ sudo yum-config-manager --enable docker-ce-test $ sudo yum install docker-ce 2.3. Uninstall Docker CE Uninstall the Docker package:\n$ sudo yum remove docker-ce Images, containers, volumes, or customized configuration files on your host are not automatically removed. To delete all images, containers, and volumes:\n$ sudo rm -rf /var/lib/docker  3. Nginx å®‰è£…å’Œé…ç½® 3.1. Install by docker https://hub.docker.com/_/nginx?tab=description\nå†ä¸‰è€ƒè™‘ï¼ŒDockerç”¨äºç”Ÿäº§ç¯å¢ƒå¿ƒé‡Œæ²¡åº•ï¼Œä¸»è¦æ˜¯ä¸¤ä¸ªæ–¹é¢ï¼š\n æˆæœ¬é—®é¢˜ï¼Œæ€»ä¹‹è¿˜æ˜¯éœ€è¦æ›´æˆç†Ÿç¨³å®šçš„ä¸œè¥¿ å®‰å…¨é—®é¢˜ï¼ŒæœåŠ¡å™¨å®‰è£…çš„ä¸œè¥¿è¶Šå°‘ï¼Œæ¼æ´è¶Šå°‘ï¼Œè¶Šå®‰å…¨ã€‚  3.2. Install from source Download from http://nginx.org/en/download.html\nThen:\n$ tar zxf nginx....tar.gz $ cd nginx.... Download and unzip required packages:\nwget \u0026#34;https://ftp.pcre.org/pub/pcre/pcre-8.42.tar.gz\u0026#34;; wget \u0026#34;https://www.openssl.org/source/openssl-1.0.1j.tar.gz\u0026#34;; wget \u0026#34;http://zlib.net/zlib-1.2.11.tar.gz\u0026#34;; tar zxf openssl-1.0.1j.tar.gz; tar zxf pcre-8.42.tar.gz; tar zxf zlib-1.2.11.tar.gz Prepare user for nginx:\n$ sudo groupadd -r nginx $ sudo useradd -s /sbin/nologin -g nginx -r nginx Generate config string throw http://nginx.org/en/docs/configure.html\n./configure \\ --sbin-path=/usr/local/nginx/nginx \\ --conf-path=/usr/local/nginx/nginx.conf \\ --pid-path=/usr/local/nginx/nginx.pid \\ --user=nginx \\ --group=nginx \\ --with-http_ssl_module \\ --with-http_sub_module \\ --with-pcre=../pcre-8.42 \\ --with-zlib=../zlib-1.2.11 \\ --with-openssl=../openssl-1.0.1j After above result blow:\nConfiguration summary + using PCRE library: ../pcre-8.42 + using OpenSSL library: ../openssl-1.0.1j + using zlib library: ../zlib-1.2.11 nginx path prefix: \u0026#34;/usr/local/nginx\u0026#34; nginx binary file: \u0026#34;/usr/local/nginx/nginx\u0026#34; nginx modules path: \u0026#34;/usr/local/nginx/modules\u0026#34; nginx configuration prefix: \u0026#34;/usr/local/nginx\u0026#34; nginx configuration file: \u0026#34;/usr/local/nginx/nginx.conf\u0026#34; nginx pid file: \u0026#34;/usr/local/nginx/nginx.pid\u0026#34; nginx error log file: \u0026#34;/usr/local/nginx/logs/error.log\u0026#34; nginx http access log file: \u0026#34;/usr/local/nginx/logs/access.log\u0026#34; nginx http client request body temporary files: \u0026#34;client_body_temp\u0026#34; nginx http proxy temporary files: \u0026#34;proxy_temp\u0026#34; nginx http fastcgi temporary files: \u0026#34;fastcgi_temp\u0026#34; nginx http uwsgi temporary files: \u0026#34;uwsgi_temp\u0026#34; nginx http scgi temporary files: \u0026#34;scgi_temp\u0026#34; Install:\n$ make \u0026amp;\u0026amp; make install Control Nginx by systemctl:\nReference: https://blog.csdn.net/qq_17054659/article/details/77186249\nCreate nginx.service:\nsudo touch /usr/lib/systemd/system/nginx.service And edit:\nsudo vim /usr/lib/systemd/system/nginx.service As:\n[Unit] Description=nginx - high performance web server After=network.target remote-fs.target nss-lookup.target [Service] Type=forking ExecStartPre=/usr/local/nginx/nginx -t -c /usr/local/nginx/nginx.conf ExecStart=/usr/local/nginx/nginx -c /usr/local/nginx/nginx.conf ExecReload=/usr/local/nginx/nginx -s reload ExecStop=/usr/local/nginx/nginx -s stop ExecQuit=/usr/local/nginx/nginx -s quit PrivateTmp=true [Install] WantedBy=multi-user.target Change mode:\nsudo chmod 754 /usr/lib/systemd/system/nginx.service Make it become effective:\nsudo systemctl daemon-reload Now,systemctl start/stop/reload/quit nginx.service can be use for control nginx convenient.\n 4. Install PHP 7 On CentOS 7.6 Reference: http://php.net/manual/zh/install.unix.nginx.php\n4.1. Prepare for install Download php:\n$ wget http://php.net/distributions/php-7.3.1.tar.gz $ tar zxf php-7.3.1.tar.gz $ cd php-7.3.1 sudo yum install libxml2-devel Prepare user for php-fpm:\n$ sudo groupadd -r www-data $ sudo useradd -s /sbin/nologin -g www-data -r www-data 4.2. Install PHP 7 Go to PHP folder which we just un ziped.\n./configure --enable-fpm --with-fpm-user=www-data --with-fpm-group=www-data make \u0026amp;\u0026amp; sudo make install Then, the end return lines like:\nWrote PEAR system config file at: /usr/local/etc/pear.conf You may want to add: /usr/local/lib/php to your php.ini include_path /home/vagrant/php-7.0.6/build/shtool install -c ext/phar/phar.phar /usr/local/bin ln -s -f phar.phar /usr/local/bin/phar Installing PDO headers: /usr/local/include/php/ext/pdo/ Run:\nsudo /home/vagrant/php-7.0.6/build/shtool install -c ext/phar/phar.phar /usr/local/bin sudo ln -s -f phar.phar /usr/local/bin/phar Copy ini and execute file(All of these files are in php folder we unziped.):\ncp php.ini-production /usr/local/php/php.ini cp /usr/local/etc/php-fpm.conf.default /usr/local/etc/php-fpm.conf cp sapi/fpm/php-fpm /usr/local/bin Fix bug:\n$ sudo /usr/local/bin/php-fpm [12-May-2016 04:39:05] ERROR: Unable to globalize \u0026#39;/usr/local/NONE/etc/php-fpm.d/*.conf\u0026#39; (ret=2) from /usr/local/etc/php-fpm.conf at line 125. [12-May-2016 04:39:05] ERROR: failed to load configuration file \u0026#39;/usr/local/etc/php-fpm.conf\u0026#39; [12-May-2016 04:39:05] ERROR: FPM initialization failed Modify /usr/local/etc/php-fpm.conf the last line:\n/NONE/etc/php-fpm.d/*.conf as:\netc/php-fpm.d/*.conf copy default conf fileï¼š\ncp /usr/local/etc/php-fpm.d/www.conf.default /usr/local/etc/php-fpm.d/www.conf Modify user and group as:\nuser = www-data group = www-data All right! Run php-fpmï¼š\n/usr/local/bin/php-fpm ä»¥ä¸Šï¼Œå¦‚ä½•è®© PHP å’Œ NginX ååŒå·¥ä½œï¼Œè¯·å‚è€ƒï¼š\nhttp://huifeng.me/2016/05/18/LEMP-step-to-step/\n","permalink":"https://wedojava.github.io/posts/install-nginx-php7-and-config-firewalld-in-centos-7.6/","tags":["centos"," linux"," firewalld"," docker"," php"," nginx"],"title":"Install nginx php7 and config firewalld in CentOS 7.6"},{"categories":null,"contents":"Contact: Mailï¼šwedojava@gmail.com\n Donate: ","permalink":"https://wedojava.github.io/about/","tags":null,"title":"About Me"},{"categories":["Microsoft"],"contents":"You can download logParser from microsoft : https://www.microsoft.com/en-us/download/confirmation.aspx?id=24659\n# 1. In short, run: LogParser \u0026#34;select [#Fields: date-time] as date, sender-address, recipient-address, recipient-count, return-path, client-hostname, client-ip, server-hostname, server-ip, original-client-ip, original-server-ip, event-id, total-bytes, connector-id, message-subject, source into C:\\ExChange\\log_all\\result.csv from C:\\ExChange\\log_all\\MessageTracking\\*.LOG\u0026#34; -i:CSV -headerRow:on -nSkipLines:4 code above can export all logs to one csv file.\n -nSkipLines:4 : filter 4 lines at begin.the log files\u0026rsquo; first 4 lines is the head of file,no need for export. [#Fields: date-time] as date : style like #Fields: date-time is complex title for csv, make it like [#Fields: date-time] can get the true info from log files.  # 2. how to get the right titles? LogParser \u0026#34;select TOP 1 * into C:\\ExChange\\log_all\\result.csv from C:\\ExChange\\log_all\\MessageTracking\\MSGTRK.LOG\u0026#34; -i:CSV -headerRow:on -nSkipLines:4 Refer : https://blog.miniasp.com/post/2008/10/02/Useful-tool-Powerful-Log-Parser.aspx\n","permalink":"https://wedojava.github.io/posts/exchange-logs-to-csv-by-logparser/","tags":["exchange"," logs"," csv"," logparser"],"title":"how to export exchange logs to csv by logparser"},{"categories":["ç¿»å¢™"],"contents":"å…¶å®æˆ‘é…å¥½çš„æ˜¯ Ubuntu æ¡Œé¢ç‰ˆ,å¦‚ä½•ä½¿ç”¨ V2ray,ä¸ç®¡ä»€ä¹ˆæ¡Œé¢å…¶å®åŸºæœ¬å¤§åŒå°å¼‚,è·¯å­å¾ˆé‡è¦, è·¯å­å¯¹äº†,å‰©ä¸‹çš„å°±ç®€å•äº†,ææ˜ç™½åæç„¶å¤§æ‚Ÿ,è¿™ä¹ˆç®€å•å°±æ€ªè‡ªå·±å½“æ—¶æ²¡ä»”ç»†çœ‹æ–‡æ¡£å•Š!!!\næœ¬ç¯‡æ˜¯ä»‹ç» V2ray å®¢æˆ·ç«¯çš„ä½¿ç”¨é…ç½®çš„, æœåŠ¡ç«¯çš„å®‰è£…è¯·å‚ç…§æœ¬ç«™å¦ä¸€æ–‡.\næœ¬ç¯‡åªè®²é‡ç‚¹,å¾ˆå¤šå†…å®¹å®˜æ–¹æ–‡æ¡£éƒ½æœ‰è¯´æ˜.\nä¸ªäººä½“éªŒæ˜¯, å¦‚æœæ–‡æ¡£åƒé€äº†, å…¶å®å‘½ä»¤è¡Œçš„æ–¹å¼å¯ç”¨ V2ray æ˜¯æœ€ç®€å•çš„.\næ³¨æ„,ä¸‹é¢çš„å†…å®¹éƒ½æ˜¯é’ˆå¯¹ä¸€ç§æƒ…å†µ:æˆ‘ä»¬è¦é…ç½®çš„æœºå™¨æœ¬æ¥æ˜¯ä¸èƒ½å‡ºå¢™çš„!\nèƒ½å‡ºå»ä¸€åˆ‡éƒ½å¥½åŠäº†,å¯¹å§.\n1. æˆ‘çš„å®¢æˆ·ç«¯é…ç½® 1.1. config.json { \u0026#34;log\u0026#34;: { \u0026#34;access\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;error\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;loglevel\u0026#34;: \u0026#34;warning\u0026#34; }, \u0026#34;inbound\u0026#34;: { \u0026#34;port\u0026#34;: 1080, // SOCKS ä»£ç†ç«¯å£ï¼Œåœ¨æµè§ˆå™¨ä¸­éœ€é…ç½®ä»£ç†å¹¶æŒ‡å‘è¿™ä¸ªç«¯å£ \u0026#34;listen\u0026#34;: \u0026#34;127.0.0.1\u0026#34;, \u0026#34;protocol\u0026#34;: \u0026#34;socks\u0026#34;, \u0026#34;domainOverride\u0026#34;: [ \u0026#34;tls\u0026#34;, \u0026#34;http\u0026#34; ], \u0026#34;settings\u0026#34;: { \u0026#34;auth\u0026#34;: \u0026#34;noauth\u0026#34;, \u0026#34;udp\u0026#34;: true, \u0026#34;ip\u0026#34;: \u0026#34;127.0.0.1\u0026#34;, \u0026#34;clients\u0026#34;: null }, \u0026#34;streamSettings\u0026#34;: null }, \u0026#34;outbound\u0026#34;: { \u0026#34;tag\u0026#34;: \u0026#34;agentout\u0026#34;, \u0026#34;protocol\u0026#34;: \u0026#34;vmess\u0026#34;, \u0026#34;settings\u0026#34;: { \u0026#34;vnext\u0026#34;: [ { \u0026#34;address\u0026#34;: \u0026#34;server\u0026#34;, // æœåŠ¡å™¨åœ°å€ï¼Œè¯·ä¿®æ”¹ä¸ºä½ è‡ªå·±çš„æœåŠ¡å™¨ ip æˆ–åŸŸå \u0026#34;port\u0026#34;: 10086, // æœåŠ¡å™¨ç«¯å£ \u0026#34;users\u0026#34;: [ { \u0026#34;id\u0026#34;: \u0026#34;b831381d-6324-4d53-ad4f-8cda48b30811\u0026#34;, //å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç»Ÿä¸€çš„IDå· \u0026#34;alterId\u0026#34;: 0, \u0026#34;email\u0026#34;: \u0026#34;t@t.tt\u0026#34;, \u0026#34;security\u0026#34;: \u0026#34;aes-128-gcm\u0026#34; } ] } ], \u0026#34;servers\u0026#34;: null }, \u0026#34;streamSettings\u0026#34;: { \u0026#34;network\u0026#34;: \u0026#34;tcp\u0026#34;, \u0026#34;security\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;tlsSettings\u0026#34;: null, \u0026#34;tcpSettings\u0026#34;: null, \u0026#34;kcpSettings\u0026#34;: null, \u0026#34;wsSettings\u0026#34;: null, \u0026#34;httpSettings\u0026#34;: null }, \u0026#34;mux\u0026#34;: { \u0026#34;enabled\u0026#34;: true } }, \u0026#34;inboundDetour\u0026#34;: null, \u0026#34;outboundDetour\u0026#34;: [ { \u0026#34;protocol\u0026#34;: \u0026#34;freedom\u0026#34;, \u0026#34;settings\u0026#34;: { \u0026#34;response\u0026#34;: null }, \u0026#34;tag\u0026#34;: \u0026#34;direct\u0026#34; }, { \u0026#34;protocol\u0026#34;: \u0026#34;blackhole\u0026#34;, \u0026#34;settings\u0026#34;: { \u0026#34;response\u0026#34;: { \u0026#34;type\u0026#34;: \u0026#34;http\u0026#34; } }, \u0026#34;tag\u0026#34;: \u0026#34;blockout\u0026#34; } ], \u0026#34;dns\u0026#34;: { \u0026#34;servers\u0026#34;: [ \u0026#34;8.8.8.8\u0026#34;, \u0026#34;8.8.4.4\u0026#34;, \u0026#34;localhost\u0026#34; ] }, \u0026#34;routing\u0026#34;: { \u0026#34;strategy\u0026#34;: \u0026#34;rules\u0026#34;, \u0026#34;settings\u0026#34;: { \u0026#34;domainStrategy\u0026#34;: \u0026#34;IPIfNonMatch\u0026#34;, \u0026#34;rules\u0026#34;: [ { \u0026#34;type\u0026#34;: \u0026#34;field\u0026#34;, \u0026#34;port\u0026#34;: null, \u0026#34;outboundTag\u0026#34;: \u0026#34;direct\u0026#34;, \u0026#34;ip\u0026#34;: [ \u0026#34;0.0.0.0/8\u0026#34;, \u0026#34;10.0.0.0/8\u0026#34;, \u0026#34;100.64.0.0/10\u0026#34;, \u0026#34;127.0.0.0/8\u0026#34;, \u0026#34;169.254.0.0/16\u0026#34;, \u0026#34;172.16.0.0/12\u0026#34;, \u0026#34;192.0.0.0/24\u0026#34;, \u0026#34;192.0.2.0/24\u0026#34;, \u0026#34;192.168.0.0/16\u0026#34;, \u0026#34;198.18.0.0/15\u0026#34;, \u0026#34;198.51.100.0/24\u0026#34;, \u0026#34;203.0.113.0/24\u0026#34;, \u0026#34;::1/128\u0026#34;, \u0026#34;fc00::/7\u0026#34;, \u0026#34;fe80::/10\u0026#34; ], \u0026#34;domain\u0026#34;: null } ] } } } 1.2. æµè§ˆå™¨æˆ–å…¶ä»–å®¢æˆ·ç«¯ ä»£ç†è®¾ç½®äº†ï¼š127.0.0.1, ç«¯å£: 1080\n 2. Windows ç©å®¶ 2.1. å®¢æˆ·ç«¯æ¨¡å¼ å®˜æ–¹ Github åˆ†æµ: https://www.v2ray.com/download/\né€‰æ‹© V2RayN æˆ–è€… V2RayW å‡å¯ä¸‹è½½ï¼Œå‰è€…çš„staræ•°é‡æ›´é«˜äº›ã€‚\næ³¨æ„, Core åŒ…ä¹Ÿè¦ä¸‹è½½,å’Œ V2RayN/V2RayW æ”¾ä¸€ä¸ªæ–‡ä»¶å¤¹é‡Œ\nV2RayN çš„é…ç½® ç±»ä¼¼è¿™æ ·:\nè¢«æ¶‚æŠ¹çš„åœ°æ–¹å°±æ˜¯æˆ‘å¡«å†™çš„æœåŠ¡ç«¯çš„ä¿¡æ¯.\nå°±è¿™æ ·å°±å¥½äº†.\n2.2. å‘½ä»¤æ¨¡å¼ å…ˆåˆ°è¿™é‡Œ https://www.v2ray.com/download/ ä¸‹è½½ Core åŒ…\n è§£å‹, é…ç½®å¥½ config.json åŒå‡»æ‰“å¼€ v2ray.exe  è¿™æ ·å°±å¥½äº†.åº”è¯¥ä¼šæœ‰ä¸ªå‘½ä»¤è¡Œçª—å£å¼¹å‡º.\n 3. Linux ç©å®¶ 3.1. å®¢æˆ·ç«¯æ¨¡å¼ Snapcraft: https://snapcraft.io/v2ray-core\nLinuxåˆ©ç”¨ä¸Šé¢çš„è¿™ä¸ªåœ°æ–¹å°±å¯ä»¥å®Œæˆå®¢æˆ·ç«¯çš„ä¸‹è½½å’Œå®‰è£…äº†,å½“ç„¶ä½ ä¹Ÿå¯ä»¥é€‰æ‹©é€šè¿‡å‘½ä»¤è¡Œå®‰è£… snap å‘½ä»¤,ç„¶åå†ç”¨ snap çš„å‘½ä»¤å»å®‰è£….\nè¿™ä¸ªåŠæ³•æˆ‘æ²¡è¯•è¿‡,å› ä¸ºå¢™,æ‰€ä»¥ä¸ä¿è¯ä¸€å®šèƒ½è¡Œ.\n3.2 å‘½ä»¤è¡Œæ“ä½œ å…ˆåˆ°è¿™é‡Œ https://www.v2ray.com/download/ ä¸‹è½½ Core åŒ…\n è§£å‹, é…ç½®å¥½ config.json è¿›å…¥è§£å‹ç›®å½•,è¿è¡Œ:  $ ./v2ray  åˆ«è¯•å›¾ç”¨å‘½ä»¤è¡Œæ‰§è¡Œ go.sh , å› ä¸º GitHub ä¹Ÿæ˜¯è¢«å¢™äº†çš„.\n  4. æµè§ˆå™¨æ’ä»¶å®‰è£… æˆ‘ç”¨çš„æ˜¯ chrome æµè§ˆå™¨,å¦‚æœè¦ç¿»å¢™å°±è¦è®¾ä»£ç†,æœ€å¥½æ˜¯å®‰è£…å¥½é‚£ä¸ª SwitchyOmega æ’ä»¶,å¯æ˜¯æˆ‘çš„æµè§ˆå™¨ç¿»ä¸äº†å¢™æ‰éœ€è¦è£…è¿™ä¸ªæ’ä»¶çš„,è¿™å°±æ˜¯æ²¡æœ‰é¸¡æ€ä¹ˆç”Ÿè›‹çš„é—®é¢˜äº†,æ‰€ä»¥å¿…é¡»æœ‰åŠæ³•å®‰è£…ä¸Šè¿™ä¸ªæ’ä»¶,ä¸€ç§åŠæ³•æ˜¯ä¸Šç½‘æ‰¾åˆ«äººæä¾›çš„ä¸‹è½½ä½ç½®,è¿˜ä¸èƒ½æ˜¯Githubçš„ä½ç½®,è¿™ä¸ªæœ‰ç‚¹éš¾,è¿˜ä¸€ä¸ªåŠæ³•å°±æ˜¯æˆ‘è¦è¯´çš„åŠæ³•äº†.\né€šè¿‡å‘½ä»¤è®©æµè§ˆå™¨æŒ‚ä»£ç†:\næ‰“å¼€ cmd ,ç„¶åè¿è¡Œ:\ngoogle-chrome-stable --proxy-server=\u0026#34;socks5://127.0.0.1:1080\u0026#34; è¿™é‡Œçš„1080æ˜¯ç«¯å£,ä¸€èˆ¬éƒ½æ˜¯è¿™ä¸ª,æ ¹æ®ä½ è‡ªå·±çš„ä»£ç†å®¢æˆ·ç«¯è®¾ç½®å†³å®š.\nå¦‚æœä½ ç”¨çš„ä¸æ˜¯ chrome é‚£å°±è¯¥ä¸‹åå­—å°±å¥½äº†.\nè¿™æ ·æ‰“å¼€çš„æµè§ˆå™¨æ˜¯è¿‡ä»£ç†çš„,ç„¶åä½ å†å»ä¸‹è½½æ’ä»¶å®‰è£…æ’ä»¶å³å¯.\nè‡³äºé…ç½®,ç½‘ä¸Šå¤ªå¤šäº†,å»æœå§.\n 5. ç»ˆç«¯æˆ–å…¶ä»–åº”ç”¨ç¿»å¢™ 5.1 å‘½ä»¤ç¿»å¢™æ–¹æ³• åˆ«å°çœ‹å‘½ä»¤ç¿»å¢™çš„æ–¹å¼,ä½ å¯ä»¥é€šè¿‡å‘½ä»¤è¡Œæ¥å¯åŠ¨ç¨‹åºä»è€Œè¾¾åˆ°è¢«è°ƒç”¨çš„ç¨‹åºå®ç°ç¿»å¢™å“¦!\nå‘½ä»¤è¡Œç»ˆç«¯è¦ç¿»å¢™æˆ‘ä»¬ä¸€èˆ¬æ˜¯ç”¨ proxychains-ng æ¥ç¿»å¢™,é¡¹ç›®ä¸»é¡µåœ°å€:https://github.com/rofl0r/proxychains-ng\næœ¬æ–‡æ—¥æœŸæ—¶é—´çš„ä¸‹è½½åœ°å€:http://ftp.barfooze.de/pub/sabotage/tarballs/proxychains-ng-4.13.tar.xz\n$ sha512sum proxychains-ng-4.13.tar.xz 686ad90d01f21afa161e35a6fc142a9c9e87c419113c0e54ae4c0ba748be917f34ab17b30a876b825bd4b3f32f15b0793ba8c79a5fafc3b106b3762572349757 proxychains-ng-4.13.tar.xz å…³äºå®‰è£…å’Œä½¿ç”¨è¯·çœ‹è‹¹æœç³»ç»Ÿä¸‹çš„æ“ä½œ,å…¶å®åŸºæœ¬éƒ½æ˜¯ç±»ä¼¼çš„,æˆ‘ä¹Ÿæ˜¯çœ‹å‹ç¼©åŒ…é‡Œçš„READMEæ¥å­¦ä¹ ä½¿ç”¨çš„.\nhttp://huifeng.me/2015/08/23/ProxyChains-NG-4-OSX-Setting/\n5.2 ä»£ç†å·¥å…·ç¿»å¢™ æ¨è SocksCap ç›®å‰è¿˜æ²¡è¢«å¢™,å¯ä»¥ä¸‹è½½. å®åœ¨ä¸‹è½½ä¸äº†äº†,å¯ä»¥è”ç³»æˆ‘,æˆ‘å¿…é¡»å­˜ä¸€ä»½å­˜è´§å•Š.\n","permalink":"https://wedojava.github.io/posts/the-right-way-make-linux-desktop-use-v2ray-service/","tags":["linux"," v2ray"," ubuntu"," Debian"," proxychains"," proxy"," ä»£ç†"," sockscap"],"title":"Linuxæ¡Œé¢ç‰ˆ \u0026 Windows å¦‚ä½•ä½¿ç”¨ V2ray æœåŠ¡?"},{"categories":["Linux"],"contents":" å‚è€ƒæ–‡æ¡£: https://www.linuxidc.com/Linux/2018-05/152390.htm\næœ¬æ–‡åªè®²é‡ç‚¹!\n # 1. å®‰è£…Pip æˆ‘ä»¬å°†ä½¿ç”¨aptåŒ…ç®¡ç†å™¨ä¸º Python 2 pip å’Œ Python 3 pip3 å®‰è£… pip.\nä»»ä½•æ—¶å€™,è¦å®‰è£…å…ˆ Update:\nsudo apt update  PIP For Python 2.x:  sudo apt install python-pip éªŒè¯ä¸‹? pip --version\n PIP For Python 3.x:  sudo apt install python3-pip # 2. å®‰è£…å¼€å‘å·¥å…· For Python 2.x:\nsudo apt install build-essential python-dev python-setuptools For Python 3.x:\nsudo apt install build-essential python3-dev python3-setuptools # 3. Pipç”¨æ³•  å®‰è£…å¸è½½åä¸º foobar çš„åŒ…:  pip install foobar pip uninstall foobar  ä»PyPIæœç´¢è½¯ä»¶åŒ…ï¼š  pip search \u0026#34;search_query\u0026#34;  åˆ—å‡ºå·²å®‰è£…çš„è½¯ä»¶åŒ…ï¼š  pip list  è¦åˆ—å‡ºè¿‡æœŸçš„è½¯ä»¶åŒ…ï¼š  $pip list --outdated ","permalink":"https://wedojava.github.io/posts/install-pip-2-ubuntu-18/","tags":["linux"," pip"," python"," ubuntu"],"title":"Install pip to Ubuntu 18.04"},{"categories":["Linux"],"contents":"Ubuntu 18 çš„å®¿ä¸»æœº,æ ¸å¿ƒ Update äº†,ç„¶åè¦æ±‚é‡å¯,ç„¶å, VMware èµ·ä¸æ¥äº†, æŠ¥é”™:\nlinux VM kernel headers 4.15.0-37-generic were not found So, Google and Sogou, and look:\nhttps://blog.csdn.net/ritterliu/article/details/7554183\nhttp://www.vi-toolkit.com/wiki/index.php/Build_host_vmware_kernel_modules\né•¿è¯çŸ­è¯´,æˆ‘è¿è¡Œäº†ä¸‹é¢ä¸€è¡Œ,ç„¶åå°±å¥½äº†! â†“\nsudo apt-get install linux-headers-$(uname -r) Good luck good day!\n","permalink":"https://wedojava.github.io/posts/fix-vmware-kernel-headers-for-versions-not-found/","tags":["VMware"," kernel"," ubuntu"],"title":"Fix VMware kernel headers for versions not found"},{"categories":["Linux"],"contents":"æœ¬æ–‡ Debian 9 å®‰è£…å†ç¨‹ï¼Œå®‰è£…åŒ…é€‰çš„æ˜¯æœ€å°ç‰ˆï¼Œç•Œé¢åœ¨å®‰è£…æ—¶é€‰æ‹©çš„æ˜¯ Xfceï¼Œé€‰æ‹©å®ƒæ˜¯å› ä¸ºå®ƒæœ€å¿«ï¼\næœ¬æ–‡ä¸»è¦è®°å½•è”ç½‘,VMå·¥å…·,æ›´æ¢å›½å†…æº,è¾“å…¥æ³•çš„å®‰è£…,è®©debiançš„æ¡Œé¢ç¿»å¢™æˆ‘æ–°å¼€ä¸€é¡µå†™å§.\n# 1. ç³»ç»Ÿå®‰è£… è¿™ä¸ªæ²¡ä»€ä¹ˆå¥½è¯´çš„ï¼Œæˆ‘éƒ½æ˜¯æŒ‰ç…§æ¨èå’Œé»˜è®¤èµ°çš„ï¼Œä¸€è·¯å®‰è£…å®Œæ¯•ã€‚\n# 2. åˆå§‹é…ç½® 2.1. æ‹¨å·è¿æ¥ å³é”®å³ä¸Šè§’çš„ç½‘ç»œè¿æ¥æ ‡å¿—ï¼Œé€‰æ‹© Edit Connections =\u0026gt; ADD =\u0026gt; DSL : å¡«å†™ç”¨æˆ·åå¯†ç å³å¯ï¼ŒæœåŠ¡ä¸ºç©ºã€‚\n2.2. sudo å’Œ vim 2.2.1. å®‰è£… vim å’Œ sudo $ su # apt-get install sudo # apt-get install vim 2.2.2. é…ç½® sudo æ·»åŠ  sudo å‘½ä»¤åˆ°ç”¨æˆ·è´¦å·,ä¸éœ€è¦ä¿®æ”¹ /etc/sudoers æ–‡ä»¶ï¼Œè€Œæ˜¯åœ¨åŒä¸€ä¸ªç›®å½•ä¸‹çš„ /etc/sudoers.d ç›®å½•ä¸‹æ·»åŠ ä¸€ä¸ªæ–‡ä»¶,ä»¥ç”¨æˆ·foobarä¸ºä¾‹:\n# touch /etc/sudoers.d/foobar # vim /etc/sudoers.d/foobar å…¶å†…å®¹å¦‚ä¸‹(æŒ‰ i é”®è¿›å…¥ vim çš„æ’å…¥æ¨¡å¼):\n\u0026#34;foobar\u0026#34; ALL=(ALL) ALL æŒ‰ Esc é€€å‡ºè¾“å…¥æ¨¡å¼,åˆ‡æ¢åˆ°å‘½ä»¤æ¨¡å¼,ç„¶åè¾“å…¥ :wq ä¿å­˜é€€å‡º.\n2.3. å®‰è£… VMTools åœ¨VMwareçš„ VM èœå•é‡Œå¯ä»¥æ‰¾åˆ° VMTools çš„å®‰è£…æŒ‰é’®,ç‚¹ä¸‹,ç³»ç»Ÿé‡Œé¢å°±ä¼šå‡ºç°äº†å…‰ç›˜,æŠŠé‡Œé¢çš„é‚£ä¸ªå‹ç¼©åŒ…æ‹·è´åˆ°åˆ«çš„åœ°æ–¹è§£å‹,ç„¶åå‘½ä»¤è¡Œè¿›å…¥åˆ°è¯¥è§£å‹çš„ç›®å½•ä¸‹,ç„¶åè¿è¡Œå‘½ä»¤:\n$ sudo ./vmware-install.pl ç„¶åå°±å¼€å§‹å®‰è£…äº†,ç¬¬ä¸€æ­¥ä¼šé»˜è®¤æ˜¯ No çš„é€‰é¡¹,æ‰‹åŠ¨è¾“å…¥ Yes, åé¢çš„ä¸€è·¯å›è½¦é€‰æ‹©é»˜è®¤å³å¯.\n2.4. æ›´æ¢è½¯ä»¶æ›´æ–°æº å‚è€ƒç½‘ç«™: https://opsx.alibaba.com/mirror\ndebian 9.x (stretch)\nç¼–è¾‘/etc/apt/sources.listæ–‡ä»¶(éœ€è¦ä½¿ç”¨sudo), åœ¨æ–‡ä»¶æœ€å‰é¢æ·»åŠ ä»¥ä¸‹æ¡ç›®(æ“ä½œå‰è¯·åšå¥½ç›¸åº”å¤‡ä»½)\ndeb http://mirrors.aliyun.com/debian/ stretch main non-free contrib deb-src http://mirrors.aliyun.com/debian/ stretch main non-free contrib deb http://mirrors.aliyun.com/debian-security stretch/updates main deb-src http://mirrors.aliyun.com/debian-security stretch/updates main deb http://mirrors.aliyun.com/debian/ stretch-updates main non-free contrib deb-src http://mirrors.aliyun.com/debian/ stretch-updates main non-free contrib deb http://mirrors.aliyun.com/debian/ stretch-backports main non-free contrib deb-src http://mirrors.aliyun.com/debian/ stretch-backports main non-free contrib 2.5. å®‰è£…è¾“å…¥æ³• å®‰è£… sogou è¾“å…¥æ³•,å» sogou ç½‘ç«™å»ä¸‹ Linux ç‰ˆæœ¬çš„,ç„¶åå‘½ä»¤è¡Œåˆ°ä¸‹è½½çš„ deb æ–‡ä»¶çš„ç›®å½•ä¸‹é¢è¿è¡Œ:\n$ sudo dpkg -i \u0026lt;ä½ ä¸‹è½½çš„sogouè¾“å…¥æ³•.deb\u0026gt; ç„¶åæŠ¥é”™äº†,ç¼ºä¹ä¾èµ–åŒ…: zip, fcitx-libs, ç­‰ç­‰\u0026hellip;\nå®‰è£…ä»–ä»¬:\n$ sudo apt-get install zip $ sudo apt --fix-broken install å®‰è£…å®Œæ¯•é‡å¯,è¾“å…¥æ³•å°±å¯ä»¥ç”¨äº†.\n","permalink":"https://wedojava.github.io/posts/setup-debian9-init/","tags":["linux"," debian"," tips"],"title":"Setup-Debian9-Init"},{"categories":["Editor"],"contents":"{% centerquote ç‹å°æ³¢ %} äººçš„ä¸€åˆ‡ç—›è‹¦ï¼Œæœ¬è´¨ä¸Šéƒ½æ˜¯å¯¹è‡ªå·±æ— èƒ½çš„æ„¤æ€’ã€‚ {% endcenterquote %}\nQuick Fix 1: Remove Strikethrough Extension Sublime Text \u0026gt; Preferences \u0026gt; Package Settings \u0026gt; OmniMarkupPreviewer \u0026gt; Settings - User\npaste the following to remove the strikeout package.\n{ \u0026#34;renderer_options-MarkdownRenderer\u0026#34;: { \u0026#34;extensions\u0026#34;: [\u0026#34;tables\u0026#34;, \u0026#34;fenced_code\u0026#34;, \u0026#34;codehilite\u0026#34;] } } Quick Fix 2: Fix the Strikethrough Extension (if you need it) Find the python-markdown sublime package.\nOn the Mac:\nsubl \u0026#34;/Users/\u0026lt;username\u0026gt;/Library/Application Support/Sublime Text 3/Packages/OmniMarkupPreviewer/OmniMarkupLib/Renderers/libs/mdx_strikeout.py\u0026#34; Replace the makeExtension() method with the following:\ndef makeExtension(*args, **kwargs): return StrikeoutExtension(*args, **kwargs) Save, quit and reload Sublime Text.\n","permalink":"https://wedojava.github.io/posts/fix-omnimarkdownpreview-cannot-preview/","tags":["sublime"],"title":"Fix OmniMarkdownPreview Cannot Preview"},{"categories":["ç¿»å¢™"],"contents":"1. å‰è¨€  å¦‚æœè¦è€è€å®å®çš„ï¼Œè¸è¸å®å®çš„å­¦ä¹ ï¼Œæ¨èå‚è€ƒå®˜æ–¹ç½‘ç«™ï¼šhttps://www.v2ray.com å¦‚æœè¦å¿«é€Ÿå®Œæˆï¼Œæ²¡æƒ³è¦å­¦ä¹ äº†è§£ï¼Œæ¨èï¼šhttps://v2ray66.com  2. æœåŠ¡å™¨å®‰è£…  å‚è€ƒï¼š\n V2Ray å®˜æ–¹æ–‡æ¡£ï¼šhttps://www.v2ray.com/chapter_00/install.html V2Ray é…ç½®æŒ‡å—(ç®€æ˜“ç›´ç™½):https://toutyrater.github.io/prep/install.html å®ä¸ç›¸ç’,ä¸€é”®çš„æ›´å¥½ç”¨: https://v2ray666.com/post/13/   2.1 é€šè¿‡è„šæœ¬å®‰è£… è™½ç„¶æœ‰ä¸€é”®,æˆ‘çš„ç¬¬ä¸€æ¬¡å®‰è£…ä¸æ˜¯ç”¨ä¸€é”®å®‰è£…çš„,æ˜¯è·Ÿç€å®˜æ–¹æ–‡æ¡£åšçš„,å…·ä½“å¦‚ä¸‹:\n2.1.1 æ–¹æ³•ä¸€:å‘½ä»¤è¡Œç›´æ¥è¿è¡Œè„šæœ¬\nbash \u0026lt;(curl -L -s https://install.direct/go.sh) 2.1.2 æ–¹æ³•äºŒ:ä¸‹è½½è„šæœ¬ï¼Œå†è¿è¡Œï¼š\nwget https://install.direct/go.sh sudo bash go.sh 2.1.3 æ–¹æ³•ä¸‰(æ²¡æœ‰ç¿»å¢™çš„åŒå¿—):\nä¸‹è½½ Core åŒ…, ä»è¿™é‡Œä¸‹è½½: https://www.v2ray.com/chapter_00/install.html\næŒ‰é“ç†,ä½ ä¹°çš„VPSè‚¯å®šæ˜¯å¯ä»¥è®¿é—®å„ç±»åœ°æ–¹çš„,ä½†æ˜¯å¦‚æœä¸æ˜¯çš„è¯,é‚£ä¹ˆå°±éœ€è¦ä¸‹è½½ Core åŒ…äº†,ä¸‹è½½ä¸‹æ¥å,è¿è¡Œé‡Œé¢çš„ V2ray ,ç„¶åä¼šç”Ÿæˆä¸€ä¸ª config.json çš„æ–‡ä»¶,æ ¹æ®å¸®åŠ©ä¿®æ”¹å…¶é…ç½®å³å¯.\n2.1.4 æˆåŠŸå®‰è£…çš„æ ·å­ï¼š\nInstalling V2Ray v3.46 on x86_64 Downloading V2Ray. % Total % Received % Xferd Average Speed Time Time Time Current Dload Upload Total Spent Left Speed 100 608 0 608 0 0 1483 0 --:--:-- --:--:-- --:--:-- 1482 100 10.4M 100 10.4M 0 0 5200k 0 0:00:02 0:00:02 --:--:-- 13.2M Extracting V2Ray package to /tmp/v2ray. Archive: /tmp/v2ray/v2ray.zip creating: /tmp/v2ray/v2ray-v3.46-linux-64/ inflating: /tmp/v2ray/v2ray-v3.46-linux-64/geoip.dat inflating: /tmp/v2ray/v2ray-v3.46-linux-64/geosite.dat inflating: /tmp/v2ray/v2ray-v3.46-linux-64/readme.md creating: /tmp/v2ray/v2ray-v3.46-linux-64/systemd/ inflating: /tmp/v2ray/v2ray-v3.46-linux-64/systemd/v2ray.service creating: /tmp/v2ray/v2ray-v3.46-linux-64/systemv/ inflating: /tmp/v2ray/v2ray-v3.46-linux-64/systemv/v2ray inflating: /tmp/v2ray/v2ray-v3.46-linux-64/v2ctl extracting: /tmp/v2ray/v2ray-v3.46-linux-64/v2ctl.sig inflating: /tmp/v2ray/v2ray-v3.46-linux-64/v2ray extracting: /tmp/v2ray/v2ray-v3.46-linux-64/v2ray.sig inflating: /tmp/v2ray/v2ray-v3.46-linux-64/vpoint_socks_vmess.json inflating: /tmp/v2ray/v2ray-v3.46-linux-64/vpoint_vmess_freedom.json PORT:13863 UUID:8ca787e0-571a-4ff4-bef9-f007057e1e0f Created symlink from /etc/systemd/system/multi-user.target.wants/v2ray.service to /etc/systemd/system/v2ray.service. V2Ray v3.46 is installed. 2.2 ç®¡ç†æœåŠ¡ å¯åŠ¨ V2Rayï¼š\n$ sudo systemctl start v2ray åœæ­¢ V2Rayï¼š\n$ sudo systemctl stop v2ray é‡å¯ V2Ray:\n$ sudo systemctl restart v2ray  Tips: åœ¨é¦–æ¬¡å®‰è£…å®Œæˆä¹‹åï¼ŒV2Ray ä¸ä¼šè‡ªåŠ¨å¯åŠ¨ï¼Œéœ€è¦æ‰‹åŠ¨è¿è¡Œä¸Šè¿°å¯åŠ¨å‘½ä»¤ã€‚è€Œåœ¨å·²ç»è¿è¡Œ V2Ray çš„ VPS ä¸Šå†æ¬¡æ‰§è¡Œå®‰è£…è„šæœ¬ï¼Œå®‰è£…è„šæœ¬ä¼šè‡ªåŠ¨åœæ­¢ V2Ray è¿›ç¨‹ï¼Œå‡çº§ V2Ray ç¨‹åºï¼Œç„¶åè‡ªåŠ¨è¿è¡Œ V2Rayã€‚åœ¨å‡çº§è¿‡ç¨‹ä¸­ï¼Œé…ç½®æ–‡ä»¶ä¸ä¼šè¢«ä¿®æ”¹ã€‚\n  æ›´æ–° V2Ray çš„æ–¹æ³•æ˜¯:å†æ¬¡æ‰§è¡Œå®‰è£…è„šæœ¬ï¼å†æ¬¡æ‰§è¡Œå®‰è£…è„šæœ¬ï¼å†æ¬¡æ‰§è¡Œå®‰è£…è„šæœ¬ï¼\n  å¯¹äºå®‰è£…è„šæœ¬ï¼Œè¿˜æœ‰æ›´å¤šç”¨æ³•ï¼Œåœ¨æ­¤ä¸å¤šè¯´äº†ï¼Œå¯ä»¥æ‰§è¡Œ bash go.sh -h çœ‹å¸®åŠ©ã€‚\n 2.3 æœåŠ¡å™¨é…ç½® è¿™é‡Œåªæ˜¯ demo ï¼Œç«¯å£å•¥çš„å‡­ä¸ªäººçˆ±å¥½ã€‚\nä¿®æ”¹é…ç½®æ–‡ä»¶ï¼š\nsudo vim /etc/v2ray/config.json å¦‚ä¸‹ï¼š\n{ \u0026#34;inbound\u0026#34;: { \u0026#34;port\u0026#34;: 10086, // æœåŠ¡å™¨ç›‘å¬ç«¯å£ï¼Œå¿…é¡»å’Œä¸Šé¢çš„ä¸€æ · \u0026#34;protocol\u0026#34;: \u0026#34;vmess\u0026#34;, \u0026#34;settings\u0026#34;: { \u0026#34;clients\u0026#34;: [{ \u0026#34;id\u0026#34;: \u0026#34;b831381d-6324-4d53-ad4f-8cda48b30811\u0026#34; }] } }, \u0026#34;outbound\u0026#34;: { \u0026#34;protocol\u0026#34;: \u0026#34;freedom\u0026#34;, \u0026#34;settings\u0026#34;: {} } } 3. å®¢æˆ·ç«¯å®‰è£…é…ç½® ä¸‹è½½åœ°å€ï¼šhttps://www.v2ray.com/download/\né€‰æ‹© V2RayN æˆ–è€… V2RayW å‡å¯ä¸‹è½½ï¼Œå‰è€…çš„staræ•°é‡æ›´é«˜äº›ã€‚\n3.1 å®¢æˆ·æœºé…ç½® å¦‚æœä½ ä¸‹è½½çš„æ˜¯ v2ray-windows , config.json çš„é…ç½®ç±»ä¼¼ä¸‹é¢ï¼š\n{ \u0026#34;inbound\u0026#34;: { \u0026#34;port\u0026#34;: 1080, // SOCKS ä»£ç†ç«¯å£ï¼Œåœ¨æµè§ˆå™¨ä¸­éœ€é…ç½®ä»£ç†å¹¶æŒ‡å‘è¿™ä¸ªç«¯å£ \u0026#34;listen\u0026#34;: \u0026#34;127.0.0.1\u0026#34;, \u0026#34;protocol\u0026#34;: \u0026#34;socks\u0026#34;, \u0026#34;settings\u0026#34;: { \u0026#34;udp\u0026#34;: true } }, \u0026#34;outbound\u0026#34;: { \u0026#34;protocol\u0026#34;: \u0026#34;vmess\u0026#34;, \u0026#34;settings\u0026#34;: { \u0026#34;vnext\u0026#34;: [{ \u0026#34;address\u0026#34;: \u0026#34;server\u0026#34;, // æœåŠ¡å™¨åœ°å€ï¼Œè¯·ä¿®æ”¹ä¸ºä½ è‡ªå·±çš„æœåŠ¡å™¨ ip æˆ–åŸŸå \u0026#34;port\u0026#34;: 10086, // æœåŠ¡å™¨ç«¯å£ \u0026#34;users\u0026#34;: [{ \u0026#34;id\u0026#34;: \u0026#34;b831381d-6324-4d53-ad4f-8cda48b30811\u0026#34; }] }] } }, \u0026#34;outboundDetour\u0026#34;: [{ \u0026#34;protocol\u0026#34;: \u0026#34;freedom\u0026#34;, \u0026#34;tag\u0026#34;: \u0026#34;direct\u0026#34;, \u0026#34;settings\u0026#34;: {} }], \u0026#34;routing\u0026#34;: { \u0026#34;strategy\u0026#34;: \u0026#34;rules\u0026#34;, \u0026#34;settings\u0026#34;: { \u0026#34;domainStrategy\u0026#34;: \u0026#34;IPOnDemand\u0026#34;, \u0026#34;rules\u0026#34;: [{ \u0026#34;type\u0026#34;: \u0026#34;field\u0026#34;, \u0026#34;ip\u0026#34;: [ \u0026#34;0.0.0.0/8\u0026#34;, \u0026#34;10.0.0.0/8\u0026#34;, \u0026#34;100.64.0.0/10\u0026#34;, \u0026#34;127.0.0.0/8\u0026#34;, \u0026#34;169.254.0.0/16\u0026#34;, \u0026#34;172.16.0.0/12\u0026#34;, \u0026#34;192.0.0.0/24\u0026#34;, \u0026#34;192.0.2.0/24\u0026#34;, \u0026#34;192.168.0.0/16\u0026#34;, \u0026#34;198.18.0.0/15\u0026#34;, \u0026#34;198.51.100.0/24\u0026#34;, \u0026#34;203.0.113.0/24\u0026#34;, \u0026#34;::1/128\u0026#34;, \u0026#34;fc00::/7\u0026#34;, \u0026#34;fe80::/10\u0026#34; ], \u0026#34;outboundTag\u0026#34;: \u0026#34;direct\u0026#34; }] } } } å®¢æˆ·ç«¯å¯åŠ¨åï¼Œåç»­ä¹Ÿç®€å•ï¼Œå°±æ˜¯æµè§ˆå™¨çš„ä»£ç†è®¾ç½®äº†ï¼š127.0.0.1, ç«¯å£: 1080\nä»¥ä¸Šã€‚\n","permalink":"https://wedojava.github.io/posts/get-through-gfw-by-v2ray/","tags":["V2ray"," ç¿»å¢™"," shadowsocks"],"title":"é€šè¿‡ V2ray å®ç°ç§‘å­¦ä¸Šç½‘"},{"categories":["Linux"],"contents":"å‚è€ƒ: https://www.techandme.se/install-redis-cache-on-ubuntu-server-with-php-7-and-owncloud/\nç¼“å­˜,owncloudæ¨èä½¿ç”¨çš„æ˜¯ APCu å’Œ Redis,we with PHP 7 needed to build the PHP module as well, because PECL install didnâ€™t work on PHP 7 yet. And as usual â€“ as we didnâ€™t find any good straight forward guide, here is one that works, enjoy!\nåŸæ–‡è¯´çš„å·²ç»å¾ˆæ¸…æ¥šäº†,ç»†å¿ƒç‚¹åº”è¯¥ä¸ä¼šå‡ºé”™,æˆ‘è¿™é‡Œåªè®°å½•æˆ‘é‡åˆ°çš„å‘å’ŒHow to through it.\ntip1: __ 6. IF THE TEST WAS FINE, PROCEED WITH INSTALLATION__\nè¿™æ­¥çš„å‘½ä»¤æ˜¯åœ¨redisçš„æ ¹ç›®å½•ä¸‹è¿è¡Œçš„\nå¯èƒ½ä½ ä¼šé‡åˆ°æç¤ºä¿¡æ¯: Hint: It's a good idea to run 'make test' ;)\n$ sudo make install $ cd utils \u0026amp;\u0026amp; sudo ./install_server.sh  tip2: git çš„å…‹éš†å’Œä¸‹è½½åŠ¨ä½œæ— æ³•åœ¨è™šæ‹Ÿæœºå†…å®Œæˆ,æœ‰å¢™,æ‰€ä»¥åœ¨æœ¬åœ°å®Œæˆå,ç„¶åå»è™šæ‹Ÿæœº,é€šè¿‡ç›®å½•éšå°„æ¥ä¼ é€’æ–‡ä»¶,æŠŠcloneä¸‹æ¥çš„æ–‡ä»¶æ”¾åˆ°æŒ‡å®šçš„ä½ç½®.\ntip3: æ— æ³•å®‰è£… php7.0-dev If you are coming from the old obsolete repository then remove it\n$ sudo apt-get install python-software-properties $ sudo apt-get install ppa-purge $ sudo ppa-purge ppa:ondrej/php-7.0  Add the new repository and update\n$ sudo add-apt-repository ppa:ondrej/php $ sudo apt-get update $ sudo apt-get upgrade $ sudo apt-get autoremove  å†å®‰è£…ä¸€é:\n$ sudo apt-get install php7.0-dev  tip4: ç”±äºæˆ‘å®‰è£…çš„æ˜¯php7,æ‰€ä»¥ /etc/php/7.0 æ‰æ˜¯phpæ‰€åœ¨ç›®å½•,é‚£ä¹ˆ\n$ touch /etc/php/mods-available/redis.ini  æ‰§è¡Œä¸ä¼šæˆåŠŸ,åº”å½“æ˜¯:\n$ sudo touch /etc/php/7.0/mods-available/redis.ini  åŒæ ·,\n$ echo 'extension=redis.so' \u0026gt; /etc/php/mods-available/redis.ini  ä¹Ÿä¸ä¼šæˆåŠŸäº†,æˆ‘è¿™é‡Œå³ä½¿ç›®å½•è®¾ç½®æ­£ç¡®çš„æƒ…å†µä¸‹ä¹Ÿæ˜¯ä¸è¡Œ,æ‰€ä»¥å°± vim ç¼–è¾‘ ç„¶åæŠŠ extension=redis.so å†™åˆ°é‡Œé¢äº†.\ntip5: $ cd .. \u0026amp;\u0026amp; rm -rf phpredis  è¿™å¥åˆ é™¤çš„ç›®å½•æ˜¯ /etc/phpredis.\n","permalink":"https://wedojava.github.io/posts/install-redis-cache-on-ubuntu-server-with-php-7-and-owncloud/","tags":["linux"," php"," php7"," redis"," ubuntu"," owncloud"," install"],"title":"Install Redis Cache on Ubuntu Server with PHP 7 and ownCloud"},{"categories":["Linux"],"contents":"æœ¬æ—¥å¿—ä¸»è¦è®°å½•æˆ‘é…ç½®OwnCloudç¯å¢ƒçš„è¿‡ç¨‹,æ³¨æ„,é’ˆå¯¹OwnCloud,è‡³äºæŸäº›æ¨¡å—å¼€å¯å’Œå…³é—­é—®é¢˜,å¯ä»¥æ ¹æ®å…·ä½“æƒ…å†µè‡ªè¡Œè°ƒæ•´.å¦å¤–æˆ‘æ“ä½œçš„ç³»ç»Ÿæ˜¯Ubuntu14.04LTS. è¿™é‡Œæ¨èä¸€ä¸ªå¾ˆä¸é”™çš„æ–‡æ¡£ä½ç½®:https://www.linode.com/docs/\næ„Ÿæ‚Ÿ:\n é‡å‘è¿‡å‘,ä½›æŒ¡æ€ä½›. çœ‹æ–‡æ¡£å¾ˆé‡è¦,å½“ç„¶,èƒ½å»å®˜æ–¹çš„GitHubçœ‹çœ‹æ›´å¥½. æœ€å¤§å‘è§£å†³è¿‡ç¨‹: OwnCloudæ–‡æ¡£ -\u0026gt; MySQLæ–‡æ¡£ -\u0026gt; MariaDBæ–‡æ¡£ -\u0026gt; Google -\u0026gt; MySQL/MariaDBæ–‡æ¡£ -\u0026gt; Github/owncloud/core -\u0026gt; issue -\u0026gt;search for my ailling key-\u0026gt; get it!!   ä¸€. æ›´æ¢æº å‚ç…§:https://wiki.ubuntu.org.cn/æºåˆ—è¡¨ æˆ‘æ›¾ç»ç”¨çš„(ç½‘æ˜“):http://mirrors.163.com/.help/ubuntu.html\n$ sudo cp /etc/apt/sources.list /etc/apt/sources.list.bak $ wget http://mirrors.163.com/.help/sources.list.trusty $ sudo cp sources.list.trusty /etc/apt/sources.list # åˆ·æ–°åˆ—è¡¨ $ sudo apt-get update # å‡çº§ç³»ç»Ÿ,å¯é€‰! $ sudo apt-get upgrade  æˆ‘ç°åœ¨ç”¨çš„(é¦™æ¸¯ä¸­æ–‡å¤§å­¦):\ndeb http://ftp.cuhk.edu.hk/pub/Linux/ubuntu trusty main restricted universe multiverse deb http://ftp.cuhk.edu.hk/pub/Linux/ubuntu trusty-security main restricted universe multiverse deb http://ftp.cuhk.edu.hk/pub/Linux/ubuntu trusty-updates main restricted universe multiverse deb http://ftp.cuhk.edu.hk/pub/Linux/ubuntu trusty-backports main restricted universe multiverse deb http://ftp.cuhk.edu.hk/pub/Linux/ubuntu trusty-proposed main restricted universe multiverse deb-src http://ftp.cuhk.edu.hk/pub/Linux/ubuntu trusty main restricted universe multiverse deb-src http://ftp.cuhk.edu.hk/pub/Linux/ubuntu trusty-security main restricted universe multiverse deb-src http://ftp.cuhk.edu.hk/pub/Linux/ubuntu trusty-updates main restricted universe multiverse deb-src http://ftp.cuhk.edu.hk/pub/Linux/ubuntu trusty-backports main restricted universe multiverse deb-src http://ftp.cuhk.edu.hk/pub/Linux/ubuntu trusty-proposed main restricted universe   äºŒ. åˆå§‹åŒ–æ“ä½œ å…¶ä»–æ“ä½œç³»ç»Ÿå¯ä»¥å‚è€ƒ:https://www.linode.com/docs/getting-started\n1. è®¾ç½®Hostname ä½ å¯ä»¥ä¹‹é—´ç¼–è¾‘:\n$ sudo nano /etc/hostname  When youâ€™re finished editing, press Control-X, then Y to save the changes and Enter to confirm.\næˆ–è€…:\n$ echo \u0026quot;hostname\u0026quot; \u0026gt; /etc/hostname $ hostname -F /etc/hostname  2. è®¾ç½®æ—¶åŒº è¿™ä¸ªè¿˜æ˜¯å¾ˆæœ‰å¿…è¦çš„,å¦åˆ™ä½ çœ‹ä¸æ‡‚æœåŠ¡å™¨æ—¥å¿—çš„å®é™…æ—¶é—´.\n$ sudo dpkg-reconfigure tzdata   ä¸‰. Apacheå®‰è£…å’ŒåŸºæœ¬é…ç½® å‚è€ƒ: http://tecadmin.net/install-php-7-0-apache-2-4-mysql-5-6-on-ubuntu/ https://segmentfault.com/a/1190000004687322 http://www.rolandolucio.com/howto/2016/02/05/php7-mysql5.7-apache2-ubuntu-lamp.html https://launchpad.net/~ondrej/\nå®‰è£… Apache 2.4 (1)é€šè¿‡aptå®‰è£…Apache $ sudo apt-get install apache2   Error:   AH00558: apache2: Could not reliably determine the server\u0026rsquo;s fully qualified domain name, using 127.0.1.1. Set the \u0026lsquo;ServerName\u0026rsquo; directive globally to suppress this message\n  Solution:  If you insert a\nServerName localhost  in either httpd.conf or apache2.conf in /etc/apache2 and restart apache the notice will disappear.\n(2)å…³é—­ KeepAlive ç¼–è¾‘apacheä¸»é…ç½®æ–‡ä»¶/etc/apache2/apache2.conf ï¼Œä¿®æ”¹ KeepAlive è®¾ç½® KeepAlive Off\n(3)å¯ç”¨ prefork æ¨¡å— Apacheé»˜è®¤çš„ multi-processing æ¨¡å—( MPM ) æ˜¯ä¸€ä¸ª event æ¨¡å—, ä½†æ˜¯ php é»˜è®¤æ˜¯ä½¿ç”¨ prefork æ¨¡å—,ç¦ç”¨ event æ¨¡å—ï¼Œå¯ç”¨ prefork æ¨¡å—:\n$ sudo a2dismod mpm_event $ sudo a2enmod mpm_prefork  (4)é‡å¯ apache2 æœåŠ¡ $ sudo service apache2 restart   å››. Install PHP 7 è€ƒè™‘åˆ°è›‹ç–¼çš„ä¸­åå¤§åŸåŸŸç½‘çš„åŸå› ,å¾ˆå¯èƒ½å®‰è£…ä¼šé‡åˆ°æŸäº›æ¨¡å—æ‰¾ä¸åˆ°çš„æƒ…å†µ,å°±éœ€è¦é€‰æ‹©çš„ç¼–è¯‘æºç å®‰è£…(æ–¹æ³•ä¸€),å¦‚æœä¸€åˆ‡ç¯å¢ƒè‰¯å¥½,å¯ä»¥é€‰æ‹©ä¾¿æ·çš„æ–¹æ³•äºŒ.\nç¼–è¯‘æºç å®‰è£…(æ–¹æ³•ä¸€): è¯·å‚è€ƒæˆ‘çš„çš„åšå®¢: http://huifeng.me/2016/05/18/LEMP-step-to-step/#3-__u5B89_u88C5PHP_7-0-6\nå¿«é€Ÿæºå®‰è£…(æ–¹æ³•äºŒ): First install python-software-properties package on your system which provides add-apt-repository command then use the following set of commands to add PPA for PHP 7 in your Ubuntu system and install it.\nsudo apt-cache search php7.0  æœç´¢çœ‹æ˜¯å¦æœ‰ php7.0,å¦‚æœæ²¡æœ‰å°±æ·»åŠ æº,ç„¶åæ›´æ–°,ç„¶åå®‰è£…:\n$ sudo apt-get install python-software-properties $ sudo apt-get install software-properties-common $ sudo add-apt-repository ppa:ondrej/php $ sudo apt-get update $ sudo apt-get install -y php7.0  æˆ–è€…:\n$ sudo nano /etc/apt/sources.list  æ·»åŠ :\ndeb http://ppa.launchpad.net/ondrej/php/ubuntu trusty main deb-src http://ppa.launchpad.net/ondrej/php/ubuntu trusty main  ç„¶å:\n$ sudo apt-get update $ sudo apt-get install -y php7.0  1. æŸ¥çœ‹å®‰è£…æƒ…å†µ: æŸ¥çœ‹ç‰ˆæœ¬:\n$ php -v  æŸ¥çœ‹å®‰è£…çš„æ¨¡å—:\n$ php -m | grep -i \u0026lt;module_name\u0026gt;  æŸ¥çœ‹å¯ä»¥å®‰è£…çš„æ¨¡å—: $ sudo apt-cache search php7-*  2. å®‰è£…æ¨¡å— $ sudo apt-get install libapache2-mod-php7.0 php7.0-mysql php7.0-curl php7.0-json php7.0-zip php7.0-xml php7.0-gd php7.0-mcrypt php7.0-mbstring php7.0-imagick   Tips: Ubuntu Error-\u0026gt; locale: Cannot set LC_CTYPE to default locale: No such file or directory Wiki:http://wiki.ubuntu.org.cn/%E4%BF%AE%E6%94%B9locale Solution:\n locale æ˜¾ç¤ºå½“å‰è¯­è¨€ç¯å¢ƒ sudo nano /etc/default/locale æ¥ä¿®æ”¹è¯­è¨€é…ç½® å®‰è£…éœ€è¦çš„è¯­è¨€ç¯å¢ƒ,æˆ‘è¿™é‡Œè®¾ç½®çš„æ˜¯ zh_CN.UTF-8,æ‰€ä»¥:sudo locale-gen zh_CN.UTF-8 Over!   OwnCloud å¿…é¡»éœ€è¦çš„æ¨¡å—  PHP module ctype (if\u0026gt;4.2.0 enabled by default) PHP module dom (enabled by default) PHP module GD PHP module iconv (enabled by default) PHP module JSON PHP module libxml (Linux package libxml2 must be \u0026gt;=2.7.0) PHP module mb multibyte PHP module posix (enabled by default) PHP module SimpleXML PHP module XMLWriter (if\u0026gt;5.1.2 enabled by default) PHP module zip PHP module zlib  ä¹‹å‰çš„å‘½ä»¤å·²ç»å…¨éƒ¨æ»¡è¶³äº†è¿™äº›æ¨¡å—çš„å®‰è£…éœ€æ±‚.\nOwnCloud æ¨èå®‰è£…çš„æ¨¡å—  PHP module curl (highly recommended, some functionality, e.g. HTTP user authentication, depends on this) PHP module fileinfo (highly recommended, enhances file analysis performance)  sudo apt-get install php7.0-common   PHP module bz2 (recommended, required for extraction of apps)  sudo apt-get install php7.0-bz2   PHP module intl (increases language translation performance and fixes sorting of non-ASCII characters)  sudo apt-get install php7.0-intl   PHP module mcrypt (increases file encryption performance)  sudo apt-get install php7.0-mcrypt   PHP module openssl (required for accessing HTTPS resources)  sudo apt-get install openssl ,æ›´å¤šæ“ä½œå¾…ç»­\u0026hellip;    OwnCloud æåˆ°çš„é¢å¤–çš„ä¸€äº›æ¨¡å— ä¸ªåˆ«appæˆ–è€…ä¼šç”¨åˆ°ä»¥é˜²ä¸æ—¶ä¹‹éœ€,å°±å®‰è£…ä¸Šå§:\nRequired for specific apps:\n PHP module ldap (for LDAP integration)  sudo apt-get install php7.0-ldap   PHP module smbclient (SMB/CIFS integration, see SMB/CIFS)  sudo apt-get install php7.0-smbclient   PHP module ftp (for FTP storage / external user authentication)  be installed by php7.0-common   PHP module imap (for external user authentication)  sudo apt-get install php7.0-imap    Recommended for specific apps (optional):\n PHP module exif (for image rotation in pictures app)  sudo apt-get install php7.0-exif   PHP module gmp (for SFTP storage)  sudo apt-get install php7.0-gmp    3. phpinfo å†™æµ‹è¯•é¡µæµ‹è¯•ä¸‹ /var/www/html/phpinfo.php :\n\u0026lt;?php phpinfo();  æµè§ˆ: http://YourServerIp/phpinfo.php ,åº”è¯¥æ²¡é—®é¢˜,å¦‚æœå‡ºç°phpæ–‡ä»¶æ²¡æœ‰è¢«è§£æ,é‡æ–°è¿è¡Œå®‰è£…æ¨¡å—å‘½ä»¤å§: sudo apt-get install libapache2-mod-php7.0\n4. PHPæ—¥å¿—è®¾å®š Create the /var/log/php/ directory for the PHP error log:\n$ sudo mkdir -p /var/log/php  Change the owner of the /var/log/php/ directory to www-data, which the PHP user runs as:\n$ sudo chown www-data /var/log/php   äº”. å®‰è£…MariaDB10 å‚è€ƒ: https://mariadb.org/learn/ https://mariadb.com/kb/en/mariadb/getting-installing-and-upgrading-mariadb/\nä»\n https://launchpad.net æœç´¢ MariaDB 10.1.14 æ‰¾åˆ°äº† https://lists.launchpad.net/maria-discuss/msg03586.html ç„¶åæ‰¾åˆ°äº† APT and YUM Repository Configuration Generator:  https://downloads.mariadb.org/mariadb/repositories/ So (My base on Ubuntu 14.04LTS):   https://downloads.mariadb.org/mariadb/repositories/#mirror=nethub\u0026amp;distro=Ubuntu\u0026amp;distro_release=trusty--ubuntu_trusty\u0026amp;version=10.1  Than(é¦™æ¸¯çš„è¿™ä¸ªé è°±äº›):\n$ sudo apt-get install software-properties-common $ sudo apt-key adv --recv-keys --keyserver hkp://keyserver.ubuntu.com:80 0xcbcb082a1bb943db $ sudo add-apt-repository 'deb [arch=amd64,i386] http://mariadb.nethub.com.hk/repo/10.1/ubuntu trusty main'  ç„¶åå®˜æ–¹å»ºè®®æ·»åŠ ä¸ªæ–°çš„ sourse.list æ–‡ä»¶åˆ°æºç›®å½•ä¸‹,æ–¹ä¾¿ä»¥åæ›´æ–°æ›´å¿«æ·,æˆ‘çš„æ–‡ä»¶å¦‚ä¸‹:\n /etc/apt/sources.list.d/MariaDB.list â†“\n# MariaDB 10.1 repository list - created 2016-05-23 02:34 UTC # http://mariadb.org/mariadb/repositories/ deb [arch=amd64,i386] http://mariadb.nethub.com.hk/repo/10.1/ubuntu trusty main deb-src http://mariadb.nethub.com.hk/repo/10.1/ubuntu trusty main  ç„¶å,Install MariaDB 10.1.14 with blow once your add the key and the repository successful:\n$ sudo apt-get update $ sudo apt-get install mariadb-server   è¿™é‡Œè§£å†³ä¸‹ update æ—¶é—®é¢˜:\n W: GPG é”™è¯¯ï¼šhttp://ppa.launchpad.net trusty InRelease: ç”±äºæ²¡æœ‰å…¬é’¥ï¼Œæ— æ³•éªŒè¯ä¸‹åˆ—ç­¾åï¼š NO_PUBKEY 4F4EA0AAE5267A6C   ä» hkp æœåŠ¡å™¨ wwwkeys.pgp.netä¸‹è½½å¹¶å¯¼å…¥ç¼ºå¤±çš„å…¬é’¥(é‡‡ç”¨rootæƒé™)\n $ sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys 4F4EA0AAE5267A6C   å…­. é…ç½®Apache æ–‡æ¡£è¿›è¡Œåˆ°è¿™ä¸€æ­¥äº†: https://doc.owncloud.org/server/9.0/admin_manual/installation/source_installation.html#example-installation-on-ubuntu-14-04-lts-server\næ¥ä¸‹æ¥å°†è¿›è¡Œ Apache å’Œ PHP çš„é…ç½®, OwnCloud å‘½ä»¤è¡Œçš„å®‰è£…ç­‰ç­‰,æŒ‰ç…§ OwnCloud æ–‡æ¡£ä¸€æ­¥ä¸€æ­¥æ¥å§.\næ•´ä¸ªè¿‡ç¨‹è™½ç„¶æ¯”è¾ƒæ…¢,ä½†æ˜¯æˆ‘æƒ³è¿™æ ·ä¸‹æ¥æ”¶è´§ç»å¯¹ä¸å°‘,è‡³å°‘æé«˜äº†è¿‡å‘èƒ½åŠ›.\n1. Get Owncloud Now download the archive of the latest ownCloud version:\nGo to the ownCloud Download Page.\nMy command for download,unpacking and copy unpacks to its final destination:\n$ wget https://download.owncloud.org/community/owncloud-9.0.2.tar.bz2 $ tar jxvf owncloud-9.0.2.tar.bz2 $ sudo cp -r owncloud /var/www/  2. Apache Web Server Configuration (1) Create a /etc/apache2/sites-available/owncloud.conf file with these lines in it,replacing the Directory and other filepaths with your own filepaths:\nAlias /owncloud \u0026quot;/var/www/owncloud/\u0026quot; \u0026lt;Directory /var/www/owncloud/\u0026gt; Options +FollowSymlinks AllowOverride All \u0026lt;IfModule mod_dav.c\u0026gt; Dav off \u0026lt;/IfModule\u0026gt; SetEnv HOME /var/www/owncloud SetEnv HTTP_HOME /var/www/owncloud \u0026lt;/Directory\u0026gt;  (2) Then create a symlink to /etc/apache2/sites-enabled to enable your new website, replacing owncloud with your config file name:\n$ sudo ln -s /etc/apache2/sites-available/owncloud.conf /etc/apache2/sites-enabled/owncloud.conf  Or:\n$ sudo a2ensite owncloud.conf  Than:\n$ sudo service apache2 restart  Additional Apache Configurations  For ownCloud to work correctly, we need the module mod_rewrite. Enable it by running:  sudo a2enmod rewrite  Additional recommended modules are mod_headers, mod_env, mod_dir and mod_mime:  $ sudo a2enmod headers $ sudo a2enmod env $ sudo a2enmod dir $ sudo a2enmod mime  ä½ å¿…é¡»ä¸º Owncloud ç¦æ­¢ä»»ä½•æœåŠ¡å™¨é…ç½®è®¤è¯,add the following line in the \u0026lt;Directory section:  Satisfy Any Enable Vhost (1) Disable the default Apache virtual host:\n$ sudo a2dissite *default  (2) Create log folders\n$ mkdir -p /var/www/owncloud/log/  (3) change config file /etc/apache2/sites-available/owncloud.conf to blow:\n\u0026lt;VirtualHost *:80\u0026gt; # Admin email, Server Name (domain name), and any aliases ServerAdmin wedojava@gmail.com ServerName yun.app # ServerAlias owncloud.app # Index file and Document Root (where the public files are located) DirectoryIndex index.html index.php DocumentRoot /var/www/owncloud # Log file locations LogLevel warn ErrorLog /var/www/owncloud/log/error.log CustomLog /var/www/owncloud/log/access.log combined \u0026lt;/VirtualHost\u0026gt;  è‡³æ­¤,æˆ‘å·²ç»å¯ä»¥é€šè¿‡ http://yun.app è®¿é—®åˆ°owncloudç«™ç‚¹äº†,å¯ä»¥å®‰è£…äº†.\n ä¸ƒ. é…ç½®MySQL/MariaDB OwnCloud é€šè¿‡ TRANSACTION_READ_COMMITTED æ¥äº¤æ¢éš”ç¦»,ä»¥é¿å…åœ¨é«˜è°ƒç”¨ç‡çš„æƒ…å†µä¸‹ä¸¢å¤±æ•°æ®(æ¯”å¦‚,ä½ æœ‰å¾ˆå¤šå®¢æˆ·,å®¢æˆ·ç”¨å®¢æˆ·ç«¯åŒæ—¶åŒæ­¥æ•°æ®,é¢‘ç¹æ“ä½œ).è§£å†³è¿™ä¸ªé—®é¢˜,éœ€è¦ç¦ç”¨æˆ–è€…æ­£ç¡®çš„é…ç½® MySQL/MariaDB çš„ binary logging é…ç½®.\né»˜è®¤å®‰è£…å¥½çš„æ•°æ®åº“åœ¨é€šè¿‡æµè§ˆå™¨è®¿é—®å¹¶å®‰è£…çš„æ—¶å€™ä¼šé‡åˆ°é”™è¯¯ä¿¡æ¯:\n An unhandled exception has been thrown: exception â€˜PDOExceptionâ€™ with message \u0026lsquo;SQLSTATE[HY000]: General error: 1665 Cannot execute statement: impossible to write to binary log since BINLOG_FORMAT = STATEMENT and at least one table uses a storage engine limited to row-based logging. InnoDB is limited to row-logging when transaction isolation level is READ COMMITTED or READ UNCOMMITTED.\u0026rsquo;\n There are two solutions. One is to disable binary logging. Binary logging records all changes to your database, and how long each change took. The purpose of binary logging is to enable replication and to support backup operations.\nThe other is to change the BINLOG_FORMAT = STATEMENT in your database configuration file, or possibly in your database startup script, to BINLOG_FORMAT = MIXED. See Overview of the Binary Log and The Binary Log for detailed information.\nä¸‹é¢å¼€å§‹ä¿®æ”¹ BINGLOG: æˆ‘å®‰è£…çš„æ˜¯ 10.1.14-MariaDB-1~trusty, ä¸»é…ç½®æ–‡ä»¶åœ¨:/etc/mysql/my.cnf\n ç‰ˆæœ¬å·æ€ä¹ˆæŸ¥? mysql -u root -p ç™»å½•,ç„¶åè¾“å…¥ show variables like \u0026quot;version\u0026quot;; å³å¯æ˜¾ç¤ºç‰ˆæœ¬å·äº†.\n 1. è§£å†³ BINLOG_FORMAT é—®é¢˜. çœŸå¿ƒæŸ¥é˜…é‡Œå¾ˆå¤šåœ°æ–¹,ä»MySQLå’ŒOwnCloudå®˜æ–¹æ–‡æ¡£åˆ°GitHub: http://dev.mysql.com/doc/refman/5.7/en/binary-log-setting.html è¿™é‡ŒMySQLç¡®å®è¯´äº†æ€ä¹ˆè®¾ç½®,ä½†æ˜¯é‡å¯æœåŠ¡å™¨åˆæ²¡äº†!!!Owncloudä¹Ÿæ˜¯æŒ‡å‘é‡Œç±»ä¼¼çš„è§£å†³é—®é¢˜çš„åŠæ³•. å¯èƒ½å¾ˆå¤šè§£å†³é—®é¢˜çš„éƒ½æ˜¯å¤§ç¥å§,ä»–ä»¬è¯´çš„å¹¶ä¸æ˜¯å¾ˆæ¸…æ¥š,åªæ˜¯è¯´æ·»åŠ ä¸€è¡Œbinlog_format = MIXEDåˆ°my.cnf,ä½†æ˜¯æ·»åŠ é”™è¯¯çœŸçš„ä¸ä¼šèµ·ä½œç”¨çš„!!æœ€ç»ˆæ‰¾åˆ°ä¸€ä¸ªå¥½äºº,ä»–è¯´ä¸­äº†æˆ‘çš„ç—›ç‚¹,æ€ä¹ˆå¤„ç†? https://github.com/owncloud/core/issues/16008 çœ‹@saamoçš„å›ç­”æ€»ç®—æ˜ç™½æ˜¯å“ªé‡Œçš„é—®é¢˜äº†.\nIt was already said somewhere above but make sure to place the option under the [mysqld] header in /etc/mysql/my.cnf unless it won\u0026rsquo;t work.\n[mysqld] binlog_format = MIXED  ç„¶åé‡å¯æœåŠ¡å™¨,é—®é¢˜è§£å†³!\nç„¶åæˆ‘åœ¨å®‰è£…çš„æ—¶å€™é‡åˆ°çš„ä¸Šé¢çš„å‡ºé”™ä¿¡æ¯,ä¸‹é¢åˆ†å¸ƒè§£å†³,ä½ å¯ä»¥è·³è¿‡ç¬¬ä¸€æ­¥,ä¹‹é—´è¿›å…¥ç¬¬äºŒæ­¥.\n2. phpMyAdmin å…ˆå®‰è£…ä¸ªphpMyAdminå§,å¯ä»¥å‚è€ƒ: https://launchpad.net/~nijel/+archive/ubuntu/phpmyadmin https://docs.phpmyadmin.net/en/latest/setup.html æˆ‘æ˜¯ç”¨çš„ Composer è£…çš„,æ¨èæ­¤æ³•!! å½“ç„¶ç›´æ¥ä¸‹è½½ä¹Ÿæ˜¯å¯ä»¥ç”¨çš„,éœ€è¦æ³¨æ„çš„æ˜¯æˆªæ­¢ç›®å‰,4.6å¯¹ä¸­æ–‡çš„æ”¯æŒä¸æ˜¯å¾ˆå¥½,æ‰€ä»¥ä¼šæŠ¥é”™: Ignoring unsupported language code.\n 2016/5/22æ›´æ–°ï¼šgithubä¸Šé¢å¤§ç¥å·²æ‰¾åˆ°é—®é¢˜åŸå› ï¼Œå®˜æ–¹å›å¤ä¼šåœ¨4.6.2ç‰ˆæœ¬äºˆä»¥ä¿®å¤ï¼Œå¤§å®¶æ‹­ç›®ä»¥å¾…ï¼  https://github.com/phpmyadmin/phpmyadmin/issues/12256    æš‚æ—¶å¯ä»¥è¿™ä¹ˆè§£å†³:\nåœ¨ç™»å½•é¡µä¿®æ”¹è¯­è¨€ä¸ºè‹±æ–‡,æˆ–è€…ä¿®æ”¹é…ç½®æ–‡ä»¶ libraries/config.default.php çš„è¿™ä¸€è¡Œ:\n$cfg['Lang'] = 'en';  3. Configuring a MySQL or MariaDB Database If you decide to use a MySQL or MariaDB database, ensure the following:\n That you have installed and enabled the pdo_mysql extension in PHP That the mysql.default_socket points to the correct socket (if the database runs on the same server as ownCloud).  Now you need to create a database user and the database itself by using the MySQL command line interface. The database tables will be created by ownCloud when you login for the first time.\n(1) ç”Ÿæˆå¯†ç  è¿™é‡Œæ–°å¼€ä¸€ä¸ªç»ˆç«¯,ç”¨å‘½ä»¤éšæœºç”Ÿæˆä¸€ä¸ªç”¨æˆ·å¯†ç :openssl rand -base64 12,æˆ‘æµ‹è¯•ç”Ÿæˆçš„æ˜¯6Vh44YmKoOcR2NWo ç»å¸¸æˆ‘ä»¬ä¼šå¿˜è®°äº†æ•°æ®åº“çš„ç”¨æˆ·å,æ‰€ä»¥,æˆ‘æ¨èä¸€ä¸ªæ•°æ®åº“å°±ç”¨å’Œæ•°æ®åº“åä¸€æ ·çš„ç”¨æˆ·å,å¯†ç éšæœºç”Ÿæˆ.\n(2) åˆ›å»ºç”¨æˆ·å’Œæ•°æ®åº“ To start the MySQL command line mode use:\n$ mysql -uroot -p  Then a mysql\u0026gt; or MariaDB [root]\u0026gt; prompt will appear. Now enter the following lines and confirm them with the enter key:\nMariaDB [root]\u0026gt; CREATE USER 'owncloud'@'localhost' IDENTIFIED BY 'åˆšæ‰éšæœºç”Ÿæˆçš„å¯†ç '; MariaDB [root]\u0026gt; CREATE DATABASE IF NOT EXISTS owncloud; MariaDB [root]\u0026gt; GRANT ALL PRIVILEGES ON owncloud.* TO 'owncloud'@'localhost' IDENTIFIED BY 'åˆšæ‰éšæœºç”Ÿæˆçš„å¯†ç ';  You can quit the prompt by entering:\nquit   æ³¨æ„,åˆ°è¿™ä¸€æ­¥,å·²ç»å¯ä»¥å®Œå…¨å®‰è£…å¥½OwnCloudäº†,è™½ç„¶ä¸‹é¢æ˜¯å¯é€‰é¡¹,ä½†æ˜¯æœ€å¥½è¿˜æ˜¯è®¾ç½®å·sslå’Œpretty url. â†“\n Pretty URLs Pretty URLs are created automatically when .htaccess is writable by the HTTP user, mod_env and mod_rewrite are installed, and 'overwrite.cli.url' in your config.php is set to any non-null value.\nEnabling SSL å®˜æ–¹å¼ºçƒˆå»ºè®®å¯ç”¨ssl.\nApache installed under Ubuntu comes already set-up with a simple self-signed certificate. All you have to do is to enable the ssl module and the default site. Open a terminal and run:\n$ sudo a2enmod ssl $ sudo a2ensite default-ssl $ sudo service apache2 reload ","permalink":"https://wedojava.github.io/posts/lamp-stepbystep/","tags":["linux"," php"," mysql"," mariadb"," apache2"," apache"],"title":"LAMPç¯å¢ƒæ­å»º(Ubuntu14.04 For OwnCloud)"},{"categories":["Linux"],"contents":" æ›´å¤šæ–‡æ¡£è¯·æµè§ˆå®˜æ–¹æ–‡æ¡£å’ŒWikiï¼Œè¿™ä¸ªå¾ˆé‡è¦ï¼Œå…¶å®æ–‡æ¡£é‡Œå·²ç»è¯´çš„å¾ˆæ¸…æ¥šäº†ï¼Œä¼šé‡åˆ°çš„Bugå¾€å¾€åœ¨å›å¤é‡Œä¹Ÿæœ‰ã€‚\n  ##ã€€1. æ›´æ¢å›½å†…æ›´æ–°æº\n Ubuntu 14.04 æ›´æ–°æº: https://m.oschina.net/blog/224661\n 2. å®‰è£…Nginx  æƒ³è¦å®‰è£…æœ€æ–°ç‰ˆæœ¬ï¼Œæˆ–æ·»åŠ æ¨¡å—ï¼Œè¯·å‚è€ƒè¿™é‡Œï¼šhttp://nginx.org/en/linux_packages.html\n   ä¸‹è½½ nginx_signing.key: wget http://nginx.org/keys/nginx_signing.key\n  æ·»åŠ ä¸‹é¢ä»£ç åˆ° /etc/apt/sources.list çš„æœ«å°¾ï¼š\ndeb http://nginx.org/packages/ubuntu/ trusty nginx deb-src http://nginx.org/packages/ubuntu/ trusty nginx\n  æœ€å:\nsudo apt-get update sudo apt-get install nginx  å®‰è£…æˆåŠŸåï¼Œåº”è¯¥å¯ä»¥åœ¨å‘½ä»¤è¡Œè¿™æ ·ï¼š\n sudo nginx -s stop â€” fast shutdown sudo nginx -s quit â€” graceful shutdown sudo nginx -s reload â€” reloading the configuration file sudo nginx -s reopen â€” reopening the log files  3. å®‰è£…PHP 7.0.6  å¯ä»¥å‚è€ƒï¼šhttp://php.net/manual/zh/install.unix.nginx.php\n å…ˆä¸‹è½½éœ€è¦çš„ç‰ˆæœ¬çš„ phpã€€åŒ…ï¼Œç„¶åè§£å‹ç­‰ç­‰ï¼š\ntar zxf php-7.0.6.tar.gz cd php-7.0.6 ./configure --enable-fpm --with-mysql make make test sudo make install   ã€€åœ¨è¿è¡Œã€€./configure çš„è¿‡ç¨‹ä¸­æˆ‘é‡åˆ°äº†è‹¥å¹²é”™è¯¯ä¿¡æ¯ï¼š\n   __Error:__configure: error: xml2-config not found. Please check your libxml2 installation.ã€€æˆ‘å¼€å§‹å®‰è£…äº†ä¸‹ libxml2ã€€ï¼Œå‘ç°é—®é¢˜è¿˜æ˜¯æ²¡è§£å†³ï¼Œåœ¨ stackoverflowã€€æ‰¾åˆ°äº†ç­”æ¡ˆï¼šé“¾æ¥\n __Solution:__å®‰è£…ã€€libxml2ã€€å’Œã€€libxml2-devã€€å³å¯ï¼šsudo apt-get install libxml2ã€€libxml2-dev    __Error:__configure: WARNING: unrecognized options: --with-mysql\n Solution1:ã€€--with-pdo-mysql instead of --with-mysql Solution2:ã€€--with-mysqli instead of --with-mysql    make install log:\nWrote PEAR system config file at: /usr/local/etc/pear.conf You may want to add: /usr/local/lib/php to your php.ini include_path /home/vagrant/php-7.0.6/build/shtool install -c ext/phar/phar.phar /usr/local/bin ln -s -f phar.phar /usr/local/bin/phar Installing PDO headers: /usr/local/include/php/ext/pdo/  è¿è¡Œï¼š\nsudo /home/vagrant/php-7.0.6/build/shtool install -c ext/phar/phar.phar /usr/local/bin sudo ln -s -f phar.phar /usr/local/bin/phar  åˆ›å»ºé…ç½®æ–‡ä»¶ï¼Œå¹¶å°†å…¶å¤åˆ¶åˆ°æ­£ç¡®çš„ä½ç½®:\ncp php.ini-development /usr/local/php/php.ini cp /usr/local/etc/php-fpm.conf.default /usr/local/etc/php-fpm.conf cp sapi/fpm/php-fpm /usr/local/bin  éœ€è¦ç€é‡æé†’çš„æ˜¯ï¼Œå¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ™é˜»æ­¢ Nginx å°†è¯·æ±‚å‘é€åˆ°åç«¯çš„ PHP-FPM æ¨¡å—ï¼Œ ä»¥é¿å…é­å—æ¶æ„è„šæœ¬æ³¨å…¥çš„æ”»å‡»ã€‚\nå°† /usr/local/php/php.ini æ–‡ä»¶ä¸­çš„é…ç½®é¡¹ cgi.fix_pathinfo è®¾ç½®ä¸º 0 ã€‚\nåœ¨å¯åŠ¨æœåŠ¡ä¹‹å‰ï¼Œéœ€è¦ä¿®æ”¹ php-fpm.conf é…ç½®æ–‡ä»¶ï¼Œç¡®ä¿ php-fpm æ¨¡å—ä½¿ç”¨ www-data ç”¨æˆ·å’Œ www-data ç”¨æˆ·ç»„çš„èº«ä»½è¿è¡Œã€‚\nvim /usr/local/etc/php-fpm.conf  ä¿®æ”¹ï¼š\n; Unix user/group of processes ; Note: The user is mandatory. If the group is not set, the default user's group ; will be used. user = www-data group = www-data   __éœ€è¦æ³¨æ„çš„æ˜¯ï¼š__æˆ‘åœ¨è¿™ä¸ªæ–‡ä»¶é‡Œæ²¡æ‰¾åˆ°ã€€userçš„è®¾ç½®ï¼Œè«éå®˜æ–¹æ–‡æ¡£è¿˜æ²¡æœ‰é’ˆå¯¹PHP7?ï¼Œæˆ‘åœ¨ã€€/usr/local/etc/php-fpm.d/www.conf.defaultã€€é‡Œæ‰¾åˆ°äº† user çš„é€‰é¡¹ï¼Œé»˜è®¤æ˜¯ nobodyï¼Œä½ å¯ä»¥å‚ç…§è¿™é‡Œï¼šhttp://php.net/manual/zh/install.fpm.install.php : ç¼–è¯‘ PHP æ—¶éœ€è¦ --enable-fpm é…ç½®é€‰é¡¹æ¥æ¿€æ´» FPM æ”¯æŒã€‚\n  ä»¥ä¸‹ä¸º FPM ç¼–è¯‘çš„å…·ä½“é…ç½®å‚æ•°ï¼ˆå…¨éƒ¨ä¸ºå¯é€‰å‚æ•°ï¼‰ï¼š\n   --with-fpm-user - è®¾ç½® FPM è¿è¡Œçš„ç”¨æˆ·èº«ä»½ï¼ˆé»˜è®¤ - nobodyï¼‰ --with-fpm-group - è®¾ç½® FPM è¿è¡Œæ—¶çš„ç”¨æˆ·ç»„ï¼ˆé»˜è®¤ - nobodyï¼‰ --with-fpm-systemd - å¯ç”¨ systemd é›†æˆ (é»˜è®¤ - no) --with-fpm-acl - ä½¿ç”¨POSIX è®¿é—®æ§åˆ¶åˆ—è¡¨ (é»˜è®¤ - no) 5.6.5ç‰ˆæœ¬èµ·æœ‰æ•ˆ    PHPæ ¸å¿ƒé…ç½®åˆ—è¡¨\n  å…¶å®å¯ä»¥æŠŠä¹‹å‰çš„é…ç½®å‘½ä»¤æ”¹ä¸º\n ./configure --enable-fpm --with-mysqli --with-fpm-user=www-data --with-fpm-group=www-data   æ¥è¿è¡Œå°±ä¸ç”¨åœ¨ä¿®æ”¹é…ç½®æ–‡ä»¶é‚£ä¹ˆéº»çƒ¦äº†ã€‚\n ç„¶åå¯åŠ¨ã€€php-fpm æœåŠ¡ï¼š\n/usr/local/bin/php-fpm  è¿™é‡Œä¼šé‡åˆ°å‘ï¼š\n$ sudo /usr/local/bin/php-fpm [12-May-2016 04:39:05] ERROR: Unable to globalize '/usr/local/NONE/etc/php-fpm.d/*.conf' (ret=2) from /usr/local/etc/php-fpm.conf at line 125. [12-May-2016 04:39:05] ERROR: failed to load configuration file '/usr/local/etc/php-fpm.conf' [12-May-2016 04:39:05] ERROR: FPM initialization failed  ä¿®æ”¹ã€€/usr/local/etc/php-fpm.conf æœ€åä¸€è¡Œ:\n/NONE/etc/php-fpm.d/*.conf  ã€€ä¸º etc/php-fpm.d/*.conf\nç„¶åæ‹·è´é»˜è®¤æ–‡ä»¶ä¸ºã€€*.conf æ–‡ä»¶ï¼š\ncp /usr/local/etc/php-fpm.d/www.conf.default /usr/local/etc/php-fpm.d/www.conf  å¹¶ä¿®æ”¹é‡Œé¢çš„ user å’Œ groupï¼š\nuser = www-data group = www-data  ç°åœ¨åº”è¯¥å¥½äº†ï¼Œå¯åŠ¨ã€€php-fpm æœåŠ¡ï¼š\n/usr/local/bin/php-fpm  å‚è€ƒæ–‡çŒ®ï¼š http://php.net/manual/zh/install.unix.nginx.php http://nginx.org/en/docs/beginners_guide.html http://nginx.org/en/linux_packages.html https://github.com/owncloud/documentation/wiki/NGINX-Configuration\næ¨èå·¥å…·ã€€ee(å¦‚æœä½ ä¸èƒ½ç¿»å¢™å°±ç®—äº†ï¼Œå»ç”¨oneinstackå§ï¼Œä¹Ÿæ˜¯å¾ˆå¥½çš„å·¥å…·)ï¼šhttps://github.com/EasyEngine/easyengine\n4. é…ç½® Nginx ä½¿å…¶æ”¯æŒ PHP åº”ç”¨ï¼š æˆ‘çš„æœ¬åœ°æµ‹è¯•åŸŸåç”¨ yum.app ï¼Œä»£ç æ”¾åœ¨è™šæ‹Ÿæœºçš„ /var/www/owncloudã€€ã€‚æˆåŠŸæå®šåº”è¯¥æ˜¯å¯ä»¥é€šè¿‡æµè§ˆå™¨è®¿é—® http://yum.appã€€ç›´æ¥è®¿é—®åˆ°æˆ‘ä»¬çš„OwnCloudã€€çš„ã€‚\nsudo vim /etc/nginx/conf.d/default.conf  ä¿®æ”¹é»˜è®¤çš„ location å—ï¼Œä½¿å…¶æ”¯æŒ .php æ–‡ä»¶ï¼š\nlocation / { root html; index index.php index.html index.htm; }  ä¸‹ä¸€æ­¥é…ç½®æ¥ä¿è¯å¯¹äº .php æ–‡ä»¶çš„è¯·æ±‚å°†è¢«ä¼ é€åˆ°åç«¯çš„ PHP-FPM æ¨¡å—ï¼Œ å–æ¶ˆé»˜è®¤çš„ PHP é…ç½®å—çš„æ³¨é‡Šï¼Œå¹¶ä¿®æ”¹ä¸ºä¸‹é¢çš„å†…å®¹ï¼š\nlocation ~* \\.php$ { fastcgi_index index.php; fastcgi_pass 127.0.0.1:9000; fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name; fastcgi_param SCRIPT_NAME $fastcgi_script_name; include fastcgi_params; }  å†™ä¸‹æµ‹è¯•æ–‡ä»¶ï¼š\nsudo touch /usr/share/nginx/html/index.php sudo vim /usr/share/nginx/html/index.php  index.php:\n\u0026lt;?php phpinfo();  ç„¶åè®¿é—® http://yum.appã€€ï¼ŒæŠ¥é”™ï¼šFile Not Found.ã€€è¿™é‡Œå¯ä»¥åˆæ­¥åˆ¤æ–­ä¹Ÿè®¸æ˜¯phpè§£ææœ‰é—®é¢˜ï¼Œåœ¨ç›¸åŒä½ç½®å»ºä¸€ä¸ªhtmlæ–‡ä»¶ï¼Œè®¿é—®ï¼Œå‘ç°æ­£å¸¸ã€‚ç¡®è¯Šæ˜¯phpè§£æé—®é¢˜ã€‚\nFile Not Foundã€€è§£å†³å’Œåˆ†æ æ‰“å¼€åˆšæ‰çš„é…ç½®æ–‡ä»¶:\nsudo vim /etc/nginx/conf.d/default.conf  å°†åŸæœ‰é…ç½®ä¿®æ”¹ä¸ºï¼š\nlocation ~ \\.php$ { root html; fastcgi_pass 127.0.0.1:9000; fastcgi_index index.php; fastcgi_param SCRIPT_FILENAME /usr/share/nginx/html/$fastcgi_script_name; include fastcgi_params; }  æ²¡é”™ï¼Œæ˜¯è¿™ä¸€è¡Œï¼š\nfastcgi_param SCRIPT_FILENAME /usr/share/nginx/html/$fastcgi_script_name;  æˆ‘ä»¬æŠŠ $document_root ä¿®æ”¹ä¸ºã€€/usr/share/nginx/html/ï¼Œç„¶åé‡å¯nginxï¼Œä¼šå‘ç°é—®é¢˜è§£å†³äº†ã€‚\nä½†æ˜¯è¿™æ ·å¹¶ä¸ç®—å¾ˆç§‘å­¦ï¼Œæˆ‘è®¤ä¸ºæ”¾å¼ƒå¯¹ã€€$document_rootã€€çš„ä½¿ç”¨ä¸ç§‘å­¦ï¼Œæ‰€ä»¥ï¼Œè¿™æ ·ï¼Œå…¶å®ï¼Œå¦‚æœæˆ‘ä»¬æŠŠ rootã€€html;ã€€å†™åˆ°è§£æ /ã€€æˆ–ã€€php é‡Œå¹¶ä¸ç§‘å­¦ï¼Œæ›´å¥½çš„åšæ³•æ˜¯æŠŠè¿™äº›åŸºæœ¬ä¸å˜çš„å‚æ•°å†™åˆ° /etc/nginx/conf.d/default.conf é¡¶ä¸Šå»ï¼š\nserver { listen 80; server_name localhost; root /var/www; index index.html index.htm index.php; ......  ç„¶åï¼Œä¿®æ”¹ php çš„è§£æä¸ºï¼š\nlocation ~ \\.php$ { fastcgi_pass 127.0.0.1:9000; fastcgi_index index.php; fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name; include fastcgi_params; }  é‡å¯nginxï¼Œä¸€äº›éƒ½å¥½äº†ï¼Œè‡³æ­¤ï¼ŒFile Not Foundã€€é—®é¢˜åˆ†æè§£å†³å®Œæ¯•ã€‚\n5.ã€€Nginxçš„\u0026quot;è™šæ‹Ÿç›®å½•\u0026rdquo;  å‚è€ƒï¼šhttps://www.nginx.com/resources/wiki/start/topics/examples/server_blocks/ æŒ‰ç…§å®˜æ–¹çš„è¯´æ³•ï¼ŒNginxæ˜¯æ²¡æœ‰è™šæ‹Ÿç›®å½•çš„æ¦‚å¿µçš„ï¼Œå®ƒæœ‰çš„æ˜¯ Server Blocksã€‚\n  å…¶å®æˆ‘æ²¡å¿…è¦åšè¿™ä¸€éƒ¨åˆ†ï¼Œæ¯•ç«Ÿæˆ‘æ²¡æ‰“ç®—è®©æœåŠ¡å™¨ä¸Šè¿è¡Œå¤šä¸ªç½‘ç«™ï¼Œå®ƒåªè¿è¡Œ owncloud, ä½†æ˜¯æ—¢ç„¶éƒ½èµ°åˆ°è¿™æ­¥äº†ï¼Œé‚£å°±å®ç°äº†å§ã€‚\n æ‰“å¼€ã€€/etc/nginx/nginx.confã€€é…ç½®æ–‡ä»¶å¯ä»¥çœ‹åˆ°è¿™æ ·ä¸€æ®µï¼š\nhttp { include /etc/nginx/mime.types; default_type application/octet-stream; log_format main '$remote_addr - $remote_user [$time_local] \u0026quot;$request\u0026quot; ' '$status $body_bytes_sent \u0026quot;$http_referer\u0026quot; ' '\u0026quot;$http_user_agent\u0026quot; \u0026quot;$http_x_forwarded_for\u0026quot;'; access_log /var/log/nginx/access.log main; sendfile on; #tcp_nopush on; keepalive_timeout 65; #gzip on; include /etc/nginx/conf.d/*.conf; }  è€Œè¿™ä¸€è¡Œ include /etc/nginx/conf.d/*.conf; å°±æ˜¯æ’å…¥äº†æ‰€æœ‰ã€€conf.dã€€ç›®å½•ä¸‹çš„é…ç½®æ–‡ä»¶ï¼Œè¿™ä¸ªåšæ³•å¥½â€”â€”è§£è€¦å¾ˆé‡è¦ã€‚\næ ¹æ®å®˜æ–¹ç»™çš„æ ·ä¾‹ï¼š\nserver { # Replace this port with the right one for your requirements listen 80 default_server; #could also be 1.2.3.4:80 # Multiple hostnames separated by spaces. Replace these as well. server_name star.yourdomain.com *.yourdomain.com; # Alternately: _ root /PATH/TO/WEBROOT; error_page 404 errors/404.html; access_log logs/star.yourdomain.com.access.log; index index.php index.html index.htm; # static file 404's aren't logged and expires header is set to maximum age location ~* \\.(jpg|jpeg|gif|css|png|js|ico|html)$ { access_log off; expires max; } location ~ \\.php$ { include fastcgi_params; fastcgi_intercept_errors on; # By all means use a different server for the fcgi processes if you need to fastcgi_pass 127.0.0.1:YOURFCGIPORTHERE; } location ~ /\\.ht { deny all; } }  æˆ‘ä»¬æŠŠè¿™ä¸ªæ ·ä¾‹ç¨ä½œä¿®æ”¹ï¼Œæ”¾åˆ°ã€€conf.dã€€ç›®å½•ä¸‹å³å¯ï¼Œä¾‹å¦‚ä¸‹é¢çš„ã€€/etc/nginx/conf.d/demo.confï¼š\nserver { # Replace this port with the right one for your requirements listen 80 default_server; #could also be 1.2.3.4:80 # Multiple hostnames separated by spaces. Replace these as well. server_name star.demo.com *.demo.com; # Alternately: _ root /var/www/demo; error_page 404 errors/404.html; # access_log logs/star.yourdomain.com.access.log; index index.php index.html index.htm; # static file 404's aren't logged and expires header is set to maximum age location ~* \\.(jpg|jpeg|gif|css|png|js|ico|html)$ { access_log off; expires max; } location ~ \\.php$ { include fastcgi_params; fastcgi_intercept_errors on; # By all means use a different server for the fcgi processes if you need to fastcgi_pass 127.0.0.1:9000; } location ~ /\\.ht { deny all; } }  ç„¶åé‡å¯Nginxå³å¯. Over!\n","permalink":"https://wedojava.github.io/posts/lemp-step-to-step/","tags":["lnmp"," lemp"," nginx"," php"," php-fpm"],"title":"LEMP/LNMPã€€ç¯å¢ƒæ­å»º(Nginx1.10 + PHP7)"},{"categories":["Linux"],"contents":"$ pushd $openssh_source_dir \u0026gt; /dev/null    å‘½ä»¤ è¯´æ˜     command \u0026gt; file å°†è¾“å‡ºé‡å®šå‘åˆ° fileã€‚   command \u0026lt; file å°†è¾“å…¥é‡å®šå‘åˆ° fileã€‚   command \u0026raquo; file å°†è¾“å‡ºä»¥è¿½åŠ çš„æ–¹å¼é‡å®šå‘åˆ° fileã€‚   n \u0026gt; file å°†æ–‡ä»¶æè¿°ç¬¦ä¸º n çš„æ–‡ä»¶é‡å®šå‘åˆ° fileã€‚   n \u0026raquo; file å°†æ–‡ä»¶æè¿°ç¬¦ä¸º n çš„æ–‡ä»¶ä»¥è¿½åŠ çš„æ–¹å¼é‡å®šå‘åˆ° fileã€‚   n \u0026gt;\u0026amp; m å°†è¾“å‡ºæ–‡ä»¶ m å’Œ n åˆå¹¶ã€‚   n \u0026lt;\u0026amp; m å°†è¾“å…¥æ–‡ä»¶ m å’Œ n åˆå¹¶ã€‚   \u0026laquo; tag å°†å¼€å§‹æ ‡è®° tag å’Œç»“æŸæ ‡è®° tag ä¹‹é—´çš„å†…å®¹ä½œä¸ºè¾“å…¥ã€‚     \u0026gt; /dev/null å¦‚æœå¸Œæœ›æ‰§è¡ŒæŸä¸ªå‘½ä»¤ï¼Œä½†åˆä¸å¸Œæœ›åœ¨å±å¹•ä¸Šæ˜¾ç¤ºè¾“å‡ºç»“æœï¼Œé‚£ä¹ˆå¯ä»¥å°†è¾“å‡ºé‡å®šå‘åˆ° /dev/null, /dev/null æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„æ–‡ä»¶ï¼Œå†™å…¥åˆ°å®ƒçš„å†…å®¹éƒ½ä¼šè¢«ä¸¢å¼ƒï¼›å¦‚æœå°è¯•ä»è¯¥æ–‡ä»¶è¯»å–å†…å®¹ï¼Œé‚£ä¹ˆä»€ä¹ˆä¹Ÿè¯»ä¸åˆ°ã€‚ä½†æ˜¯ /dev/null æ–‡ä»¶éå¸¸æœ‰ç”¨ï¼Œå°†å‘½ä»¤çš„è¾“å‡ºé‡å®šå‘åˆ°å®ƒï¼Œä¼šèµ·åˆ°\u0026quot;ç¦æ­¢è¾“å‡º\u0026quot;çš„æ•ˆæœã€‚\nå¦‚æœå¸Œæœ›å±è”½ stdout å’Œ stderrï¼Œå¯ä»¥è¿™æ ·å†™ï¼š\n$ command \u0026gt; /dev/null 2\u0026gt;\u0026amp;1 pushd = PUSH Directory:\nkali@kali:~$ pushd ~/test ~/test ~ kali@kali:~/test$ pushd ~/Documents/ ~/Documents ~/test ~ kali@kali:~/Documents$ pushd ~/test ~/Documents ~ kali@kali:~/test$ pushd ~/Documents ~/test ~ kali@kali:~/Documents$ pushd ~/test ~/Documents ~ kali@kali:~/test$ pushd ~/Documents ~/test ~ kali@kali:~/Documents$ pushd ~/test ~/Documents ~ kali@kali:~/test$ pushd ~/Documents ~/test ~ kali@kali:~/Documents$ popd ~/test ~ kali@kali:~/test$ popd ~ kali@kali:~$ pushd bash: pushd: no other directory kali@kali:~$ popd bash: popd: directory stack empty kali@kali:~$ patch -p1 \u0026lt; ../$your_patch https://www.runoob.com/linux/linux-comm-patch.html\nLinux patchå‘½ä»¤ç”¨äºä¿®è¡¥æ–‡ä»¶ã€‚\npatchæŒ‡ä»¤è®©ç”¨æˆ·åˆ©ç”¨è®¾ç½®ä¿®è¡¥æ–‡ä»¶çš„æ–¹å¼ï¼Œä¿®æ”¹ï¼Œæ›´æ–°åŸå§‹æ–‡ä»¶ã€‚å€˜è‹¥ä¸€æ¬¡ä»…ä¿®æ”¹ä¸€ä¸ªæ–‡ä»¶ï¼Œå¯ç›´æ¥åœ¨æŒ‡ä»¤åˆ—ä¸­ä¸‹è¾¾æŒ‡ä»¤ä¾åºæ‰§è¡Œã€‚å¦‚æœé…åˆä¿®è¡¥æ–‡ä»¶çš„æ–¹å¼åˆ™èƒ½ä¸€æ¬¡ä¿®è¡¥å¤§æ‰¹æ–‡ä»¶ï¼Œè¿™ä¹Ÿæ˜¯Linuxç³»ç»Ÿæ ¸å¿ƒçš„å‡çº§æ–¹æ³•ä¹‹ä¸€ã€‚\n[-p \u0026lt;å‰¥ç¦»å±‚çº§\u0026gt;] è®¾ç½®æ¬²å‰¥ç¦»å‡ å±‚è·¯å¾„åç§°ã€‚\npushd $openssh_source_dir \u0026gt; /dev/null # è¿›å…¥åˆ°ç›®å½• $openssh_source_dir patch -p1 \u0026lt; ../$mitm_patch # ç”¨ $mitm_patch ç»™ $openssh_source_dir æ‰“è¡¥ä¸ Linux é‡Œåˆ¤æ–­æ˜¯å¦å­˜åœ¨ç”¨æˆ· ssh-mitm å¦‚æœè·Ÿäº† --force åˆ™åˆ é™¤ç”¨æˆ·ï¼š\n# Check if the ssh-mitm user exists. id ssh-mitm \u0026gt; /dev/null 2\u0026gt; /dev/null if [[ $? == 0 ]]; then # The user exists. If this script was run with the \u0026#34;--force\u0026#34; argument, # then we will delete the user. if [[ $1 == \u0026#39;--force\u0026#39; ]]; then userdel -f -r ssh-mitm 2\u0026gt; /dev/null # There could be saved sessions from an old version of SSH MITM that # we shouldn\u0026#39;t destroy automatically. else echo \u0026#34;It appears that the ssh-mitm user already exists. Make backups of any saved sessions in /home/ssh-mitm/, then re-run this script with the \\\u0026#34;--force\\\u0026#34; argument (this will cause the user account to be deleted and re-created).\u0026#34; exit -1 fi fi ä¸‹è½½ OpenSSH å¹¶éªŒè¯æ˜¯å¦æ­£å“ï¼š\n# Downloads OpenSSH and verifies its sources. function get_openssh { local openssh_sig=\u0026#39;openssh-7.5p1.tar.gz.asc\u0026#39; local release_key_fingerprint_expected=\u0026#39;59C2 118E D206 D927 E667 EBE3 D3E5 F56B 6D92 0D30\u0026#39; local openssh_checksum_expected=\u0026#39;9846e3c5fab9f0547400b4d2c017992f914222b3fd1f8eee6c7dc6bc5e59f9f0\u0026#39; echo -e \u0026#34;\\nGetting OpenSSH release key...\\n\u0026#34; wget https://ftp.openbsd.org/pub/OpenBSD/OpenSSH/RELEASE_KEY.asc echo -e \u0026#34;\\nGetting OpenSSH sources...\\n\u0026#34; wget https://ftp.openbsd.org/pub/OpenBSD/OpenSSH/portable/$openssh_sources echo -e \u0026#34;\\nGetting OpenSSH signature...\\n\u0026#34; wget https://ftp.openbsd.org/pub/OpenBSD/OpenSSH/portable/$openssh_sig echo -e \u0026#34;\\nImporting OpenSSH release key...\\n\u0026#34; gpg --import RELEASE_KEY.asc local release_key_fingerprint_actual=`gpg --fingerprint 6D920D30` if [[ $release_key_fingerprint_actual != *\u0026#34;$release_key_fingerprint_expected\u0026#34;* ]]; then echo -e \u0026#34;\\nError: OpenSSH release key fingerprint does not match expected value!\\n\\tExpected: $release_key_fingerprint_expected\\n\\tActual: $release_key_fingerprint_actual\\n\\nTerminating.\u0026#34; exit -1 fi echo -e \u0026#34;\\n\\nOpenSSH release key matches expected value.\\n\u0026#34; local gpg_verify=`gpg --verify $openssh_sig $openssh_sources 2\u0026gt;\u0026amp;1` if [[ $gpg_verify != *\u0026#34;Good signature from \\\u0026#34;Damien Miller \u0026lt;djm@mindrot.org\u0026gt;\\\u0026#34;\u0026#34;* ]]; then echo -e \u0026#34;\\n\\nError: OpenSSH signature invalid!\\n$gpg_verify\\n\\nTerminating.\u0026#34; rm -f $openssh_sources exit -1 fi # Check GPG\u0026#39;s return value. 0 denotes a valid signature, and 1 is returned # on invalid signatures. if [[ $? != 0 ]]; then echo -e \u0026#34;\\n\\nError: OpenSSH signature invalid! Verification returned code: $?\\n\\nTerminating.\u0026#34; rm -f $openssh_sources exit -1 fi echo -e \u0026#34;Signature on OpenSSH sources verified.\\n\u0026#34; local openssh_checksum_actual=`sha256sum $openssh_sources` if [[ $openssh_checksum_actual != \u0026#34;$openssh_checksum_expected\u0026#34;* ]]; then echo -e \u0026#34;Error: OpenSSH checksum is invalid! Terminating.\u0026#34; exit -1 fi return 1 } ","permalink":"https://wedojava.github.io/posts/shell-study/","tags":["shell"," linux"],"title":"Shell Study"},{"categories":["Linux"],"contents":"sudo Command is unable in centos system?\næˆ‘é‡åˆ°äº†è¿™æ ·çš„é—®é¢˜ï¼Œåœ¨ CentOS 7ã€€ç³»ç»Ÿä¸‹ï¼Œæ‰§è¡Œ sudoã€€æç¤º Sorry, try again.ã€€ï¼Œå¯†ç æ˜¯æ­£ç¡®çš„å¯†ç ï¼Œå½“å‰ç”¨æˆ·å’Œã€€rootã€€çš„å¯†ç éƒ½è¯•è¿‡ï¼Œéƒ½æ˜¯è¿™æ ·ã€€visudo ä¹Ÿéƒ½é…ç½®æ­£ç¡®ï¼Œæ€ä¹ˆåŠï¼Ÿ\næˆ‘å‚è€ƒäº†è¿™é‡Œï¼šhttps://www.centos.org/forums/viewtopic.php?t=40708\nè¿™é‡Œæˆ‘è®¾ç½®æˆ sudo é€‚ç”¨ç©ºå¯†ç ï¼š\n åˆ›å»ºç”¨æˆ· user: useradd user ç«‹å³è¿‡æœŸã€€user: chage -d 0 user è®¾ç½® user: usermod -p \u0026quot;\u0026quot; user å¦‚æœä½ ç¡®å®æƒ³è®¾ç½® user çš„å¯†ç ï¼Œå¯ä»¥è¿™æ ·ï¼š sudo passwd userã€€ï¼Œã€€Then type your password what you want. ","permalink":"https://wedojava.github.io/posts/sudo-unable-in-centos/","tags":["sudo"," linux"," unable"," centos"],"title":"sudoå‘½ä»¤è¾“å…¥å¯†ç è¿˜æ˜¯ä¸èƒ½ç”¨ï¼Ÿ"},{"categories":["Linux"],"contents":"æœ¬äººé‡åˆ°ä¸€ä¸ªå¾ˆå°´å°¬çš„é—®é¢˜ï¼Œå¿˜è®°äº†ã€€vpsã€€çš„ã€€rootã€€çš„å¯†ç ã€‚æ€ä¹ˆåŠï¼ŸæŸ¥é˜…å®˜æ–¹æç¤ºï¼Œæ‰¾åˆ°å¦‚ä¸‹æ–¹æ³•ï¼š\nhttps://www.vultr.com/docs/boot-into-single-user-mode-reset-root-password\nCentOSã€€7ã€€çš„æ“ä½œè¿‡ç¨‹  é‡å¯æœåŠ¡å™¨ï¼Œï¼ˆCtrl + Alt + Delï¼‰ é‡å¯åæœ‰ä¸ªé€‰é¡¹ï¼ŒæŒ‰ä»»æ„é”®åœæ­¢ï¼Œå¦åˆ™è‡ªåŠ¨é€‰æ‹©è¿›å…¥ï¼Œä¸€ç›´æŒ‰æ–¹å‘é”®å§ï¼Œæˆ‘æ˜¯è¿™ä¹ˆåšçš„ bootã€€åœä¸‹æ¥äº†ï¼Œã€€æ­¤æ—¶æ ¹æ®æç¤ºçš„æŒ‰é”®è¿›å…¥ç¼–è¾‘ï¼Œæˆ‘çš„ç³»ç»Ÿæ˜¯ CentOS-7ï¼Œæ‰€ä»¥æ˜¯æŒ‰ eã€€è¿›å…¥ç¼–è¾‘ æ‰¾åˆ°ä»¥ linux /boot/ å¼€å§‹çš„è¡Œï¼Œåœ¨å…¶æœ«å°¾æ·»åŠ ï¼š init=\u0026quot;/bin/bash\u0026quot;ã€‚(On CentOS 7, the line may start with linux16). æŒ‰ã€€Ctrl + X æˆ–ã€€F10 è¾“å…¥ï¼šmount -rw -o remount /ï¼Œç„¶åè¾“å…¥ passwd å³å¯å¼€å§‹é‡ç½®ã€€rootã€€çš„å¯†ç äº†ã€‚  å…¶å®ï¼Œå…¶ä»–ç³»ç»Ÿä¹Ÿæ˜¯ç±»ä¼¼çš„ï¼Œå…·ä½“å¯ä»¥å‚è€ƒä¸Šé¢ç»™çš„ç½‘å€ã€‚\n","permalink":"https://wedojava.github.io/posts/how-to-reset-root-password/","tags":["linux"," password"," passwd"," é‡ç½®"," root"],"title":"Linuxç³»ç»Ÿä¸‹ï¼Œå¦‚ä½•é‡ç½®rootå¯†ç ï¼Ÿ"},{"categories":["Cloud"],"contents":"æœ¬æ¥æ˜¯ç”¨çš„ã€€Homesteadã€€boxã€€è™šæ‹Ÿæœºç¯å¢ƒï¼Œä½†æ˜¯é‡åˆ°äº›é—®é¢˜ï¼Œçœ‹åˆ°å®˜æ–¹ä¾‹å­æ˜¯ç”¨ã€€Apacheï¼Œå¹¶ä¸”å®˜æ–¹æ¨èæ˜¯ç”¨Apache çš„ mod_phpã€€æ¥è§£æPHPã€‚è¿™é‡Œè®°å½•ä¸‹æ•´ä¸ªè¿‡ç¨‹ã€‚So many chores beat me?No chores can beat me.\n ç”±äºæ˜¯æ‰“ç®—ç”¨ä½œè¿ç»´çš„ç¯å¢ƒæ­å»ºï¼Œæ‰€ä»¥ä¸€åˆ‡è·Ÿç€å®˜æ–¹æ–‡æ¡£åšå§ã€‚ èµ·å§‹æ–‡æ¡£ï¼š https://doc.owncloud.org/server/9.0/admin_manual/installation/source_installation.html\n å…³äºWebServerçš„é€‰æ‹©ï¼Œå®˜æ–¹å¦‚æ˜¯è¯´ï¼š\nWeb serverÂ¶\nTaking Apache and Nginx as the contenders, Apache with mod_php is currently the best option, as Nginx does not support all features necessary for enterprise deployments. Mod_php is recommended instead of PHP_FPM, because in scale-out deployments separate PHP pools are simply not necessary.\næˆ‘æ˜¯æŠŠ Nginx + php7ã€€çš„ç¯å¢ƒéƒ½æ­å»ºå·®ä¸å¤šçš„æ—¶å€™çœ‹åˆ°çš„ï¼Œæˆ‘ç®€ç›´ã€‚ã€‚ã€‚\nå½“ç„¶Nginx + php7çš„é…ç½®æˆ‘ä¹Ÿæ”¾åšå®¢äº†:http://huifeng.me/2016/05/18/LEMP-step-to-step/ å·®æ•°æ®åº“æ²¡å®‰è£…ï¼Œå½“ç„¶ï¼Œé‚£ä¸ªå¾ˆç®€å•äº†ï¼Œè¿™é‡Œæ— éœ€èµ˜è¿°ã€‚\nä¸€. æ“ä½œç³»ç»Ÿ æ·»åŠ ã€€puphpet/ubuntu box:\nvagrant box add puphpet/ubuntu1404-x64  åˆ›å»ºé¡¹ç›®æ–‡ä»¶å¤¹å¹¶åˆå§‹åŒ–ï¼š\nmkdir owncloud \u0026amp;\u0026amp; cd owncloud \u0026amp;\u0026amp; vagrant init puphpet/ubuntu1404-x64  ç¼–è¾‘é…ç½®æ–‡ä»¶ä¸ºï¼ˆåŸ Vagrantfile æ–‡ä»¶é‡Œï¼Œ#è¡¨ç¤ºæ³¨é‡Šï¼‰ï¼š\n# -*- mode: ruby -*- # vi: set ft=ruby : Vagrant.configure(2) do |config| config.vm.box = \u0026quot;puphpet/ubuntu1404-x64\u0026quot; config.vm.network \u0026quot;private_network\u0026quot;, ip: \u0026quot;192.168.33.10\u0026quot; config.vm.provider \u0026quot;virtualbox\u0026quot; do |vb| vb.memory = \u0026quot;1024\u0026quot; vb.name = \u0026quot;puphpet-ubuntu-14.04-owncloud\u0026quot; end end  å¯åŠ¨è™šæ‹Ÿæœºï¼švagrant up\nè¿›å…¥è™šæ‹Ÿæœºï¼švagrant ssh\n äºŒ. å®‰è£…å’Œé…ç½®(åŸºäºLAMP) è¿™é‡Œç”¨ LAMP æ˜¯å› ä¸ºå®˜æ–¹æ¨è,æˆ‘ä¸ªäººæ›´å–œæ¬¢ Nginx+php-fpm ,å¦‚æœå¼ºè¿«è‡ªå·±ç”¨ LEMP/LNMP å¯ä»¥å‚è€ƒ:http://huifeng.me/2016/05/18/LEMP-step-to-step/\n1. ä½¿ç”¨OwnCloudæä¾›è„šæœ¬æ¥å®‰è£… è¿™ä¸ªå¥½ç”¨ï¼Œå®ç°é€Ÿåº¦å¿«ï¼Œä½†æ±‚èƒ½ç”¨ï¼Œä¸æ±‚æ›´ç²¾å‡†é…ç½®çš„å¯ä»¥ç”¨è¿™ä¸ªæ­¥éª¤ï¼š\n æ ¹æ®è¿™ç¯‡æ–‡æ¡£æ¥å®‰è£…ã€‚ è®¿é—® http://YourLampHost/owncloudã€€æ¥å®Œæˆå®‰è£…ã€‚  2. è‡ªå·±æ‰‹åŠ¨æ­å»ºç¯å¢ƒ,é€šè¿‡æºç åŒ…å®‰è£… (1) æ­å»º LAMP ç¯å¢ƒ  LAMPç¯å¢ƒçš„æ­å»ºè¯·å‚è€ƒè¿™é‡Œï¼šhttp://huifeng.me/2016/05/19/LAMP-StepByStep/\n (2) OwnCloudã€€ä¸‹è½½å®‰è£… Now download the archive of the latest ownCloud version: https://owncloud.org/install Go to ï¼Šï¼ŠDownload ownCloud Server \u0026gt; Download \u0026gt; Archive file for server owners ï¼Šï¼Šã€€and download either the tar.bz2 or .zip archive.\nä¸‹è½½æºç ï¼š\nwget https://download.owncloud.org/community/owncloud-9.0.1.tar.bz2  ä¸‹è½½ MD5 :\nwget https://download.owncloud.org/community/owncloud-9.0.1.tar.bz2.md5  æ ¡éªŒï¼š\nmd5sum -c owncloud-9.0.1.tar.bz2.md5 \u0026lt; owncloud-9.0.1.tar.bz2  æ²¡é—®é¢˜åˆ™è¿”å›ï¼šã€€owncloud-9.0.1.tar.bz2: OK.\nè§£å‹ï¼š\ntar xjf owncloud-9.0.1.tar.bz2  æ‹·è´ owncloudã€€åˆ° apacheã€€çš„ç½‘ç«™ç›®å½•ä¸‹\ncp -r owncloud /path/to/webserver/document-root  å®‰è£…æœ‰ä¸¤æ¡è·¯ï¼š\n Installation Wizard Installing ownCloud From the Command Line  å‘½ä»¤è¡Œå®‰è£…ä¹Ÿæ˜¯è›®æ–¹ä¾¿,åœ¨ /var/www/owncloud ç›®å½•ä¸‹è¿è¡Œä¸‹é¢çš„ä»£ç å³å¯(æ³¨æ„ä¿®æ”¹ä¸ºä½ çš„ç”¨æˆ·åå¯†ç æ•°æ®åº“ç­‰ä¸ªæ€§ä¿¡æ¯).\nsudo -u www-data php occ maintenance:install --database \u0026quot;mysql\u0026quot; --database-name \u0026quot;owncloud\u0026quot; --database-user \u0026quot;owncloud\u0026quot; --database-pass \u0026quot;6Vh44YmKoOcR2NWo\u0026quot; --admin-user \u0026quot;admin\u0026quot; --admin-pass \u0026quot;admin123\u0026quot;  æºç å®‰è£…çœ‹è¿™é‡Œï¼š https://doc.owncloud.org/server/9.0/admin_manual/installation/source_installation.html\nè¿™é‡Œ,æˆ‘ä¿®æ”¹hostsæ–‡ä»¶æ·»åŠ äº†ä¸€ä¸ªåŸŸå yun.app éšå°„åˆ°æœ¬åœ°çš„è™šæ‹Ÿæœº.è™šæ‹Ÿæœºé‡Œæ·»åŠ äº†vhostå¯¹åº”è¿™ä¸ªåŸŸå,å…·ä½“è®¾ç½®å‚ç…§ http://huifeng.me/2016/05/19/LAMP-StepByStep/\nåšå®Œäº†ä¸Šé¢çš„æ­¥éª¤,å¯ä»¥é€šè¿‡æµè§ˆå™¨æµè§ˆäº†,æˆ‘çš„: http://yun.app .è¿™é‡Œé‡åˆ°ä¸€ä¸ªæŠ¥é”™,æ„æ€æ˜¯åŸŸåä¸è¢«ä¿¡ä»»,å¯ä»¥ä¿®æ”¹ owncloud/config/config.php æ¥æ·»åŠ ä¿¡ä»»,æˆ‘çš„é…ç½®æ–‡ä»¶:\n\u0026lt;?php $CONFIG = array ( 'instanceid' =\u0026gt; 'ocnvlfoeu6cz', 'passwordsalt' =\u0026gt; 'hWm51195qEAe8qpdb4q5gXYQa4C/0h', 'secret' =\u0026gt; '23VzMrQWzz/kIkJaCr861C9jv5UFyZBUH7uSQnnh/Tw2M9oX', 'trusted_domains' =\u0026gt; array ( 0 =\u0026gt; 'localhost', 1 =\u0026gt; 'yun.app', ), 'datadirectory' =\u0026gt; '/var/www/owncloud/data', 'overwrite.cli.url' =\u0026gt; 'http://yun.app', 'dbtype' =\u0026gt; 'mysql', 'version' =\u0026gt; '9.0.2.2', 'dbname' =\u0026gt; 'owncloud', 'dbhost' =\u0026gt; 'localhost', 'dbtableprefix' =\u0026gt; 'oc_', 'dbuser' =\u0026gt; 'owncloud', 'dbpassword' =\u0026gt; '6Vh44YmKoOcR2NWo', 'logtimezone' =\u0026gt; 'UTC', 'installed' =\u0026gt; true, );  è‡³æ­¤,ç½‘ç«™å¯ä»¥æ­£å¸¸æµè§ˆå’Œè®¿é—®äº†,ä¸Šä¼ ä¸‹è½½éƒ½æ²¡é—®é¢˜.\nä½†æ˜¯åœ¨ç®¡ç†é¡µé¢æˆ‘ä»¬ä¼šçœ‹åˆ°è¿™æ ·çš„æç¤º:\n ä½ çš„æ•°æ®ç›®å½•å’Œä½ çš„æ–‡ä»¶å¯èƒ½ä»äº’è”ç½‘è¢«è®¿é—®åˆ°ã€‚.htaccess æ–‡ä»¶ä¸å·¥ä½œã€‚æˆ‘ä»¬å¼ºçƒˆå»ºè®®ä½ é…ç½®ä½ çš„ç½‘é¡µæœåŠ¡å™¨ï¼Œä½¿æ•°æ®ç›®å½•ä¸å†å¯è®¿é—®ï¼Œæˆ–è€…å°†æ•°æ®ç›®å½•ç§»åŠ¨åˆ°ç½‘é¡µæœåŠ¡å™¨æ ¹æ–‡æ¡£ç›®å½•ä¹‹å¤–ã€‚ æ‚¨æ­£åœ¨é€šè¿‡ HTTP è®¿é—®è¯¥ç«™ç‚¹ï¼Œæˆ‘ä»¬å¼ºçƒˆå»ºè®®æ‚¨æŒ‰ç…§å®‰å…¨æç¤ºé…ç½®æœåŠ¡å™¨å¼ºåˆ¶ä½¿ç”¨ HTTPSã€‚ å†…å­˜ç¼“å­˜æœªé…ç½®ã€‚å¦‚æœå¯ç”¨ï¼Œè¯·é…ç½® memcache æ¥å¢å¼ºæ€§èƒ½ã€‚æ›´å¤šä¿¡æ¯è¯·æŸ¥çœ‹æˆ‘ä»¬çš„æ–‡æ¡£ ã€‚  ä¸‹é¢è§£å†³ä»–ä»¬!\n ä¸‰. æ¨èçš„è®¾å®š(å¯é€‰) 1. Operating system (éå¿…é¡»!å…ˆçœ‹å®Œè¯´æ˜å†è®¾ç½®)  **When having an open_basedir configured within your php.ini file, make sure to include /dev/urandom. å¦‚æœä½ çš„é…ç½®æ–‡ä»¶é‡Œçš„è¿™é¡¹æ˜¯æ³¨é‡Šæ‰çš„å°±å¿½ç•¥è¿™ä¸€æ­¥!!\n Give PHP read access to /dev/urandom :\n$ sudo vim /etc/php/7.0/apache2/php.ini  Change line begin with ;open_basedir to:\nopen_basedir = /dev/urandom  Then:\n$ sudo service apache2 restart  2. Use HTTPS å¯èƒ½ä¼šç”¨åˆ°çš„å‚è€ƒæ–‡æ¡£:\n  https://doc.owncloud.org/server/9.0/admin_manual/installation/source_installation.html#enabling-ssl\n  https://doc.owncloud.org/server/9.0/admin_manual/configuration_server/oc_server_tuning.html#ssl-encryption-app\n  https://doc.owncloud.org/server/9.0/admin_manual/configuration_server/harden_server.html#use-https\n  https://doc.owncloud.org/server/9.0/admin_manual/configuration_server/occ_command.html#security-import-ssl-certificates\n  https://www.digitalocean.com/community/tutorials/how-to-create-a-ssl-certificate-on-apache-for-ubuntu-14-04\n  https://httpd.apache.org/docs/2.4/ssl/ssl_howto.html\n  1. Redirect all unencrypted traffic to HTTPS ä¸ºäº†ä¸å½±å“åŸæœ‰çš„é…ç½®ä¿¡æ¯,æˆ‘ä»¬å…ˆå¤‡ä»½åŸæœ‰çš„é…ç½®æ–‡ä»¶,ç„¶åæ–°å»ºä¸€ä¸ª:\n$ sudo mv /etc/apache2/sites-available/owncloud.conf /etc/apache2/sites-available/owncloud.conf.bak $ sudo touch /etc/apache2/sites-available/owncloud-ssl.conf  è¿™é‡Œæ–°å»ºçš„è¿™ä¸ªé…ç½®æ–‡ä»¶çš„å†…å®¹å¯ä»¥å‚è€ƒè¯¥ç›®å½•ä¸‹ç³»ç»Ÿè‡ªå¸¦çš„ä¸€ä¸ªé»˜è®¤é…ç½®æ–‡ä»¶: default-ssl.conf.\nç„¶åç¼–è¾‘æ–°æ·»åŠ çš„é…ç½®æ–‡ä»¶:\n$ sudo vim /etc/apache2/sites-available/owncloud-ssl.conf  æ·»åŠ æ‰€æœ‰æŒ‡å‘è¯¥åŸŸåçš„éƒ½è½¬ä¸º https :\n\u0026lt;VirtualHost *:80\u0026gt; ServerName cloud.owncloud.com Redirect permanent / https://cloud.owncloud.com/ \u0026lt;/VirtualHost\u0026gt;  è¿™é‡Œçš„ cloud.owncloud.com æ˜¯ä½ è‡ªå·±è®¾å®šçš„.æ ¹æ®ä½ çš„åŸŸåæˆ–æœ¬åœ°hostséšå°„å†³å®š.\n2. Enable HTTP Strict Transport Security å†æ·»åŠ ä¸€æ®µ 443 ç«¯å£çš„è®¾ç½®åˆ°è¿™ä¸ªæ–‡ä»¶é‡Œ:\n\u0026lt;VirtualHost *:443\u0026gt; ServerName cloud.owncloud.com \u0026lt;IfModule mod_headers.c\u0026gt; Header always set Strict-Transport-Security \u0026quot;max-age=15768000; includeSubDomains; preload\u0026quot; \u0026lt;/IfModule\u0026gt; \u0026lt;/VirtualHost\u0026gt;  If you have subdomains not accessible via HTTPS, remove includeSubdomains; .\nOwncloud å®˜æ–¹æ–‡æ¡£å°±æŒ‡å¯¼åˆ°è¿™é‡Œäº†.ç„¶åå‘ç° apache2 æœåŠ¡æ ¹æœ¬èµ·ä¸æ¥,è™½ç„¶æˆ‘çŸ¥é“æ—¥å¿—åœ¨ /var/log/apache2/error_log, ä½†æ˜¯æˆ‘è¿˜æ˜¯å†³å®šå‚è€ƒé»˜è®¤çš„ default-ssl.conf æ–‡ä»¶é…ç½®ä¸€ä¸‹,å½“ç„¶ç»“æœå¾ˆç†æƒ³,ä¸€äº›ç»†èŠ‚åŠŸèƒ½ä»¥åŠåŸå› ,åŸç†,æ›´å¤šé…ç½®ç­‰,æˆ‘è¿˜æ²¡ç€æ€¥ç ”ç©¶,ä½†æ˜¯æˆ‘è¿™ä¸ªé…ç½®æˆåŠŸå¯åŠ¨äº†,åªæ˜¯httpsè®¿é—®çš„æ—¶å€™ä¼šæœ‰ä¸è®¤å¯çš„ç½‘ç«™çº¢è‰²æ ‡è®°.è¿™ä¸ªåé¢åœ¨è§£å†³.æ›´å¤šè¯¦ç»†å†…å®¹æˆ‘æƒ³å¯ä»¥åœ¨è¿™é‡Œå¾—åˆ°ç­”æ¡ˆ: https://httpd.apache.org/docs/2.4/ssl/ssl_howto.html\næˆ‘æœ€ç»ˆçš„é…ç½®æ–‡ä»¶å¦‚ä¸‹:\n\u0026lt;VirtualHost *:80\u0026gt; ServerAdmin wedojava@gmail.com ServerName yun.app Redirect permanent / https://yun.app/ \u0026lt;/VirtualHost\u0026gt; \u0026lt;IfModule mod_ssl.c\u0026gt; \u0026lt;VirtualHost *:443\u0026gt; ServerAdmin wedojava@gmail.com ServerName yun.app DirectoryIndex index.html index.php DocumentRoot /var/www/owncloud SSLEngine on SSLCertificateFile /etc/ssl/certs/ssl-cert-snakeoil.pem SSLCertificateKeyFile /etc/ssl/private/ssl-cert-snakeoil.key \u0026lt;FilesMatch \u0026quot;\\.(cgi|shtml|phtml|php)$\u0026quot;\u0026gt; SSLOptions +StdEnvVars \u0026lt;/FilesMatch\u0026gt; \u0026lt;Directory /usr/lib/cgi-bin\u0026gt; SSLOptions +StdEnvVars \u0026lt;/Directory\u0026gt; BrowserMatch \u0026quot;MSIE [2-6]\u0026quot; \\ nokeepalive ssl-unclean-shutdown \\ downgrade-1.0 force-response-1.0 # MSIE 7 and newer should be able to use keepalive BrowserMatch \u0026quot;MSIE [17-9]\u0026quot; ssl-unclean-shutdown \u0026lt;IfModule mod_headers.c\u0026gt; Header always set Strict-Transport-Security \u0026quot;max-age=15768000; includeSubDomains; preload\u0026quot; \u0026lt;/IfModule\u0026gt; \u0026lt;/VirtualHost\u0026gt; \u0026lt;/IfModule\u0026gt;  3. Create SSL Certificate on Apache for Ubuntu 14 Step One â€” Activate the SSL Module è¿™ä¸€æ­¥åº”è¯¥åœ¨ä¹‹å‰å°±å·²ç»åšè¿‡äº†,å¦‚æœæ²¡åšè¿‡å°±æ‰§è¡Œä¸€é,ç„¶åä¼šæœ‰è‹¥å¹²çš„ true çš„è¿”å›. SSL support actually comes standard in the Ubuntu 14.04 Apache package. We simply need to enable it to take advantage of SSL on our system.\nEnable the module by typing:\n$ sudo a2enmod ssl  After you have enabled SSL, you\u0026rsquo;ll have to restart the web server for the change to be recognized:\n$ sudo service apache2 restart  With that, our web server is now able to handle SSL if we configure it to do so.\nStep Two â€” Create a Self-Signed SSL Certificate Let\u0026rsquo;s start off by creating a subdirectory within Apache\u0026rsquo;s configuration hierarchy to place the certificate files that we will be making:\n$ sudo mkdir /etc/apache2/ssl  Now that we have a location to place our key and certificate, we can create them both in one step by typing:\n$ sudo openssl req -x509 -nodes -days 365 -newkey rsa:2048 -keyout /etc/apache2/ssl/apache.key -out /etc/apache2/ssl/apache.crt  Let\u0026rsquo;s go over exactly what this means.\n openssl: This is the basic command line tool provided by OpenSSL to create and manage certificates, keys, signing requests, etc. req: This specifies a subcommand for X.509 certificate signing request (CSR) management. X.509 is a public key infrastructure standard that SSL adheres to for its key and certificate managment. Since we are wanting to create a new X.509 certificate, this is what we want. -x509: This option specifies that we want to make a self-signed certificate file instead of generating a certificate request. -nodes: This option tells OpenSSL that we do not wish to secure our key file with a passphrase. Having a password protected key file would get in the way of Apache starting automatically as we would have to enter the password every time the service restarts. -days 365: This specifies that the certificate we are creating will be valid for one year. -newkey rsa:2048: This option will create the certificate request and a new private key at the same time. This is necessary since we didn\u0026rsquo;t create a private key in advance. The rsa:2048 tells OpenSSL to generate an RSA key that is 2048 bits long. -keyout: This parameter names the output file for the private key file that is being created. -out: This option names the output file for the certificate that we are generating.  When you hit \u0026ldquo;ENTER\u0026rdquo;, you will be asked a number of questions.\nThe questions portion looks something like this:\nCountry Name (2 letter code) [AU]:US State or Province Name (full name) [Some-State]:New York Locality Name (eg, city) []:New York City Organization Name (eg, company) [Internet Widgits Pty Ltd]:Your Company Organizational Unit Name (eg, section) []:Department of Kittens Common Name (e.g. server FQDN or YOUR name) []:your_domain.com Email Address []:your_email@domain.com  The key and certificate will be created and placed in your /etc/apache2/ssl directory.\nStep Three â€” Configure Apache to Use SSL ä¹‹å‰æˆ‘ä»¬å·²ç»é…ç½®å¥½äº† -ssl çš„é…ç½®æ–‡ä»¶,ä½†è¯ä¹¦æŒ‡å‘çš„ä¸æ˜¯æˆ‘ä»¬æŒ‡å®šçš„,è€Œæ˜¯é»˜è®¤çš„,æ—¢ç„¶æˆ‘ä»¬å·²ç»ç”Ÿæˆäº†è¯ä¹¦,åº”ç”¨å®ƒ,å¹¶é‡å¯æœåŠ¡å™¨.\n$ sudo vim /etc/apache2/sites-available/owncloud-ssl.conf  ä¿®æ”¹:\nSSLCertificateFile /etc/ssl/certs/ssl-cert-snakeoil.pem SSLCertificateKeyFile /etc/ssl/private/ssl-cert-snakeoil.key  ä¸º:\nSSLCertificateFile /etc/apache2/ssl/apache.crt SSLCertificateKeyFile /etc/apache2/ssl/apache.key  é‡å¯çœ‹çœ‹æ•ˆæœ: sudo service apache2 restart\nä¸€äº›ä¸å¥½è§£å†³ä½†ä¹Ÿä¸è¦ç´§çš„é—®é¢˜(å¯¹æˆ‘è€Œè¨€) ç‚¹å‡»æµè§ˆå™¨çš„httpsçš„æŒ‰é’®å¯ä»¥çœ‹åˆ°æˆ‘ä»¬åˆšæ‰å¡«å†™çš„è¯ä¹¦ä¿¡æ¯.ä½†æ˜¯æµè§ˆå™¨åœ°å€æ çš„ https æ˜¯çº¢è‰²è¡¨ç¤ºä¸å¯ä¿¡,æ€ä¹ˆåŠå‘¢?ä»æœåŠ¡å™¨ä¸ŠæŠŠè¯ä¹¦è€ƒåˆ°æœ¬åœ°,ç„¶åè¿è¡Œå®‰è£…ä¸ºå¯ä¿¡,å¯ä»¥å‚è€ƒè¿™ä¸ªå¸–å­: http://superuser.com/questions/632059/how-to-add-a-self-signed-certificate-as-an-exception-in-chrome# â†“ Export the certificate from Chrome, and then import the certificate into your trusted root certification authority store. Unfortunately Microsoft made this difficult to do.\nGo to Start | and run the command certmgr.msc.\nExpand the tree to get to Trusted Root Certification Authorities | Certificates. Go to All Tasks, choose Import and import the certificate in question.\nTo export the certificate from Chrome:\nClick on the Certificate icon in the address bar. Click on Certificate Information | Details and then Copy to File.\nä¸‹é¢è¿™ä¸€æ­¥æˆ‘ä¸æ˜ç™½å®ƒå…·ä½“çš„ä½œç”¨å’Œæ„ä¹‰,ä½†æˆ‘è¿˜æ˜¯åšäº†ä¸€ä¸‹,è¯¥å‘½ä»¤çš„æ‰§è¡Œéœ€è¦åœ¨ owncloud çš„ç›®å½•ä¸‹è¿è¡Œ /var/www/owncloud :\n$ sudo -u www-data php occ security:certificates:import /etc/apache2/ssl/apache.crt  å®˜æ–¹æ˜¯è¿™ä¹ˆè¯´çš„:\n Use these commands to manage server-wide SSL certificates. These are useful when you create federation shares with other ownCloud servers that use self-signed certificates\n æ›´å¤šoccå‘½ä»¤åœ¨: https://doc.owncloud.org/server/9.0/admin_manual/configuration_server/occ_command.html\n3. Setting Strong Directory Permissions https://doc.owncloud.org/server/9.0/admin_manual/installation/installation_wizard.html#strong-perms-label â†“ Your HTTP user must own the config/, data/ and apps/ directories so that you can configure ownCloud, create, modify and delete your data files, and install apps via the ownCloud Web interface.\nYou can find your HTTP user in your HTTP server configuration files.\n The HTTP user and group in Debian/Ubuntu is www-data. The HTTP user and group in Fedora/CentOS is apache. The HTTP user and group in Arch Linux is http. The HTTP user in openSUSE is wwwrun, and the HTTP group is www.  The easy way to set the correct permissions is to copy and run this script. Replace the ocpath variable with the path to your ownCloud directory, and replace the htuser and htgroup variables with your HTTP user and group:\n#!/bin/bash ocpath='/var/www/owncloud' htuser='www-data' htgroup='www-data' rootuser='root' printf \u0026quot;Creating possible missing Directories\\n\u0026quot; mkdir -p $ocpath/data mkdir -p $ocpath/assets mkdir -p $ocpath/updater printf \u0026quot;chmod Files and Directories\\n\u0026quot; find ${ocpath}/ -type f -print0 | xargs -0 chmod 0640 find ${ocpath}/ -type d -print0 | xargs -0 chmod 0750 printf \u0026quot;chown Directories\\n\u0026quot; chown -R ${rootuser}:${htgroup} ${ocpath}/ chown -R ${htuser}:${htgroup} ${ocpath}/apps/ chown -R ${htuser}:${htgroup} ${ocpath}/assets/ chown -R ${htuser}:${htgroup} ${ocpath}/config/ chown -R ${htuser}:${htgroup} ${ocpath}/data/ chown -R ${htuser}:${htgroup} ${ocpath}/themes/ chown -R ${htuser}:${htgroup} ${ocpath}/updater/ chmod +x ${ocpath}/occ printf \u0026quot;chmod/chown .htaccess\\n\u0026quot; if [ -f ${ocpath}/.htaccess ] then chmod 0644 ${ocpath}/.htaccess chown ${rootuser}:${htgroup} ${ocpath}/.htaccess fi if [ -f ${ocpath}/data/.htaccess ] then chmod 0644 ${ocpath}/data/.htaccess chown ${rootuser}:${htgroup} ${ocpath}/data/.htaccess fi  If you have customized your ownCloud installation and your filepaths are different than the standard installation, then modify this script accordingly.\nThis lists the recommended modes and ownership for your ownCloud directories and files:\nAll files should be read-write for the file owner, read-only for the group owner, and zero for the world All directories should be executable (because directories always need the executable bit set), read-write for the directory owner, and read-only for the group owner\n The apps/ directory should be owned by [HTTP user]:[HTTP group] The config/ directory should be owned by [HTTP user]:[HTTP group] The themes/ directory should be owned by [HTTP user]:[HTTP group] The assets/ directory should be owned by [HTTP user]:[HTTP group] The data/ directory should be owned by [HTTP user]:[HTTP group] The [ocpath]/.htaccess file should be owned by root:[HTTP group] The data/.htaccess file should be owned by root:[HTTP group] Both .htaccess files are read-write file owner, read-only group and world  éœ€è¦æ³¨æ„çš„æ˜¯,è¿™ä¸ªè„šæœ¬çš„è¿è¡Œçš„ç¡®ä»¤owncloudæ›´å®‰å…¨,ä½†æ˜¯åŒæ—¶é¡µé˜»ç¢äº†ç‰ˆæœ¬çš„å‡çº§,å¦‚æœè¿è¡Œäº†è¯¥è„šæœ¬,è¦å‡çº§çš„æ—¶å€™è¯·ç§»æ­¥è¿™é‡Œ: Setting Permissions for Updating\n4. ç¼“å­˜ Memory cache configuration for the ownCloud server is no longer automatic in ownCloud 8.1 and up, but must be installed and configured. https://doc.owncloud.org/server/9.0/admin_manual/configuration_server/caching_configuration.html â†“\nRecommended caches are APCu and Redis. å› ä¸ºæˆ‘ä»¬ç”¨çš„æ˜¯ PHP7, Rediså¥½åƒæ›´å¥½ç”¨ä¸€äº›,å…³äºRedisçš„å®‰è£…,è¿‡ç¨‹æ¯”è¾ƒé•¿,æˆ‘æ–°å¼€é¡µé¢äº†.\nå‚è€ƒ:\nhttps://www.techandme.se/install-redis-cache-on-ubuntu-server-with-php-7-and-owncloud/ http://thereluctantdeveloper.com/2015/12/quick-and-dirty-php-70-set-up-on-ubuntu-1404-with-apcu\nè¿™é‡Œæˆ‘ç”¨çš„æ˜¯redisæ¥å¤„ç†ç¼“å­˜,ä¸€åˆ‡æ­£å¸¸. å› ä¸ºæœ¬æ–‡ç¯‡å¹…ä¹Ÿå¤ªé•¿äº†,æ‰€ä»¥,æ–°å¼€ä¸€é¡µ,å…¶ä»–å†…å®¹ä»¥åæœ‰æ—¶é—´å†æŠ½è±¡å‡ºæ¥: http://huifeng.me/2016/06/08/install-redis-cache-on-ubuntu-server-with-php-7-and-owncloud/\nè‡³æ­¤,ä¸»è¦å†…å®¹éƒ½å®Œäº†,å°±å·®æ•°æ®å­˜æ”¾ç›®å½•äº†,åº”æœ‰é™„åŠ æ–°ç£ç›˜çš„åŠ¨ä½œ,åç»­åœ¨å†™.\n5. æ”¹å˜æ•°æ®ç›®å½•  ä½ çš„æ•°æ®ç›®å½•å’Œä½ çš„æ–‡ä»¶å¯èƒ½ä»äº’è”ç½‘è¢«è®¿é—®åˆ°ã€‚.htaccess æ–‡ä»¶ä¸å·¥ä½œã€‚æˆ‘ä»¬å¼ºçƒˆå»ºè®®ä½ é…ç½®ä½ çš„ç½‘é¡µæœåŠ¡å™¨ï¼Œä½¿æ•°æ®ç›®å½•ä¸å†å¯è®¿é—®ï¼Œæˆ–è€…å°†æ•°æ®ç›®å½•ç§»åŠ¨åˆ°ç½‘é¡µæœåŠ¡å™¨æ ¹æ–‡æ¡£ç›®å½•ä¹‹å¤–ã€‚\n æ³¨æ„,å®ƒè¯´çš„æ˜¯æ•°æ®ç›®å½•ä¼šè¢«è®¿é—®åˆ°,è®©ä½ ç§»åŠ¨ç½‘é¡µç›®å½•çš„å¤–é¢,é‚£ä¹ˆå°±è¿™ä¹ˆæ•´å§.å½“ç„¶,è¿˜æœ‰ä¸ªé—®é¢˜ä¹Ÿè¦æ³¨æ„åˆ°:.htaccess æ–‡ä»¶ä¸å·¥ä½œã€‚ è¿™åº”è¯¥æ˜¯ Apache çš„è®¾ç½®ç¼ºå°‘: AllowOverride All æŸ¥é˜…å®˜æ–¹æ–‡æ¡£çš„ Apache Web Server Configuration å¯ä»¥å‘ç°è¿™é‡Œçš„ä¸»è¦é…ç½®æ˜¯:\n\u0026lt;Directory /var/www/owncloud/\u0026gt; Options +FollowSymlinks AllowOverride All \u0026lt;IfModule mod_dav.c\u0026gt; Dav off \u0026lt;/IfModule\u0026gt; SetEnv HOME /var/www/owncloud SetEnv HTTP_HOME /var/www/owncloud \u0026lt;/Directory\u0026gt;  æˆ‘ä»¬æŠŠè¿™æ®µæ‹·è´åˆ° æˆ‘ä»¬è‡ªå·±æ·»åŠ å¥½çš„é‚£ä¸ª owncloud-ssl.conf æ–‡ä»¶é‡Œå»,æœ€ç»ˆ: /etc/apache2/sites-available/owncloud-ssl.conf :\n\u0026lt;VirtualHost *:80\u0026gt; ServerAdmin wedojava@gmail.com ServerName yun.app Redirect permanent / https://yun.app/ \u0026lt;/VirtualHost\u0026gt; \u0026lt;IfModule mod_ssl.c\u0026gt; \u0026lt;VirtualHost *:443\u0026gt; ServerAdmin wedojava@gmail.com ServerName yun.app DirectoryIndex index.html index.php DocumentRoot /var/www/owncloud SSLEngine on SSLCertificateFile /etc/apache2/ssl/apache.crt SSLCertificateKeyFile /etc/apache2/ssl/apache.key \u0026lt;FilesMatch \u0026quot;\\.(cgi|shtml|phtml|php)$\u0026quot;\u0026gt; SSLOptions +StdEnvVars \u0026lt;/FilesMatch\u0026gt; \u0026lt;Directory /var/www/owncloud/\u0026gt; Options +FollowSymlinks AllowOverride All \u0026lt;IfModule mod_dav.c\u0026gt; Dav off \u0026lt;/IfModule\u0026gt; SetEnv HOME /var/www/owncloud SetEnv HTTP_HOME /var/www/owncloud \u0026lt;/Directory\u0026gt; \u0026lt;Directory /usr/lib/cgi-bin\u0026gt; SSLOptions +StdEnvVars \u0026lt;/Directory\u0026gt; BrowserMatch \u0026quot;MSIE [2-6]\u0026quot; \\ nokeepalive ssl-unclean-shutdown \\ downgrade-1.0 force-response-1.0 # MSIE 7 and newer should be able to use keepalive BrowserMatch \u0026quot;MSIE [17-9]\u0026quot; ssl-unclean-shutdown \u0026lt;IfModule mod_headers.c\u0026gt; Header always set Strict-Transport-Security \u0026quot;max-age=15768000; includeSubDomains; preload\u0026quot; \u0026lt;/IfModule\u0026gt; \u0026lt;/VirtualHost\u0026gt; \u0026lt;/IfModule\u0026gt;  åç»­æˆ‘ä¼šæŠŠæ•°æ®æ”¾çš„å•ç‹¬çš„è™šæ‹Ÿç¡¬ç›˜ä¸Š,æ‰€ä»¥ç§»åŠ¨æ•°æ®ç›®å½•ä½ç½®åé¢åˆ°é‚£æ­¥äº†æˆ‘å†ç»§ç»­å†™.\n","permalink":"https://wedojava.github.io/posts/owncloud-install/","tags":["linux"," owncloud"," install"," cloud"," apache"," php7"," mysql"," mariadb"],"title":"Owncloudã€€å®‰è£…å®å½•(Apache2.4+PHP7+MariaDB10)"},{"categories":["Linux"],"contents":" Thanks for: http://www.111cn.net/sys/Ubuntu/73675.htm ç”¨ vagrant æœ¬åœ°è™šæ‹Ÿäº†ä¸€ä¸ª Ubuntuï¼Œæƒ³æŠŠæ•°æ®æ”¾åˆ°å•ç‹¬çš„ç£ç›˜é‡Œï¼ŒæŸ¥é˜…èµ„æ–™ï¼Œä¸‹é¢æŠŠæ—¥å¿—è®°å½•ä¸‹æ¥ã€‚\n è™šæ‹Ÿæœºé‡Œçš„æ–°åŠ ç£ç›˜ç±»å‹æ˜¯ VMDK ï¼ŒåŠ¨æ€åˆ†é…å¤§å°ï¼Œå¤§å°20Gã€‚\nè¿è¡Œï¼š\nvagrant up vagrant ssh  è¿›å…¥è™šæ‹Ÿæœºï¼\nä¸€ã€æŸ¥è¯¢ç°æœ‰ç¡¬ç›˜æƒ…å†µ è¿è¡Œï¼š sudo fdisk -l\nè¿è¡Œ ll -h /dev/sd* æµ‹è¯•linuxç³»ç»Ÿæ˜¯å¦èƒ½æ‰¾åˆ°æŒ‚è½½çš„æœªåˆ†åŒºç¡¬ç›˜ï¼š\nå¾—åˆ°ï¼š\nbrw-rw---- 1 root disk 8, 0 4æœˆ 19 05:15 /dev/sda brw-rw---- 1 root disk 8, 1 4æœˆ 19 05:15 /dev/sda1 brw-rw---- 1 root disk 8, 16 4æœˆ 19 05:15 /dev/sdb   Linux ç¡¬ç›˜è¯†åˆ«ï¼š\n  2.6 kernelä»¥å,linuxä¼šå°†è¯†åˆ«åˆ°çš„ç¡¬ä»¶è®¾å¤‡,åœ¨/dev/ä¸‹å»ºç«‹ç›¸åº”çš„è®¾å¤‡æ–‡ä»¶. å¦‚: sda è¡¨ç¤ºç¬¬1å—SCSIç¡¬ç›˜ï¼Œç¬¬äºŒå—æ˜¯sdbï¼Œä»¥æ­¤ç±»æ¨ hda è¡¨ç¤ºç¬¬1å—IDEç¡¬ç›˜(å³è¿æ¥åœ¨ç¬¬1ä¸ªIDEæ¥å£çš„Masterå£ä¸Š) scd0 è¡¨ç¤ºç¬¬1ä¸ªUSBå…‰é©±. å½“æ·»åŠ äº†æ–°ç¡¬ç›˜å,åœ¨/devç›®å½•ä¸‹ä¼šæœ‰ç›¸åº”çš„è®¾å¤‡æ–‡ä»¶äº§ç”Ÿ.ccissçš„ç¡¬ç›˜æ˜¯ä¸ªä¾‹å¤–,å®ƒçš„ è®¾å¤‡æ–‡ä»¶åœ¨/dev/cciss/ç›®å½•ä¸‹.\n äºŒã€æŒ‚è½½ç¡¬ç›˜ 1. åˆ›å»ºæœªè¢«æŒ‚è½½çš„ç£ç›˜åˆ†åŒº fdisk /dev/sdb  æ­¤æ—¶ä¼šè¿›å…¥åˆ° Commandã€€çš„çŠ¶æ€ï¼Œå¤§æ¦‚æ˜¯è¿™ä¹ˆæ“ä½œçš„ï¼š\n è¾“å…¥ m æŸ¥çœ‹å¸®åŠ© è¾“å…¥ p æŸ¥çœ‹ /dev/sdb åˆ†åŒºçš„çŠ¶æ€ è¾“å…¥ n åˆ›å»ºsdbè¿™å—ç¡¬ç›˜çš„åˆ†åŒº  é€‰ p primary =\u0026gt;è¾“å…¥ã€€p Partition number =\u0026gt;åˆ†ä¸€ä¸ªåŒºæ‰€ä»¥è¾“å…¥ã€€1 å…¶ä»–çš„é»˜è®¤å³å¯   è¾“å…¥ w ä¿å­˜å¹¶é€€å‡º Command çŠ¶æ€ã€‚  ä¸‹é¢å…¨æ˜¯å‘½ä»¤è¡Œä¸‹çš„æ“ä½œè¿‡ç¨‹ï¼š\n# æŸ¥çœ‹å¸®åŠ©ä¿¡æ¯ Command (m for help): m Command action a toggle a bootable flag å°†åˆ†åŒºè®¾ç½®ä¸ºå¯åŠ¨åŒº b edit bsd disklabel ç¼–è¾‘bsdçš„disklabel c toggle the dos compatibility flag è®¾ç½®è¯¥åˆ†åŒºä¸ºdosåˆ†åŒº d delete a partition åˆ é™¤åˆ†åŒº l list known partition types åˆ—å‡ºå·²çŸ¥çš„åˆ†åŒºç±»å‹ m print this menu æ‰“å°å¸®åŠ©åˆ—è¡¨ n add a new partition åˆ›å»ºæ–°åˆ†åŒº o create a new empty DOS partition table p print the partition tableæŸ¥çœ‹åˆ†åŒºä¿¡æ¯ q quit without saving changes é€€å‡ºä¸ä¿å­˜ s create a new empty Sun disklabel t change a partition's system idæ”¹å˜åˆ†åŒºç±»å‹ u change display/entry units v verify the partition table w write table to disk and exit ä¿å­˜é€€å‡º x extra functionality (experts only) # æŸ¥çœ‹sdbè¿™å—ç¡¬ç›˜çš„åˆ†åŒº Command (m for help): p Disk /dev/sdb: 21.5 GB, 21474836480 bytes 255 heads, 63 sectors/track, 2610 cylinders, total 41943040 sectors Units = sectors of 1 * 512 = 512 bytes Sector size (logical/physical): 512 bytes / 512 bytes I/O size (minimum/optimal): 512 bytes / 512 bytes Disk identifier: 0xf74052cc Device Boot Start End Blocks Id System # åˆ›å»ºsdbè¿™å—ç¡¬ç›˜çš„åˆ†åŒº Command (m for help): n Partition type: p primary (0 primary, 0 extended, 4 free) e extended Select (default p): p Partition number (1-4, default 1): 1 First sector (2048-41943039, default 2048): Using default value 2048 Last sector, +sectors or +size{K,M,G} (2048-41943039, default 41943039): Using default value 41943039 #æŸ¥çœ‹åˆ›å»ºsdbç¡¬ç›˜çš„åˆ†åŒº Command (m for help): p Disk /dev/sdb: 21.5 GB, 21474836480 bytes 255 heads, 63 sectors/track, 2610 cylinders, total 41943040 sectors Units = sectors of 1 * 512 = 512 bytes Sector size (logical/physical): 512 bytes / 512 bytes I/O size (minimum/optimal): 512 bytes / 512 bytes Disk identifier: 0xf74052cc Device Boot Start End Blocks Id System /dev/sdb1 2048 41943039 20970496 83 Linux #ä¿å­˜é€€å‡ºï¼Œåˆ†åŒºåˆ›å»ºç»“æŸ Command (m for help): w The partition table has been altered! Calling ioctl() to re-read partition table. Syncing disks.  fdiskçš„æ“ä½œå‘Šä¸€æ®µè½ï¼Œç°åœ¨å¯ä»¥å†ç”¨ sudo fdisk -l æŸ¥çœ‹ç¡¬ç›˜ä¿¡æ¯å°±å¯ä»¥çœ‹åˆ°sdb1æ–°åˆ†åŒºäº†:\nvagrant@vagrant-ubuntu-trusty-64:~$ sudo fdisk -l Disk /dev/sda: 42.9 GB, 42949672960 bytes 4 heads, 32 sectors/track, 655360 cylinders, total 83886080 sectors Units = sectors of 1 * 512 = 512 bytes Sector size (logical/physical): 512 bytes / 512 bytes I/O size (minimum/optimal): 512 bytes / 512 bytes Disk identifier: 0x000020ea Device Boot Start End Blocks Id System /dev/sda1 * 2048 83886079 41942016 83 Linux Disk /dev/sdb: 21.5 GB, 21474836480 bytes 213 heads, 34 sectors/track, 5791 cylinders, total 41943040 sectors Units = sectors of 1 * 512 = 512 bytes Sector size (logical/physical): 512 bytes / 512 bytes I/O size (minimum/optimal): 512 bytes / 512 bytes Disk identifier: 0xf74052cc Device Boot Start End Blocks Id System /dev/sdb1 2048 41943039 20970496 83 Linux  2. æ ¼å¼åŒ–æœªè¢«æŒ‚è½½çš„ç£ç›˜ sudo mkfs.ext3 /dev/sdb1  ä¸‹é¢æ˜¯å…·ä½“è¿‡ç¨‹ï¼š\nvagrant@vagrant-ubuntu-trusty-64:~$ sudo mkfs.ext3 /dev/sdb1 mke2fs 1.42.9 (4-Feb-2014) Filesystem label= OS type: Linux Block size=4096 (log=2) Fragment size=4096 (log=2) Stride=0 blocks, Stripe width=0 blocks 1310720 inodes, 5242624 blocks 262131 blocks (5.00%) reserved for the super user First data block=0 Maximum filesystem blocks=4294967296 160 block groups 32768 blocks per group, 32768 fragments per group 8192 inodes per group Superblock backups stored on blocks: 32768, 98304, 163840, 229376, 294912, 819200, 884736, 1605632, 2654208, 4096000 Allocating group tables: done Writing inode tables: done Creating journal (32768 blocks): done Writing superblocks and filesystem accounting information: done  3. åˆ›å»ºç›®å½•å¹¶æŒ‚è½½ sudo mkdir /data1 sudo mount /dev/sdb1 /data1  ä¸‰ã€å¼€æœºè‡ªåŠ¨æŒ‚è½½ å› ä¸ºmountæŒ‚è½½åœ¨é‡å¯æœåŠ¡å™¨åä¼šå¤±æ•ˆï¼Œæ‰€ä»¥éœ€è¦å°†åˆ†åŒºä¿¡æ¯å†™åˆ°/etc/fstabæ–‡ä»¶ä¸­è®©å®ƒæ°¸ä¹…æŒ‚è½½ï¼š\ne2label /dev/hda6 å…ˆæŸ¥çœ‹éœ€è¦æŒ‚è½½ç¡¬ç›˜åˆ†åŒºçš„labl /home e2label /dev/hda6 home1 å› ä¸ºç³»ç»Ÿä¸­å·²ç»æœ‰ä¸ª/homeçš„labeläº†ï¼Œæ‰€ä»¥è¿™é‡Œè¦é‡æ–°æŠŠ/dev/hda6çš„labelè®¾ç½®ä¸ºhome1 vi /etc/fstab  åœ¨å°¾éƒ¨åŠ ä¸Š\n/dev/sdb1 /home ext3 defaults 0 0  è¡¨ç¤ºæŠŠæ–°çš„ç¡¬ç›˜åˆ†åŒºæŒ‚è½½åˆ° /home è¿™ä¸ªç›®å½• åœ¨ä¿®æ”¹ã€€/etc/fstabã€€æ–‡ä»¶åï¼Œè¿è¡Œ mount -a å‘½ä»¤éªŒè¯ä¸€ä¸‹é…ç½®æ˜¯å¦æ­£ç¡®ï¼Œå¦åˆ™é”™è¯¯é…ç½® fstab æ–‡ä»¶å¯¼è‡´ç³»ç»Ÿæ— æ³•æ­£å¸¸å¯åŠ¨ã€‚å¦‚æœç³»ç»Ÿæ— æ³•æ­£å¸¸å¯åŠ¨ï¼Œåˆ™è¾“å…¥rootå¯†ç è¿›å…¥ä¿®å¤æ¨¡å¼ï¼Œå…³é”®çš„ä¸€æ­¥æ˜¯é‡æ–° mount /ï¼ˆmount -n -o remount,rw /ï¼‰ ã€‚å¦‚æœæ²¡æœ‰æ­¤æ­¥æ“ä½œï¼Œåˆ™æ–‡ä»¶ç³»ç»Ÿå¤„äºåªè¯»çŠ¶æ€ï¼Œå¯¼è‡´ä¸èƒ½ä¿®æ”¹é…ç½®æ–‡ä»¶å¹¶ä¿å­˜ï¼Œä¿®å¤å­˜åœ¨çš„é—®é¢˜ã€‚\né‡å¯ç³»ç»Ÿ\nå››ã€å…¶ä»–å¯èƒ½ä¼šç”¨åˆ°çš„å‘½ä»¤ sudo vi /etc/fstab sudo umount /data1 #å¸è½½ç£ç›˜åˆ°/data1çš„æ˜ å°„ sudo dd if=/dev/zero of=/dev/sdbã€€å¡«é›¶/dev/sdb cat /proc/mounts æŸ¥çœ‹æ˜ å°„ä¿¡æ¯ ","permalink":"https://wedojava.github.io/posts/new-disk-mount-to-ubuntu/","tags":["linux"," ubuntu"," disk"," æŒ‚è½½"," ç¡¬ç›˜"],"title":"ä¸º Ubuntu åŠ è½½æ–°ç¡¬ç›˜"},{"categories":["Docker"],"contents":" å‚è€ƒï¼š\n  Docker â€”â€” ä»å…¥é—¨åˆ°å®è·µ Dockerå®˜æ–¹-Linux  For Windows 10(failed) Reference:\nRun Linux containers on Windows\nPreparation  hyper-v installed docker installed (2.2.0 install cannot be success. recommend 2.1.0)  Install(Method 1) while, I update docker.exe everything goes well.\n Download docker.exe from Docker Master Binaries Replace C:\\Program Files\\Docker\\Docker\\resources\\bin\\docker.exe you download from link above, and you can download any image from container manager: Kitematic  Install(method 2 failed)   Install docker desktop and download container manager: Kitematic\n  download: Canonical Partner Images of Ubuntu for Linux containers on Microsoft Hyper-V and unzip it.\n  mkdir C:\\\\lcow used as scratch space for Docker while preparing the containers.\n  mkdir C:\\\\Program Files\\\\Linux Containers where the Ubuntu container image will live.\n  TIPS: never change the path: C:\\\\Program Files\\\\Linux Containers, it must be there.\n  Save script below to .\\set_perms.ps1:\n  param( [string] $Root ) # Give the virtual machines group full control $acl = Get-Acl -Path $Root $vmGroupRule = new-object System.Security.AccessControl.FileSystemAccessRule(\u0026#34;NT VIRTUAL MACHINE\\Virtual Machines\u0026#34;, \u0026#34;FullControl\u0026#34;,\u0026#34;ContainerInherit,ObjectInherit\u0026#34;, \u0026#34;None\u0026#34;, \u0026#34;Allow\u0026#34;) $acl.SetAccessRule($vmGroupRule) Set-Acl -AclObject $acl -Path $Root   You will need to give this folder extra permissions to allow Docker to use the images from it. Run the following Powershell script in an administrator Powershell window:\n  TIP You may need to run Set-ExecutionPolicy -Scope process unrestricted to be allowed to run unsigned Powershell scripts.\n  .\\set_perms.ps1 \u0026#34;C:\\\\Program Files\\\\Linux Containers\u0026#34;     Now, copy the Ubuntu container image .vhdx file that was decompressed at the previous step to uvm.vhdx under C:\\Program Files\\Linux Containers.\n  For Ubuntu ç³»ç»Ÿè¦æ±‚ use command blow:\nuname -a  or\ncat /proc/version  to get the kenrel version that is must biger than 3.10.\nNotice: Your Ubuntu version must biger than 12.04.\nFirst to update or have these packages which is blow:\n linux-image-generic-lts-trusty ï¼ˆå¿…å¤‡ï¼‰ linux-headers-generic-lts-trusty ï¼ˆå¿…å¤‡ï¼‰ xserver-xorg-lts-trusty ï¼ˆå¸¦å›¾å½¢ç•Œé¢æ—¶å¿…å¤‡ï¼‰ libgl1-mesa-glx-lts-trustyï¼ˆå¸¦å›¾å½¢ç•Œé¢æ—¶å¿…å¤‡ï¼‰  To use aufs storage,you\u0026rsquo;d better get the package:linux-image-extra\nsudo apt-get install -y linux-image-extra-$(uname -r)  æ·»åŠ é•œåƒæº é¦–å…ˆéœ€è¦å®‰è£… apt-transport-https åŒ…æ”¯æŒ https åè®®çš„æºã€‚\nsudo apt-get install -y apt-transport-https  æ·»åŠ æºçš„ gpg å¯†é’¥ã€‚\nsudo apt-key adv --keyserver hkp://p80.pool.sks-keyservers.net:80 --recv-keys 58118E89F3A912897C070ADBF76221572C52609D  è·å–å½“å‰æ“ä½œç³»ç»Ÿçš„ä»£å·ã€‚\nlsb_release -c // echo info! Codename: wily  12.04 (LTS) ä»£å·ä¸º preciseï¼Œ14.04 (LTS) ä»£å·ä¸º trustyï¼Œ15.04 ä»£å·ä¸º vividï¼Œ15.10 ä»£å·ä¸º wilyã€‚\næ¥ä¸‹æ¥å°±å¯ä»¥æ·»åŠ  Docker çš„å®˜æ–¹ apt è½¯ä»¶æºäº†ã€‚é€šè¿‡ä¸‹é¢å‘½ä»¤åˆ›å»º /etc/apt/sources.list.d/docker.list æ–‡ä»¶ï¼Œå¹¶å†™å…¥æºçš„åœ°å€å†…å®¹ã€‚é wily ç‰ˆæœ¬çš„ç³»ç»Ÿæ³¨æ„ä¿®æ”¹ä¸ºè‡ªå·±å¯¹åº”çš„ä»£å·ã€‚\nsudo cat \u0026lt;\u0026lt;EOF \u0026gt; /etc/apt/sources.list.d/docker.list deb https://apt.dockerproject.org/repo ubuntu-wily main EOF  å¦‚æœæ‰§è¡ŒæŠ¥æƒé™ä¸è¶³ï¼Œè¯·ç›´æ¥ su ç”¨ root ç”¨æˆ·æ‰§è¡Œã€‚\næ·»åŠ æˆåŠŸåï¼Œæ›´æ–° apt è½¯ä»¶åŒ…ç¼“å­˜ã€‚\nsudo apt-get update ","permalink":"https://wedojava.github.io/posts/docker-install-log/","tags":["docker"," log"," ubuntu"],"title":"Docker-Install-Log"},{"categories":["Laravel"],"contents":"å¸¸å¸¸ä¼šç”¨åˆ° artisan çš„ä¸€äº›å‘½ä»¤ï¼Œå¾€å¾€è¦å»æŸ¥æ–‡æ¡£ï¼Œç¿»å¼„åŠå¤©ï¼Œä¸æ–¹ä¾¿ï¼Œè¿™é‡Œå½’çº³åœ¨è¿™é‡Œ\nä¸€ã€æ§åˆ¶å™¨  5.1 --plainç”¨äºåˆ›å»ºä¸€ä¸ªç©ºçš„æ§åˆ¶å™¨è€Œä¸æ˜¯æ ‡å‡†çš„ RESTful é£æ ¼æ§åˆ¶å™¨ã€‚ 5.2 --plainæ— æ•ˆï¼Œé»˜è®¤å³æ˜¯ç©ºçš„æ§åˆ¶å™¨ï¼Œè¦è‡ªå¸¦ç”Ÿæˆå„ç±»æ–¹æ³•æ¡†æ¶éœ€è¦æ·»åŠ å‚æ•°ï¼š--resource  php artisan make:controller BlogController --resource åˆ™ç”Ÿæˆçš„æ–¹æ³•å’Œ5.1å‰ï¼Œæ²¡æœ‰æ·»åŠ ä»»ä½•å‚æ•°ç”Ÿæˆçš„æ§åˆ¶å™¨ä¸€æ ·ã€‚\näºŒã€æ¨¡å‹å’Œæ•°æ®åº“è¿ç§» 1ã€åˆ›å»ºæ¨¡å‹çš„åŒæ—¶åˆ›å»ºè¡¨çš„è¿ç§» php artisan make:model --migration Post æˆ–ï¼š\nphp artisan make:model --m Post  ä¸Šè¿°å‘½ä»¤ä¼šåšä¸¤ä»¶äº‹æƒ…ï¼š\n åœ¨ app ç›®å½•ä¸‹åˆ›å»ºæ¨¡å‹ç±» App\\Postï¼› åˆ›å»ºç”¨äºåˆ›å»º posts è¡¨çš„è¿ç§»ï¼Œè¯¥è¿ç§»æ–‡ä»¶ä½äº database/migrations ç›®å½•ä¸‹ã€‚   ç”Ÿæˆçš„è¿ç§»æ–‡ä»¶çš„å…³é”®ä½ç½®æ˜¯ï¼š\nSchema::create(\u0026#39;posts\u0026#39;, function (Blueprint $table) { æ³¨æ„ï¼Œæ˜¯Schema::createã€‚\n2ã€åˆ›å»ºè¡¨çš„è¿ç§» php artisan make:migration create_users_table --create=users --create=users:è¯¥è¿ç§»æ˜¯å¦è¦åˆ›å»ºä¸€ä¸ªæ–°çš„æ•°æ®è¡¨users\n3ã€ä¿®æ”¹è¡¨å­—æ®µçš„è¿ç§» åœ¨ Laravel 5.1 ä¸­å¦‚æœéœ€è¦ä¿®æ”¹æ•°æ®è¡¨çš„åˆ—ï¼Œåˆ™éœ€è¦å®‰è£… Doctrine ä¾èµ–åŒ…ï¼Œæˆ‘ä»¬ä½¿ç”¨ Composer å®‰è£…è¯¥ä¾èµ–åŒ…ï¼š\ncomposer require \u0026quot;doctrine/dbal\u0026quot;  æ¥ä¸‹æ¥ä½¿ç”¨ Artisan å‘½ä»¤åˆ›å»ºæ–°çš„è¿ç§»æ–‡ä»¶ï¼š\nphp artisan make:migration --table=posts restructure_posts_table  restructureæ˜¯å…³é”®å­—ï¼Œ--table=postsæŒ‡å®šäº†è¦æ“ä½œçš„è¡¨\nç”Ÿæˆæ–‡ä»¶çš„å…³é”®ä½ç½®ä¸ºï¼š\nSchema::table(\u0026#39;posts\u0026#39;, function (Blueprint $table) { // ...... $table-\u0026gt;renameColumn(\u0026#39;content\u0026#39;, \u0026#39;content_raw\u0026#39;); // ...... change():ä¿®æ”¹å·²å­˜åœ¨çš„åˆ—ä¸ºæ–°çš„ç±»å‹ï¼Œæˆ–è€…ä¿®æ”¹åˆ—çš„å±æ€§ã€‚ $table-\u0026gt;string('name', 50)-\u0026gt;change();å³å°±æ˜¯ä¿®æ”¹ name åˆ—çš„å°ºå¯¸ä¸º50ã€‚ $table-\u0026gt;string('name', 50)-\u0026gt;nullable()-\u0026gt;change();å³å°±æ˜¯ä¿®æ”¹ name åˆ—ä¸ºå¯ç©ºã€‚\nåˆ—ä¿®æ”¹å™¨åˆ—è¡¨ï¼š\n   ä¿®æ”¹å™¨ æè¿°     -\u0026gt;first() å°†è¯¥åˆ—ç½®ä¸ºè¡¨ä¸­ç¬¬ä¸€ä¸ªåˆ— (ä»…é€‚ç”¨äºMySQL)   -\u0026gt;after('column') å°†è¯¥åˆ—ç½®äºå¦ä¸€ä¸ªåˆ—ä¹‹å (ä»…é€‚ç”¨äºMySQL)   -\u0026gt;nullable() å…è®¸è¯¥åˆ—çš„å€¼ä¸ºNULL   -\u0026gt;default($value) æŒ‡å®šåˆ—çš„é»˜è®¤å€¼   -\u0026gt;unsigned() è®¾ç½® integer åˆ—ä¸º UNSIGNED    æ›´å¤šä¿¡æ¯å¯å‚è€ƒ laravelå­¦é™¢çš„æ–‡æ¡£\n4ã€æ·»åŠ æ–°å­—æ®µåˆ°å·²å­˜åœ¨çš„è¡¨ php artisan make:migration alter_posts_deleted_at --table=posts alteræ˜¯å…³é”®å­—ï¼Œ--table=postsæŒ‡å®šè¦æ“ä½œçš„è¡¨\nç”Ÿæˆæ–‡ä»¶çš„å…³é”®ä½ç½®ä¸ºï¼š\nSchema::table(\u0026#39;posts\u0026#39;, function (Blueprint $table) { 5ã€åˆ›å»ºè¿ç§»æ–‡ä»¶ï¼šå…³ç³»è¡¨ php artisan make:migration create_user_accounts_table --create=user_accounts åˆ›å»ºè¡¨ï¼šuser_accounts\nå…³é”®è¡Œï¼š\nSchema::create(\u0026#39;user_accounts\u0026#39;, function (Blueprint $table) { 6ã€è¿è¡Œè¿ç§» php artisan migrate å¯ä»¥æ¥çš„å‚æ•°ï¼š --force:åœ¨ç”Ÿäº§ç¯å¢ƒä¸­å¼ºåˆ¶è¿è¡Œè¿ç§»\n","permalink":"https://wedojava.github.io/posts/laravel-artisan-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/","tags":["laravel"," artisan"],"title":"laravel-artisan-model-å¸¸ç”¨å‘½ä»¤"},{"categories":["Laravel"],"contents":"å…³äº laravel çš„å¾ˆå¤šç†è§£è¿˜æ˜¯æ¯”è¾ƒç¼ºä¹ï¼Œæœ€è¿‘çœ‹ laravel å­¦é™¢çš„åŸºç¡€æ•™ç¨‹ï¼Œè¿™é‡ŒæŠŠæˆ‘çš„ä¸ªäººç†è§£æ”¾è¿™é‡Œï¼Œæ–¹ä¾¿æ—¥åæ¸©æ•…ã€‚\nåŸç†æ¦‚æ‹¬  ç¬¬ä¸€æ­¥å®šä¹‰æœåŠ¡ç±»ã€‚ä¹Ÿå°±æ˜¯æˆ‘ä»¬å…·ä½“çš„é€»è¾‘æ–¹æ³•ç­‰ï¼Œå®šä¹‰è¿™ä¸ªç±»åˆåº”è¯¥æœ‰å¥‘çº¦çº¦æŸï¼Œæ‰€ä»¥å®šä¹‰æ¥å£å¹¶è®©æœåŠ¡ç±»ç»§æ‰¿å®ç°ï¼Œæ‰€ä»¥ç¬¬ä¸€æ­¥æ˜¯åŒ…æ‹¬æœåŠ¡ç±»å’Œæ¥å£çš„å®šä¹‰ã€‚ ç¬¬äºŒæ­¥å®šä¹‰æœåŠ¡æä¾›è€…ã€‚æœåŠ¡æœ‰äº†ï¼Œéœ€è¦ä¸“äººè´Ÿè´£å®æ—¶æ‰€æä¾›çš„æœåŠ¡ï¼Œå®ä¾‹åŒ–å¯¹è±¡å’Œç»‘å®šåœ¨è¿™é‡Œå®Œæˆã€‚ ç¬¬ä¸‰æ­¥æ³¨å†ŒæœåŠ¡ã€‚å…¬å¸è£…ä¿®å¥½äº†ï¼Œè®¾å¤‡ä¹Ÿéƒ½èƒ½è¿è½¬äº†ï¼Œå¯è¦æ˜¯å‘æ‰€æœ‰äººæä¾›æœåŠ¡å°±éœ€è¦è·å¾—æ”¿åºœçš„è®¤å¯å’Œæ³¨å†Œï¼Œå‘Šè¯‰æ”¿åºœå…¬å¸åœ°å€ï¼Œä»¥ä¾¿ç®¡æ§ã€‚ ç¬¬å››æ­¥å¼€åº—è¥ä¸šã€‚æ‰€æœ‰äº‹åŠ¡éƒ½ä»¥å‡†å¤‡å®Œæ¯•ï¼Œå¯ä»¥å¼€å¼ è¥ä¸šäº†ï¼Œåº—é¢è´Ÿè´£å±•ç¤ºå’Œå‘å…¬å¸æäº¤è®¢å•ç­‰ä¸šåŠ¡é€»è¾‘ï¼ˆè·¯ç”±ã€æ§åˆ¶å™¨å’Œè§†å›¾ï¼‰ã€‚  æ¡ˆä¾‹å®ç° 1ã€å®šä¹‰æœåŠ¡ç±» æŒ‰ç…§æ­£å¸¸æ€ç»´é€»è¾‘ï¼Œæˆ‘ä»¬éœ€è¦å®ç°æŸåŠŸèƒ½æˆ–æœåŠ¡ï¼Œç°åœ¨ï¼Œæˆ‘ä»¬åˆ›å»ºæœåŠ¡ç±»ï¼Œè€ƒè™‘åˆ°åˆ›å»ºæœåŠ¡ç±»åº”è¯¥å…ˆåˆ›å»ºå…¶æ¥å£æ¥çº¦æŸè¯¥ç±»ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦å…ˆåˆ›å»ºè¿™ä¸ªçº¦æŸå…¶è¡Œä¸ºçš„æ¥å£app\\TestContracts\\TestContract.phpï¼š\n\u0026lt;?php namespace App\\Contracts; interface TestContract { public function callMe($controller); } ç„¶åæˆ‘ä»¬æ¥å®šä¹‰é’ˆå¯¹è¿™ä¸ªæ¥å£çš„å®ç°ï¼Œå…·ä½“çš„æœåŠ¡é€»è¾‘app\\Services\\TestService.phpï¼š\n\u0026lt;?php namespace App\\Services; use App\\Contracts\\TestContract; class TestService implements TestContract { public function callMe($controller) { dd(\u0026#39;Call Me From TestServiceProvider In \u0026#39;.$controller); } } 2ã€åˆ›å»ºæœåŠ¡æä¾›è€… ç¬¬ä¸€æ­¥æ˜¯ä¸ºäº†åˆ¶é€ æœºå™¨ï¼Œæœºå™¨åˆ¶é€ å¥½äº†ï¼Œéœ€è¦ç”¨å¥½æœºå™¨ï¼ŒæœåŠ¡æä¾›è€…å°±æ˜¯ç”¨æœºå™¨çš„äººï¼Œç»‘å®šå’Œå®ä¾‹åŒ–åº”è¯¥æ˜¯åœ¨è¿™é‡Œå®Œæˆã€‚ å®šä¹‰ä¸€ä¸ªæœåŠ¡æä¾›è€…TestServiceProviderï¼Œè¿è¡Œä¸‹é¢çš„å‘½ä»¤ï¼š\nphp artisan make:provider TestServiceProvider æˆæ‰§è¡Œä¼šåœ¨app/Providersç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ªTestServiceProvider.phpæ–‡ä»¶ï¼Œæˆ‘ä»¬ä¿®æ”¹å…¶å†…å®¹å¦‚ä¸‹ï¼š\n\u0026lt;?php namespace App\\Providers; use Illuminate\\Support\\ServiceProvider; use App\\Services\\TestService; class TestServiceProvider extends ServiceProvider { /** * Bootstrap the application services. * * @return void */ public function boot() { // } /** * Register the application services. * * @return void * @author LaravelAcademy.org */ public function register() { //ä½¿ç”¨singletonç»‘å®šå•ä¾‹ $this-\u0026gt;app-\u0026gt;singleton(\u0026#39;test\u0026#39;,function(){ return new TestService(); }); //ä½¿ç”¨bindç»‘å®šå®ä¾‹åˆ°æ¥å£ä»¥ä¾¿ä¾èµ–æ³¨å…¥ $this-\u0026gt;app-\u0026gt;bind(\u0026#39;App\\Contracts\\TestContract\u0026#39;,function(){ return new TestService(); }); } } register() æ–¹æ³•é‡Œçš„è¿™ä¸¤ç§ç»‘å®šæ–¹å¼æ˜¯ç”±åŒºåˆ«çš„ï¼Œå¯ä»¥å‚è€ƒæœåŠ¡å®¹å™¨æ–‡æ¡£äº†è§£æ›´å¤šã€‚\n3ã€æ³¨å†ŒæœåŠ¡æä¾›è€… æœåŠ¡æä¾›è€…å¤šäº†ï¼Œç³»ç»Ÿéš¾å…éš¾äºç®¡ç†ï¼Œä¸ºäº†æ›´æœ‰æ¡ç†çš„ç®¡ç†å¥½å„ç±»æœåŠ¡æä¾›è€…ï¼Œåº”è¯¥æœ‰æ”¿åºœå‡ºé¢æ¥è´Ÿè´£å„ç±»æœåŠ¡çš„æ³¨å†Œï¼Œæ³¨å†Œçš„æ„æ€å°±æ˜¯è¯´ï¼Œåªæœ‰åœ¨æ”¿åºœæ³¨å†Œäº†çš„å…¬å¸æ‰å¯ä»¥åˆæ³•ç»è¥ã€‚ laravel æ‰€æœ‰çš„æ³¨å†Œéƒ½æ˜¯åœ¨config/app.phpé‡Œã€‚æˆ‘ä»¬åœ¨provideræ•°ç»„é‡Œè¿½åŠ æˆ‘ä»¬æ–°å¢åŠ çš„æœåŠ¡ï¼š\n// æ›´å¤š \u0026#39;providers\u0026#39; =\u0026gt; [ //å…¶ä»–æœåŠ¡æä¾›è€… App\\Providers\\TestServiceProvider::class, ], // æ›´å¤š 4ã€æµ‹è¯•æœåŠ¡æä¾›è€… è¿™é‡ŒåŒ…æ‹¬åˆ›å»ºæµ‹è¯•ç”¨æ§åˆ¶å™¨å’Œè§†å›¾ï¼Œæ·»åŠ æµ‹è¯•ç”¨è·¯ç”±ç­‰ã€‚\nåˆ›å»ºæ§åˆ¶å™¨ åˆ›å»ºTestControlleræ§åˆ¶å™¨ï¼Œè¿è¡Œï¼š\nphp artisan make:controller TestController æ§åˆ¶å™¨å†…å®¹ä¸ºï¼š\n\u0026lt;?php namespace App\\Http\\Controllers; use Illuminate\\Http\\Request; use App\\Http\\Requests; use App\\Http\\Controllers\\Controller; use App; use App\\Contracts\\TestContract; class TestController extends Controller { //ä¾èµ–æ³¨å…¥ public function __construct(TestContract $test){ $this-\u0026gt;test = $test; } /** * Display a listing of the resource. * * @return Response * @author LaravelAcademy.org */ public function index() { // $test = App::make(\u0026#39;test\u0026#39;); // $test-\u0026gt;callMe(\u0026#39;TestController\u0026#39;); $this-\u0026gt;test-\u0026gt;callMe(\u0026#39;TestController\u0026#39;); } ...//å…¶ä»–æ§åˆ¶å™¨åŠ¨ä½œ } é…ç½®è·¯ç”± åœ¨routes.phpä¸­æ·»åŠ ä¸€æ¡è·¯ç”±ï¼š\nRoute::resource(\u0026#39;test\u0026#39;,\u0026#39;TestController\u0026#39;); æ­¤æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥æµ‹è¯•ä¸‹ï¼šhttp://youwebsite/testï¼Œåº”è¯¥ä¼šè¾“å‡ºè¿™æ ·ä¸€è¡Œå†…å®¹ï¼š\n \u0026ldquo;Call Me From TestServiceProvider In TestController\u0026rdquo;\n æ­¤å¤–ï¼ŒLaravelæœåŠ¡æä¾›è€…è¿˜æ”¯æŒå»¶è¿ŸåŠ è½½ï¼Œå…·ä½“å¯å‚è€ƒæœåŠ¡æä¾›è€…æ–‡æ¡£ã€‚\n","permalink":"https://wedojava.github.io/posts/laravel-%E6%9C%8D%E5%8A%A1%E6%8F%90%E4%BE%9B%E8%80%85-%E6%88%91%E6%98%AF%E8%BF%99%E4%B9%88%E7%90%86%E8%A7%A3%E7%9A%84/","tags":["laravel"," æœåŠ¡æä¾›è€…"],"title":"laravel-æœåŠ¡æä¾›è€…-æˆ‘æ˜¯è¿™ä¹ˆç†è§£çš„"},{"categories":["ç¿»å¢™"],"contents":" å‚è€ƒæ–‡æ¡£ï¼šhttps://quericy.me/blog/512 ä¸€é”®è„šæœ¬ï¼šhttp://quericy.me/blog/699 ç›®å‰ç”¨çš„ä¸€é”®è„šæœ¬ï¼šhttps://blog.ls20.com/ipsec-l2tp-vpn-auto-setup-for-ubuntu-12-04-on-amazon-ec2/ ä¸€é”®è„šæœ¬è¯´æ˜ï¼šhttps://github.com/hwdsl2/setup-ipsec-vpn\n å› ä¸ºæˆ‘çš„ vps æ˜¯ CentOS ç³»ç»Ÿï¼Œæ‰€ä»¥ Ubuntu æ²¡æµ‹è¯•ï¼Œæœ¬æ—¥å¿—ä¸»è¦è®°å½•æˆ‘åœ¨ CentOS ä¸Šçš„å„ç§æ“ä½œã€‚\nç¼–è¾‘å®‰è£… Strongswan å®‰è£…å¿…å¤‡åº“  Ubuntu:  apt-get update apt-get install libpam0g-dev libssl-dev make gcc  CentOS:  yum update yum install pam-devel openssl-devel make gcc ä¸‹è½½å’Œè§£å‹ Strongswan wget http://download.strongswan.org/strongswan.tar.gz tar xzf strongswan.tar.gz cd strongswan-* ç¼–è¯‘Strongswan Xenã€KVMä½¿ç”¨ä»¥ä¸‹å‚æ•° ./configure --enable-eap-identity --enable-eap-md5 \\ --enable-eap-mschapv2 --enable-eap-tls --enable-eap-ttls --enable-eap-peap \\ --enable-eap-tnc --enable-eap-dynamic --enable-eap-radius --enable-xauth-eap \\ --enable-xauth-pam --enable-dhcp --enable-openssl --enable-addrblock --enable-unity \\ --enable-certexpire --enable-radattr --enable-tools --enable-openssl --disable-gmp OpenVZéœ€é¢å¤–å¢åŠ ä¸€ä¸ª enable-kernel-libipsec ./configure --enable-eap-identity --enable-eap-md5 \\ --enable-eap-mschapv2 --enable-eap-tls --enable-eap-ttls --enable-eap-peap \\ --enable-eap-tnc --enable-eap-dynamic --enable-eap-radius --enable-xauth-eap \\ --enable-xauth-pam --enable-dhcp --enable-openssl --enable-addrblock --enable-unity \\ --enable-certexpire --enable-radattr --enable-tools --enable-openssl --disable-gmp --enable-kernel-libipsec ç¼–è¯‘å®‰è£… make; make install ç¼–è¯‘å®Œæˆåå¦‚æœæ²¡æœ‰æŠ¥é”™,ä¸”ä½¿ç”¨ipsec versionæŒ‡ä»¤èƒ½å‡ºç°ç‰ˆæœ¬ä¿¡æ¯,åˆ™è¡¨ç¤ºå®‰è£…æˆåŠŸ.\né…ç½®è¯ä¹¦  ç”ŸæˆCAè¯ä¹¦çš„ç§é’¥ï¼š  ipsec pki --gen --outform pem \u0026gt; ca.pem ä½¿ç”¨ç§é’¥ï¼Œç­¾åCAè¯ä¹¦:  ipsec pki --self --in ca.pem --dn \u0026#34;C=com, O=myvpn, CN=VPN CA\u0026#34; --ca --outform pem \u0026gt;ca.cert.pem ç”ŸæˆæœåŠ¡å™¨è¯ä¹¦æ‰€éœ€çš„ç§é’¥:  ipsec pki --gen --outform pem \u0026gt; server.pem ç”¨CAè¯ä¹¦ç­¾å‘æœåŠ¡å™¨è¯ä¹¦ï¼š   è¯·å…ˆç¡®è®¤ä½ çš„æœåŠ¡å™¨çš„IPåœ°å€æˆ–åŸŸå,ä»¥åå®¢æˆ·ç«¯è¿æ¥æ—¶åªèƒ½ä½¿ç”¨è¯ä¹¦ä¸­çš„åœ°å€è¿æ¥(å¤šæœåŠ¡å™¨ä½¿ç”¨ç›¸åŒæ ¹è¯ä¹¦CAçš„,è¯·å…ˆåšå¥½æœåŠ¡å™¨çš„åŸŸåè§£æ), ç„¶åå°†ä¸‹é¢å‘½ä»¤ä¸­çš„123.123.123.123æ›¿æ¢ä¸ºè‡ªå·±æœåŠ¡å™¨çš„IPåœ°å€æˆ–åŸŸå,ä¸€å…±éœ€è¦æ›¿æ¢ä¸¤å¤„:\n ipsec pki --pub --in server.pem | ipsec pki --issue --cacert ca.cert.pem \\ --cakey ca.pem --dn \u0026#34;C=com, O=myvpn, CN=123.123.123.123\u0026#34; \\ --san=\u0026#34;123.123.123.123\u0026#34; --flag serverAuth --flag ikeIntermediate \\ --outform pem \u0026gt; server.cert.pem æ³¨æ„ä»¥ä¸Šå‘½ä»¤ä¸­çš„â€C=â€å’Œâ€O=â€çš„å€¼è¦ä¸ç¬¬2æ­¥CAä¸­çš„C,Oçš„å€¼ä¿æŒä¸€è‡´. 5. ç”Ÿæˆå®¢æˆ·ç«¯è¯ä¹¦æ‰€éœ€çš„ç§é’¥:\nipsec pki --gen --outform pem \u0026gt; client.pem ç”¨CAç­¾åå®¢æˆ·ç«¯è¯ä¹¦(C,Oçš„å€¼è¦ä¸ä¸Šé¢ç¬¬2æ­¥CAçš„å€¼ä¸€è‡´,CNçš„å€¼éšæ„):  ipsec pki --pub --in client.pem | ipsec pki --issue --cacert ca.cert.pem --cakey ca.pem --dn \u0026#34;C=com, O=myvpn, CN=VPN Client\u0026#34; --outform pem \u0026gt; client.cert.pem ç”Ÿæˆpkcs12è¯ä¹¦:  openssl pkcs12 -export -inkey client.pem -in client.cert.pem -name \u0026#34;client\u0026#34; -certfile ca.cert.pem -caname \u0026#34;VPN CA\u0026#34; -out client.cert.p12 æ³¨æ„ä»¥ä¸Šå‘½ä»¤ä¸­çš„â€-canameâ€åé¢çš„å¼•å·é‡Œçš„å€¼å¿…é¡»è¦ä¸ç¬¬2æ­¥CAä¸­çš„â€CN=â€çš„å€¼ä¿æŒä¸€è‡´. 8. å®‰è£…è¯ä¹¦:\ncp -r ca.cert.pem /usr/local/etc/ipsec.d/cacerts/ cp -r server.cert.pem /usr/local/etc/ipsec.d/certs/ cp -r server.pem /usr/local/etc/ipsec.d/private/ cp -r client.cert.pem /usr/local/etc/ipsec.d/certs/ cp -r client.pem /usr/local/etc/ipsec.d/private/ é…ç½® Strongswan  ç¼–è¾‘/usr/local/etc/ipsec.confæ–‡ä»¶:  vim /usr/local/etc/ipsec.conf ä¿®æ”¹ä¸ºä»¥ä¸‹å†…å®¹:\nconfig setup uniqueids=never conn iOS_cert keyexchange=ikev1 # strongswan version \u0026gt;= 5.0.2, compatible with iOS 6.0,6.0.1 fragmentation=yes left=%defaultroute leftauth=pubkey leftsubnet=0.0.0.0/0 leftcert=server.cert.pem right=%any rightauth=pubkey rightauth2=xauth rightsourceip=10.31.2.0/24 rightcert=client.cert.pem auto=add conn android_xauth_psk keyexchange=ikev1 left=%defaultroute leftauth=psk leftsubnet=0.0.0.0/0 right=%any rightauth=psk rightauth2=xauth rightsourceip=10.31.2.0/24 auto=add conn networkmanager-strongswan keyexchange=ikev2 left=%defaultroute leftauth=pubkey leftsubnet=0.0.0.0/0 leftcert=server.cert.pem right=%any rightauth=pubkey rightsourceip=10.31.2.0/24 rightcert=client.cert.pem auto=add conn windows7 keyexchange=ikev2 ike=aes256-sha1-modp1024! rekey=no left=%defaultroute leftauth=pubkey leftsubnet=0.0.0.0/0 leftcert=server.cert.pem right=%any rightauth=eap-mschapv2 rightsourceip=10.31.2.0/24 rightsendcert=never eap_identity=%any auto=add  ä½¿ç”¨vimç¼–è¾‘/usr/local/etc/strongswan.confæ–‡ä»¶:  charon { load_modular = yes duplicheck.enable = no compress = yes plugins { include strongswan.d/charon/*.conf } dns1 = 8.8.8.8 dns2 = 8.8.4.4 nbns1 = 8.8.8.8 nbns2 = 8.8.4.4 } include strongswan.d/*.conf  ä½¿ç”¨vimç¼–è¾‘/usr/local/etc/ipsec.secretsæ–‡ä»¶:  : RSA server.pem : PSK \u0026#34;myPSKkey\u0026#34; : XAUTH \u0026#34;myXAUTHPass\u0026#34; [ç”¨æˆ·å] %any : EAP \u0026#34;[å¯†ç ]\u0026#34; å°†ä¸Šé¢çš„myPSKkeyå•è¯æ›´æ”¹ä¸ºä½ éœ€è¦çš„PSKè®¤è¯æ–¹å¼çš„å¯†é’¥; å°†ä¸Šé¢çš„myXAUTHPasså•è¯æ›´æ”¹ä¸ºä½ éœ€è¦çš„XAUTHè®¤è¯æ–¹å¼çš„å¯†ç ,è¯¥è®¤è¯æ–¹å¼çš„ç”¨æˆ·åæ˜¯éšæ„çš„; å°†ä¸Šé¢çš„[ç”¨æˆ·å]æ”¹ä¸ºè‡ªå·±æƒ³è¦çš„ç™»å½•å,[å¯†ç ]æ”¹ä¸ºè‡ªå·±æƒ³è¦çš„å¯†ç ([]ç¬¦å·å»æ‰),å¯ä»¥æ·»åŠ å¤šè¡Œ,å¾—åˆ°å¤šä¸ªç”¨æˆ·,è¿™å³æ˜¯ä½¿ç”¨IKEv2çš„ç”¨æˆ·å+å¯†ç è®¤è¯æ–¹å¼çš„ç™»å½•å‡­æ®.\né…ç½®é˜²ç«å¢™  ç¼–è¾‘/etc/sysctl.confï¼Œå°†net.ipv4.ip_forward=1ä¸€è¡Œå‰é¢çš„#å·å»æ‰(å¦åˆ™Ikev2 vpnè¿æ¥ä¸Šåå°†æ— æ³•è®¿é—®å¤–ç½‘)ï¼Œä¿å­˜åæ‰§è¡Œsysctl -p(å¦‚æœæ‰§è¡Œåæœ‰æŠ¥é”™çš„,é‡æ–°æ‰“å¼€sysctl.confå°†æŠ¥é”™çš„éƒ¨åˆ†#æ³¨é‡Šæ‰ä¿å­˜,ç›´åˆ°æ‰§è¡Œsysctl -pä¸å†æŠ¥é”™ä¸ºæ­¢)ã€‚æ­¤å¤–,å¦‚æœéœ€è¦å¯¹TCPè¿æ¥åŠé€Ÿåº¦è¿›è¡Œè¿›ä¸€æ­¥ä¼˜åŒ–,å¯ä»¥å‚è§åŸä½œè€…çš„å¦ä¸€ç¯‡æ–‡ç« ã€Šå„å¹³å°vpså¿«é€Ÿæ­å»ºshadowsocksåŠä¼˜åŒ–æ€»ç»“ã€‹ä¸­çš„TCPéƒ¨åˆ†(æ³¨æ„ä¸è¦æŠŠç°æœ‰vpné…ç½®çš„ip_forwardç»™è¦†ç›–äº†). é…ç½®iptables:   OpenVZæ‰§è¡Œï¼š  iptables -A FORWARD -m state --state RELATED,ESTABLISHED -j ACCEPT iptables -A FORWARD -s 10.31.0.0/24 -j ACCEPT iptables -A FORWARD -s 10.31.1.0/24 -j ACCEPT iptables -A FORWARD -s 10.31.2.0/24 -j ACCEPT iptables -A INPUT -i venet0 -p esp -j ACCEPT iptables -A INPUT -i venet0 -p udp --dport 500 -j ACCEPT iptables -A INPUT -i venet0 -p tcp --dport 500 -j ACCEPT iptables -A INPUT -i venet0 -p udp --dport 4500 -j ACCEPT iptables -A INPUT -i venet0 -p udp --dport 1701 -j ACCEPT iptables -A INPUT -i venet0 -p tcp --dport 1723 -j ACCEPT iptables -A FORWARD -j REJECT iptables -t nat -A POSTROUTING -s 10.31.0.0/24 -o venet0 -j MASQUERADE iptables -t nat -A POSTROUTING -s 10.31.1.0/24 -o venet0 -j MASQUERADE iptables -t nat -A POSTROUTING -s 10.31.2.0/24 -o venet0 -j MASQUERADE  Xenã€KVMåˆ™æ‰§è¡Œ:  iptables -A FORWARD -m state --state RELATED,ESTABLISHED -j ACCEPT iptables -A FORWARD -s 10.31.0.0/24 -j ACCEPT iptables -A FORWARD -s 10.31.1.0/24 -j ACCEPT iptables -A FORWARD -s 10.31.2.0/24 -j ACCEPT iptables -A INPUT -i eth0 -p esp -j ACCEPT iptables -A INPUT -i eth0 -p udp --dport 500 -j ACCEPT iptables -A INPUT -i eth0 -p tcp --dport 500 -j ACCEPT iptables -A INPUT -i eth0 -p udp --dport 4500 -j ACCEPT iptables -A INPUT -i eth0 -p udp --dport 1701 -j ACCEPT iptables -A INPUT -i eth0 -p tcp --dport 1723 -j ACCEPT iptables -A FORWARD -j REJECT iptables -t nat -A POSTROUTING -s 10.31.0.0/24 -o eth0 -j MASQUERADE iptables -t nat -A POSTROUTING -s 10.31.1.0/24 -o eth0 -j MASQUERADE iptables -t nat -A POSTROUTING -s 10.31.2.0/24 -o eth0 -j MASQUERADE å¼€æœºè‡ªåŠ¨è½½å…¥iptables: - Ubuntu: iptables-save \u0026gt; /etc/iptables.rules cat \u0026gt; /etc/network/if-up.d/iptables\u0026lt;\u0026lt;EOF #!/bin/sh iptables-restore \u0026lt; /etc/iptables.rules EOF chmod +x /etc/network/if-up.d/iptables - CentOS: service iptables save  è‡³æ­¤,IPSec/IKEv2 VPNä¾¿æ­å»ºå¥½äº†!ç°åœ¨å¯ç”¨æœåŠ¡å°±å¯ä»¥ä½¿ç”¨äº†:ipsec start\nå“ã€‚ã€‚ã€‚æœåŠ¡å¯åŠ¨æˆåŠŸäº†çš„ï¼Œä½†æ˜¯è¿æ¥ä¸ä¸Šå®ƒå•Šã€‚ã€‚ã€‚ å›å¤´å†æ•´ã€‚\n","permalink":"https://wedojava.github.io/posts/%E5%9C%A8ubuntu%E5%92%8Ccentos%E9%87%8C%E7%94%A8ipsec-ikev2%E6%90%AD%E5%BB%BAvpn%E6%9C%8D%E5%8A%A1%E5%99%A8/","tags":["Ubuntu"," CentOS"," IPSec"," VPN"," ç¿»å¢™"],"title":"åœ¨Ubuntuå’ŒCentOSé‡Œç”¨IPSec/IKEV2æ­å»ºVPNæœåŠ¡å™¨"},{"categories":["NodeJS"],"contents":"ä»Šå¤©è¯•ç€åœ¨ CentOS-7.1è™šæ‹Ÿæœºä¸Šå®‰è£… nodejs çš„ç¯å¢ƒï¼Œå®‰è£…è¿™ä¸ªç¯å¢ƒå½“ç„¶æ˜¯ä¸ºäº†èƒ½è¿è¡Œ Ghost åšå®¢ç¨‹åºäº†ï¼Œä¸ºä»€ä¹ˆè¦åœ¨è™šæ‹Ÿæœºä¸Šå®‰è£…ï¼Ÿé‚£æ˜¯å› ä¸ºæˆ‘æ‰“ç®—æåˆ°æˆ‘è‡ªå·±çš„å±€åŸŸç½‘æœåŠ¡å™¨ç¯å¢ƒé‡Œå»ã€‚ä¸‹é¢å¼€å§‹ï¼\nå®‰è£… Nginx Nginx ä¸»è¦ç”¨äºåå‘ä»£ç†ï¼Œåé¢è¯´æ˜ã€‚\nå…ˆå®‰è£…ä¸‹å¿…å¤‡çš„ vim å’Œ wgetï¼š\nyum install -y vim wget  æ·»åŠ Nginxçš„ä»“å‚¨åœ°å€ã€‚è¾“å…¥ï¼š\nvim /etc/yum.repos.d/nginx.repo  æ¥ç€æŒ‰é”®ç›˜ä¸Šçš„ â€œiâ€ ä¾¿äºç”¨vimç¼–è¾‘å†…å®¹ï¼ŒæŠŠä¸‹é¢çš„å†…å®¹ç²˜è´´è¿›å»ã€‚\n[nginx] name=nginx repo baseurl=http://nginx.org/packages/centos/$releasever/$basearch/ gpgcheck=0 enabled=1  ç¼–è¾‘å®Œæˆï¼ŒæŒ‰ä¸‹ Escï¼Œè¾“å…¥ :wq! å›è½¦é€€å‡ºã€‚ ç°åœ¨ï¼Œç”¨ yum è‡ªåŠ¨ä¸‹è½½å®‰è£…ã€‚\nå¦‚æœä½ æ˜¯ CentOS 7 ä»¥ä¸Šç‰ˆæœ¬ï¼š\nsudo yum install nginx -y sudo systemctl start nginx sudo systemctl enable nginx  å¦‚æœä½ æ˜¯ CentOS 7 ä»¥ä¸‹ç‰ˆæœ¬ï¼š\nsudo yum install nginx -y sudo service nginx start sudo chkconfig nginx on  æœ€åä¸€è¡Œæ˜¯è®¾ç½®ä¸ºå¼€æœºå¯åŠ¨ã€‚\nå®‰è£… Nodejs ç¯å¢ƒ ä¸€å°å´­æ–°çš„è™šæ‹Ÿæœºï¼Œä»€ä¹ˆéƒ½æ²¡è£…å¾ˆå¹²å‡€ï¼Œå®‰å…¨æ–¹é¢çš„å†…å®¹åœ¨æˆ‘å…¶ä»–åšå®¢ä¸Šæœ‰è¯´æ˜ï¼Œè¿™é‡Œå‡è®¾å®‰å…¨è®¾ç½®éƒ½å·²ç»å®Œæ¯•ï¼Œç¼–è¯‘ç¯å¢ƒè¿˜éœ€è¦ä¸€äº›å®‰è£…ï¼Œè‡³å°‘è®©./configureï¼Œmakeï¼Œsudo make installå‘½ä»¤èƒ½æ­£ç¡®æ‰§è¡Œã€‚\nç¼–è¯‘ç¯å¢ƒ  æ³¨æ„ï¼Œå¦‚æœä½ ç”¨çš„ nvm æ¥å®‰è£…ï¼Œé‚£ä¹ˆå¯ä»¥ç›´æ¥è·³è¿‡è¿™ä¸€æ­¥ï¼Œä½†æ˜¯è¿˜æ˜¯æ¨èä½ å®Œæˆè¿™ä¸€æ­¥ï¼Œè¿™åœ¨ä½ æœªæ¥ç¼–è¯‘å®‰è£…ä»»ä½•å…¶ä»–è½¯ä»¶ä¹Ÿæ˜¯æœ‰å¸®åŠ©çš„ã€‚\n åŸºç¡€ç¯å¢ƒ è¿è¡Œï¼š\nyum update -y \u0026amp;\u0026amp; yum install -y ncurses-devel make gcc bc  å¦‚æœ sodu ä¸è¡Œå°±å¹²è„†ç™»å½• root è´¦å·å®‰è£…å¥½äº†ã€‚\nè¿è¡Œï¼š\nyum groupinstall 'Development Tools'  The Development Tools package includes the core development tools like automake, gcc, perl, python, flex, make, gdb, bison, and many more. Update: For Fedora 20 (at least), you\u0026rsquo;ll additionally need to install gcc-c++.\nå®‰è£… nodejs æ–¹æ³•ä¸€ï¼šæºç ç¼–è¯‘æˆ–é€šè¿‡åŒ…ç®¡ç†å®‰è£… åŒ…ç®¡ç†å®‰è£…ä¼˜ç‚¹åœ¨äºå‚»ç“œäº›ï¼Œå¯ä»¥å‚è€ƒè¿™ç¯‡æ–‡æ¡£ï¼ˆéœ€ç¿»å¢™ï¼‰ï¼Œä»¥ centos ä¸ºä¾‹ï¼Œéœ€è¦è¿è¡Œè¿™ä¸ªï¼š\ncurl --silent --location https://rpm.nodesource.com/setup | bash -  å†è¿è¡Œï¼š\nyum -y install nodejs  ç¼ºç‚¹åœ¨äºç›®å‰åªèƒ½å®‰è£… v0.10 çš„ç‰ˆæœ¬ï¼Œå¦‚æœä½ è¦å®‰è£…æŒ‡å®šç‰ˆæœ¬ï¼Œè¯·å»å®˜æ–¹ä¸‹è½½ç›¸åº”çš„ tar.gz æºç åŒ…ï¼Œç„¶åç¼–è¯‘å®‰è£…ï¼Œç¼–è¯‘æ–¹æ³•ï¼š\ntar zxvf ***nodejs****.tar.gz  è§£å‹ï¼Œç„¶åè¿›å…¥è§£å‹çš„ç›®å½•ï¼Œè¿è¡Œï¼š./configure=\u0026gt;make=\u0026gt;sudo make installï¼Œé‡åˆ°æƒé™é—®é¢˜è¯•è¯• root ç”¨æˆ·å®‰è£…ã€‚\næ–¹æ³•äºŒï¼šé€šè¿‡ nvm å®‰è£…æŒ‡å®šç‰ˆæœ¬ è¿™é‡Œå…ˆæ¨èä¸‹ Github ä¸Šçš„ä¸€ä»½ä¸é”™çš„æ•™ç¨‹ï¼šhttps://github.com/alsotang/node-lessons\nå…ˆå®‰è£… nvmï¼š $ curl -o- https://raw.githubusercontent.com/creationix/nvm/v0.25.2/install.sh | bash nvm çš„å…¨ç§°æ˜¯ Node Version Managerï¼Œä¹‹æ‰€ä»¥éœ€è¦è¿™ä¸ªå·¥å…·ï¼Œæ˜¯å› ä¸º Node.js çš„å„ç§ç‰¹æ€§éƒ½æ²¡æœ‰ç¨³å®šä¸‹æ¥ï¼Œæ‰€ä»¥æˆ‘ä»¬ç»å¸¸ç”±äºè€é¡¹ç›®æˆ–å°æ–°çš„åŸå› ï¼Œéœ€è¦åˆ‡æ¢å„ç§ç‰ˆæœ¬ã€‚ å®‰è£…å®Œæˆåï¼Œä½ çš„ shell é‡Œé¢åº”è¯¥å°±æœ‰ä¸ª nvm å‘½ä»¤äº†ï¼Œè°ƒç”¨å®ƒè¯•è¯•ï¼š\n$ nvm  å½“çœ‹åˆ°æœ‰è¾“å‡ºæ—¶ï¼Œåˆ™ nvm å®‰è£…æˆåŠŸã€‚æ³¨æ„ï¼Œå®‰è£…å®Œè¯·é‡æ–°å¯åŠ¨ç»ˆç«¯ï¼Œå¦åˆ™å‘½ä»¤æ— æ•ˆã€‚\nå®‰è£… Node.js ä½¿ç”¨ nvm çš„å‘½ä»¤å®‰è£… Node.js æœ€æ–°ç¨³å®šç‰ˆï¼Œç°åœ¨æ˜¯ v0.12.7ï¼ˆç›®å‰æœ€æ–°ï¼‰\n$ nvm install 0.12  å…³äºè¿™éƒ¨åˆ†çš„æ›´å¤šå†…å®¹è¯·å‚è€ƒï¼š https://github.com/alsotang/node-lessons/tree/master/lesson0\nå®‰è£… Ghost åšå®¢ç³»ç»Ÿ å‡†å¤‡å·¥ä½œ å®‰è£… nodejs åï¼Œé€šè¿‡ nvm å‘½ä»¤å‘ç° iojs ç‰ˆæœ¬æ˜¯ç©ºï¼Œæ‰€ä»¥å®‰è£…ä¸‹ Ghost æ¨èçš„ç‰ˆæœ¬ï¼š\nnvm install io.js v1.2  ç¡®ä¿åœ¨ç”¨çš„ nodejs æ˜¯0.12ç‰ˆæœ¬ï¼šnvm lsï¼Œå¦‚æœä¸æ˜¯å°±è¿è¡Œnvm use v0.12ã€‚\nå®‰è£… Ghost å»å®˜æ–¹ç½‘ç«™ä¸‹è½½æœ€æ–°çš„åŒ…ï¼š\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip  è§£å‹åˆ° ghost ç›®å½•ä¸‹ï¼š\nunzip -d ghost ghost-0.7.1.zip  åˆ° ghost ç›®å½•ä¸‹ï¼Œè¿è¡Œï¼š\nnpm install --production  å¦‚æœä½ æ²¡æœ‰ VPN ä¹Ÿè®¸ä¼šé‡åˆ°å› ä¸ºç½‘ç»œä¸ç»™åŠ›è€Œå¯¼è‡´çš„å®‰è£…é—®é¢˜ï¼Œé‚£ä¹ˆå¯ä»¥å» ghost ä¸­å›½å»ä¸‹è½½ full åŒ…\nä»¥ç”Ÿäº§æ¨¡å¼è¿è¡Œ Ghost è¦éƒ¨ç½²ï¼Œæˆ‘ä»¬ä¸èƒ½è®©å…¶è¿è¡Œåœ¨å¼€å‘æ¨¡å¼ã€‚éœ€è¦è®©å…¶è¿è¡Œåœ¨ç”Ÿäº§æ¨¡å¼ï¼Œä¸”å½“å…¶è¿è¡Œè¿›ç¨‹é€€å‡ºæ—¶è‡ªåŠ¨é‡å¯ã€‚å› æ­¤æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¼ºå¤§çš„è¿›ç¨‹å®ˆæŠ¤ç¨‹åºâ€œpm2â€è¾¾åˆ°æ­¤ç›®çš„ã€‚ï¼ˆä¹Ÿå¯ä»¥ä½¿ç”¨Foreverï¼‰\nè¿›å…¥åˆ°åˆšæ‰çš„Ghostå®‰è£…ç›®å½•ï¼Œæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤å®‰è£…PM2ï¼š\nsudo npm install pm2 -g  æˆ‘ä»¬è¦è®¾ç½®ç¯å¢ƒå˜é‡ä¸ºâ€œproductionâ€ç”Ÿäº§æ¨¡å¼ï¼â€œindex.jsâ€æ˜¯ç¨‹åºå¯åŠ¨çš„å…¥å£ã€‚æœ€åç»™è¿™ä¸ªpm2çš„è¿›ç¨‹å‘½åä¸º\u0026quot;ghost\u0026rdquo; äºæ˜¯ï¼Œæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ï¼š\nNODE_ENV=production pm2 start index.js --name \u0026quot;ghost\u0026quot;  è®©PM2çŸ¥é“åœ¨å¼€æœºåè‡ªåŠ¨è¿è¡Œæˆ‘ä»¬çš„ç½‘ç«™ï¼š\npm2 startup centos pm2 save  æç¤º: pm2 kill ghost ï¼ˆæ¸…é™¤æ‰€æœ‰ghostè¿›ç¨‹ï¼‰\npm2 \u0026lt;start|stop|restart\u0026gt; ghost ï¼ˆå¯åŠ¨|åœæ­¢|é‡å¯ghostè¿›ç¨‹ï¼‰ pm2 startup \u0026lt;centos|ubuntu|amazon\u0026gt; ï¼ˆè®©pm2èƒ½å¤Ÿåœ¨è¿™3ä¸ªç³»ç»Ÿä¸Šè‡ªåŠ¨å¯åŠ¨ï¼‰  è‡³æ­¤ï¼Œpm2 å·²ç»å¯ä»¥å®ˆæŠ¤ Ghost åšå®¢æ°¸è¿œåœ¨çº¿ã€‚\né…ç½® Nginx çš„åå‘ä»£ç† æ–°å»ºä¸€ä¸ª Nginx ä»£ç†é…ç½®æ–‡ä»¶,å¹¶å°†ä»£ç†æŒ‡å‘åˆ°æœ¬åœ°çš„Ghostç«¯å£:\nsudo vim /etc/nginx/conf.d/ghost.conf  å…ˆæŒ‰ä¸‹ i é”®ï¼Œå†å°†å¦‚ä¸‹å†…å®¹æ‹·è´åˆ°åˆ°æ–°æ–‡ä»¶ä¸­ã€‚æ³¨æ„å°† My-Domain-Name.com æ”¹æˆä½ è¦è®¾ç½®çš„ç½‘å€ã€‚åœ¨ç¼–è¾‘å®Œæˆåï¼ŒæŒ‰ä¸‹ Escï¼Œè¾“å…¥ :wq! å›è½¦é€€å‡ºã€‚\nserver { listen 80; server_name My-Ghost-Blog.com; location / { proxy_set_header X-Real-IP $remote_addr; proxy_set_header Host $http_host; proxy_pass http://127.0.0.1:2368; } }  é‡æ–°å¯åŠ¨ Nginx æœåŠ¡å™¨,è®©è®¾ç½®ç”Ÿæ•ˆã€‚ï¼ˆè¿™é‡Œé’ˆå¯¹ CentOS 7 ä½¿ç”¨ sudo /bin/systemctl restart nginx.serviceï¼‰\nsudo service nginx restart  PS: å…³é”®çš„å·¥ä½œéƒ½å·²åšå®Œäº†ï¼ ä½ çš„åšå®¢ç¨‹åºèƒ½å¤Ÿè·Ÿéšæ“ä½œç³»ç»Ÿè‡ªåŠ¨è¿è¡Œäº†ã€‚\nä½†æ˜¯åˆ«å¿˜äº†ä¿®æ”¹æœåŠ¡å™¨æ—¶åŒºå“¦ã€‚é”™è¯¯çš„ç³»ç»Ÿæ—¶é—´ä¼šå¯¼è‡´åšå®¢ç¨‹åºæ˜¾ç¤ºé”™è¯¯çš„æ–‡ç« å‘å¸ƒæ—¥æœŸã€‚\nsudo yum install -y ntp sudo cp /usr/share/zoneinfo/Asia/Shanghai /etc/localtime  Enjoy!\n","permalink":"https://wedojava.github.io/posts/mynodejsandghostinstalloncentos7-1-md/","tags":["nodejs"," ghost"," blog"," install"],"title":"My Nodejs And Ghost Install On CentOS7.1"},{"categories":["Tickets"],"contents":"æ­¤ä¹ƒç¥å™¨ä¹Ÿ,ç„¶,æ·±åº¦ä½¿ç”¨å°šéœ€å­¦ä¹ ,æ–‡åˆ†ä¸¤æ®µ:å…¨ç«™ä¸‹è½½å’Œå¸¸ç”¨å‚æ•°è¯´æ˜\næ•´ç«™ä¸‹è½½(å…¨ç«™ä¸‹è½½) wget -r -p -np -k http://xxx.com/abc/   -r, \u0026ndash;recursiveï¼ˆé€’å½’ï¼‰ specify recursive download.ï¼ˆæŒ‡å®šé€’å½’ä¸‹è½½ï¼‰ -k, \u0026ndash;convert-linksï¼ˆè½¬æ¢é“¾æ¥ï¼‰ make links in downloaded HTML point to local files.ï¼ˆå°†ä¸‹è½½çš„HTMLé¡µé¢ä¸­çš„é“¾æ¥è½¬æ¢ä¸ºç›¸å¯¹é“¾æ¥å³æœ¬åœ°é“¾æ¥ï¼‰ -p, \u0026ndash;page-requisitesï¼ˆé¡µé¢å¿…éœ€å…ƒç´ ï¼‰ get all images, etc. needed to display HTML page.ï¼ˆä¸‹è½½æ‰€æœ‰çš„å›¾ç‰‡ç­‰é¡µé¢æ˜¾ç¤ºæ‰€éœ€çš„å†…å®¹ï¼‰ -np, \u0026ndash;no-parentï¼ˆä¸è¿½æº¯è‡³çˆ¶çº§ï¼‰ don\u0026rsquo;t ascend to the parent directory.  å¦å¤–æ–­ç‚¹ç»­ä¼ ç”¨-ncå‚æ•° æ—¥å¿— ç”¨-oå‚æ•°\nç†Ÿç»ƒæŒæ¡wgetå‘½ä»¤ï¼Œå¯ä»¥å¸®åŠ©ä½ æ–¹ä¾¿çš„ä½¿ç”¨linuxã€‚\nwgetä¸­æ–‡è¯¦ç»†ä½¿ç”¨è¯´æ˜ 1ï¼‰æ”¯æŒæ–­ç‚¹ä¸‹ä¼ åŠŸèƒ½ï¼ˆ2ï¼‰åŒæ—¶æ”¯æŒFTPå’ŒHTTPä¸‹è½½æ–¹å¼ï¼ˆ3ï¼‰æ”¯æŒä»£ç†æœåŠ¡å™¨ï¼ˆ4ï¼‰è®¾ç½®æ–¹ä¾¿ç®€å•ï¼›5ï¼‰ç¨‹åºå°ï¼Œå®Œå…¨å…è´¹ï¼›\nå‘½ä»¤æ ¼å¼ï¼š\nã€€wget [å‚æ•°åˆ—è¡¨] [ç›®æ ‡è½¯ä»¶ã€ç½‘é¡µçš„ç½‘å€]\n1ã€å¯åŠ¨ç±»å‚æ•°\nã€€è¿™ä¸€ç±»å‚æ•°ä¸»è¦æä¾›è½¯ä»¶çš„ä¸€äº›åŸºæœ¬ä¿¡æ¯ï¼›\nã€€-V,\u0026ndash;version æ˜¾ç¤ºè½¯ä»¶ç‰ˆæœ¬å·ç„¶åé€€å‡ºï¼› -h,\u0026ndash;helpæ˜¾ç¤ºè½¯ä»¶å¸®åŠ©ä¿¡æ¯ï¼› -e,\u0026ndash;execute=COMMAND æ‰§è¡Œä¸€ä¸ª â€œ.wgetrcâ€å‘½ä»¤\nã€€ä»¥ä¸Šæ¯ä¸€ä¸ªåŠŸèƒ½æœ‰é•¿çŸ­ä¸¤ä¸ªå‚æ•°ï¼Œé•¿çŸ­åŠŸèƒ½ä¸€æ ·ï¼Œéƒ½å¯ä»¥ä½¿ç”¨ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™é‡Œçš„-eå‚æ•°æ˜¯æ‰§è¡Œä¸€ä¸ª.wgettrcçš„å‘½ä»¤ï¼Œ.wgettrcå‘½ä»¤å…¶å®æ˜¯ä¸€ä¸ªå‚æ•°åˆ—è¡¨ï¼Œç›´æ¥å°†è½¯ä»¶éœ€è¦çš„å‚æ•°å†™åœ¨ä¸€èµ·å°±å¯ä»¥äº†ã€‚\nã€€2ã€æ–‡ä»¶å¤„ç†å‚æ•°\nã€€è¿™ç±»å‚æ•°å®šä¹‰è½¯ä»¶logæ–‡ä»¶çš„è¾“å‡ºæ–¹å¼ç­‰ï¼›\nã€€-o,\u0026ndash;output-file=FILE å°†è½¯ä»¶è¾“å‡ºä¿¡æ¯ä¿å­˜åˆ°æ–‡ä»¶ï¼› -a,\u0026ndash;append-output=FILEå°†è½¯ä»¶è¾“å‡ºä¿¡æ¯è¿½åŠ åˆ°æ–‡ä»¶ï¼› -d,\u0026ndash;debugæ˜¾ç¤ºè¾“å‡ºä¿¡æ¯ï¼› -q,\u0026ndash;quiet ä¸æ˜¾ç¤ºè¾“å‡ºä¿¡æ¯ï¼› -i,\u0026ndash;input-file=FILE ä»æ–‡ä»¶ä¸­å–å¾—URLï¼›\nã€€ä»¥ä¸Šå‚æ•°å¯¹äºæ”»å‡»è€…æ¯”è¾ƒæœ‰ç”¨ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹å…·ä½“ä½¿ç”¨ï¼›\nä¾‹1ï¼šä¸‹è½½192.168.1.168é¦–é¡µå¹¶ä¸”æ˜¾ç¤ºä¸‹è½½ä¿¡æ¯ wget -d http://192.168.1.168\nä¾‹2ï¼šä¸‹è½½192.168.1.168é¦–é¡µå¹¶ä¸”ä¸æ˜¾ç¤ºä»»ä½•ä¿¡æ¯ wget -q http://192.168.1.168\nä¾‹3ï¼šä¸‹è½½filelist.txtä¸­æ‰€åŒ…å«çš„é“¾æ¥çš„æ‰€æœ‰æ–‡ä»¶ wget -i filelist.txt\nwget -np -m -l5 http://jpstone.bokee.com //ä¸ä¸‹è½½æœ¬ç«™æ‰€é“¾æ¥çš„å…¶å®ƒç«™ç‚¹å†…å®¹ï¼Œ5çº§ç›®å½•ç»“æ„ 3ã€ä¸‹è½½å‚æ•°\nã€€ä¸‹è½½å‚æ•°å®šä¹‰ä¸‹è½½é‡å¤æ¬¡æ•°ã€ä¿å­˜æ–‡ä»¶åç­‰ï¼›\nã€€-t,\u0026ndash;tries=NUMBER æ˜¯å¦ä¸‹è½½æ¬¡æ•°ï¼ˆ0è¡¨ç¤ºæ— ç©·æ¬¡ï¼‰ -O \u0026ndash;output-document=FILEä¸‹è½½æ–‡ä»¶ä¿å­˜ä¸ºåˆ«çš„æ–‡ä»¶å -nc, \u0026ndash;no-clobber ä¸è¦è¦†ç›–å·²ç»å­˜åœ¨çš„æ–‡ä»¶ -N,\u0026ndash;timestampingåªä¸‹è½½æ¯”æœ¬åœ°æ–°çš„æ–‡ä»¶ -T,\u0026ndash;timeout=SECONDS è®¾ç½®è¶…æ—¶æ—¶é—´ -Y,\u0026ndash;proxy=on/off å…³é—­ä»£ç†\nä¾‹ï¼šä¸‹è½½192.168.1.168çš„é¦–é¡µå¹¶å°†ä¸‹è½½è¿‡ç¨‹ä¸­çš„çš„è¾“å…¥ä¿¡æ¯ä¿å­˜åˆ°test.htmæ–‡ä»¶ä¸­ wget -o test.htm http://192.168.1.168\n4ã€ç›®å½•å‚æ•°\nã€€ç›®å½•å‚æ•°ä¸»è¦è®¾ç½®ä¸‹è½½æ–‡ä»¶ä¿å­˜ç›®å½•ä¸åŸæ¥æ–‡ä»¶ï¼ˆæœåŠ¡å™¨æ–‡ä»¶ï¼‰çš„ç›®å½•å¯¹åº”å…³ç³»ï¼›\nã€€-nd \u0026ndash;no-directories ä¸å»ºç«‹ç›®å½• -x,\u0026ndash;force-directories å¼ºåˆ¶å»ºç«‹ç›®å½• å¯èƒ½ç°åœ¨æˆ‘ä»¬å¯¹è¿™é‡Œçš„ç›®å½•è¿˜ä¸æ˜¯å¾ˆäº†è§£ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªä¸¾ä¾‹\nä¾‹ï¼šä¸‹è½½192.168.1.168çš„é¦–é¡µï¼Œå¹¶ä¸”ä¿æŒç½‘ç«™ç»“æ„ wget -x http://192.168.1.168\nã€€5ã€HTTPå‚æ•°\nã€€HTTPå‚æ•°è®¾ç½®ä¸€äº›ä¸HTTPä¸‹è½½æœ‰å…³çš„å±æ€§ï¼›\nã€€\u0026ndash;http-user=USERè®¾ç½®HTTPç”¨æˆ· \u0026ndash;http-passwd=PASSè®¾ç½®HTTPå¯†ç  \u0026ndash;proxy-user=USERè®¾ç½®ä»£ç†ç”¨æˆ· \u0026ndash;proxy-passwd=PASSè®¾ç½®ä»£ç†å¯†ç \nã€€ä»¥ä¸Šå‚æ•°ä¸»è¦è®¾ç½®HTTPå’Œä»£ç†çš„ç”¨æˆ·ã€å¯†ç ï¼›\n6ã€é€’å½’å‚æ•°è®¾ç½®\nã€€åœ¨ä¸‹è½½ä¸€ä¸ªç½‘ç«™æˆ–è€…ç½‘ç«™çš„ä¸€ä¸ªç›®å½•çš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦çŸ¥é“çš„ä¸‹è½½çš„å±‚æ¬¡ï¼Œè¿™äº›å‚æ•°å°±å¯ä»¥è®¾ç½®ï¼› -r,\u0026ndash;recursive ä¸‹è½½æ•´ä¸ªç½‘ç«™ã€ç›®å½•ï¼ˆå°å¿ƒä½¿ç”¨ï¼‰ -l,\u0026ndash;level=NUMBER ä¸‹è½½å±‚æ¬¡\nä¾‹ï¼šä¸‹è½½æ•´ä¸ªç½‘ç«™ wget -r http://192.168.1.168\n7ã€é€’å½’å…è®¸ä¸æ‹’ç»é€‰é¡¹å‚æ•°\nã€€ä¸‹è½½ä¸€ä¸ªç½‘ç«™çš„æ—¶å€™ï¼Œä¸ºäº†å°½é‡å¿«ï¼Œæœ‰äº›æ–‡ä»¶å¯ä»¥é€‰æ‹©ä¸‹è½½ï¼Œæ¯”å¦‚å›¾ç‰‡å’Œå£°éŸ³ï¼Œåœ¨è¿™é‡Œå¯ä»¥è®¾ç½®ï¼›\nã€€-A,\u0026ndash;accept=LIST å¯ä»¥æ¥å—çš„æ–‡ä»¶ç±»å‹ -R,\u0026ndash;reject=LISTæ‹’ç»æ¥å—çš„æ–‡ä»¶ç±»å‹ -D,\u0026ndash;domains=LISTå¯ä»¥æ¥å—çš„åŸŸå \u0026ndash;exclude-domains=LISTæ‹’ç»çš„åŸŸå -L,\u0026ndash;relative ä¸‹è½½å…³è”é“¾æ¥ \u0026ndash;follow-ftp åªä¸‹è½½FTPé“¾æ¥ -H,\u0026ndash;span-hosts å¯ä»¥ä¸‹è½½å¤–é¢çš„ä¸»æœº -I,\u0026ndash;include-directories=LISTå…è®¸çš„ç›®å½• -X,\u0026ndash;exclude-directories=LIST æ‹’ç»çš„ç›®å½•\nå¦‚ä½•è®¾å®šwgetæ‰€ä½¿ç”¨çš„ä»£ç†æœåŠ¡å™¨ wgetå¯ä»¥ä½¿ç”¨ç”¨æˆ·è®¾ç½®æ–‡ä»¶\u0026rdquo;.wgetrc\u0026quot;æ¥è¯»å–å¾ˆå¤šè®¾ç½®ï¼Œæˆ‘ä»¬è¿™é‡Œä¸»è¦åˆ©ç”¨è¿™ä¸ªæ–‡ä»¶æ¥æ˜¯ è®¾ç½®ä»£ç†æœåŠ¡å™¨ã€‚ä½¿ç”¨è€…ç”¨ä»€ä¹ˆç”¨æˆ·ç™»å½•ï¼Œé‚£ä¹ˆä»€ä¹ˆç”¨æˆ·ä¸»ç›®å½•ä¸‹çš„\u0026rdquo;.wgetrc\u0026quot;æ–‡ä»¶å°±èµ· ä½œç”¨ã€‚ä¾‹å¦‚ï¼Œ\u0026ldquo;root\u0026quot;ç”¨æˆ·å¦‚æœæƒ³ä½¿ç”¨\u0026rdquo;.wgetrc\u0026quot;æ¥è®¾ç½®ä»£ç†æœåŠ¡å™¨ï¼Œ\u0026quot;/root/.wgetrc\u0026quot;å°±èµ· ä½œç”¨ï¼Œä¸‹é¢ç»™å‡ºä¸€ä¸ª\u0026rdquo;.wgetrc\u0026quot;æ–‡ä»¶çš„å†…å®¹ï¼Œè¯»è€…å¯ä»¥å‚ç…§è¿™ä¸ªä¾‹å­æ¥ç¼–å†™è‡ªå·±çš„\u0026quot;wgetrc\u0026quot;æ–‡ä»¶ï¼š http-proxy = 111.111.111.111:8080 ftp-proxy = 111.111.111.111:8080 è¿™ä¸¤è¡Œçš„å«ä¹‰æ˜¯ï¼Œä»£ç†æœåŠ¡å™¨IPåœ°å€ä¸ºï¼š111.111.111.111ï¼Œç«¯å£å·ä¸ºï¼š80ã€‚ç¬¬ä¸€è¡ŒæŒ‡å®š HTTPåè®®æ‰€ä½¿ç”¨çš„ä»£ç†æœåŠ¡å™¨ï¼Œç¬¬äºŒè¡ŒæŒ‡å®šFTPåè®®æ‰€ä½¿ç”¨çš„ä»£ç†æœåŠ¡å™¨ã€‚\nWGetä½¿ç”¨æŒ‡å— wgetæ˜¯ä¸€ä¸ªä»ç½‘ç»œä¸Šè‡ªåŠ¨ä¸‹è½½æ–‡ä»¶çš„è‡ªç”±å·¥å…·ã€‚å®ƒæ”¯æŒHTTPï¼ŒHTTPSå’ŒFTPåè®®ï¼Œå¯ä»¥ä½¿ç”¨HTTPä»£ç†.\næ‰€è°“çš„è‡ªåŠ¨ä¸‹è½½æ˜¯æŒ‡ï¼Œwgetå¯ä»¥åœ¨ç”¨æˆ·é€€å‡ºç³»ç»Ÿçš„ä¹‹ååœ¨åå°æ‰§è¡Œã€‚è¿™æ„å‘³è¿™ä½ å¯ä»¥ç™»å½•ç³»ç»Ÿï¼Œå¯åŠ¨ä¸€ä¸ªwgetä¸‹è½½ä»»åŠ¡ï¼Œç„¶åé€€å‡ºç³»ç»Ÿï¼Œwgetå°†åœ¨åå°æ‰§è¡Œç›´åˆ°ä»»åŠ¡å®Œæˆï¼Œç›¸å¯¹äºå…¶å®ƒå¤§éƒ¨åˆ†æµè§ˆå™¨åœ¨ä¸‹è½½å¤§é‡æ•°æ®æ—¶éœ€è¦ç”¨æˆ·ä¸€ç›´çš„å‚ä¸ï¼Œè¿™çœå»äº†æå¤§çš„éº»çƒ¦ã€‚\nwgetå¯ä»¥è·Ÿè¸ªHTMLé¡µé¢ä¸Šçš„é“¾æ¥ä¾æ¬¡ä¸‹è½½æ¥åˆ›å»ºè¿œç¨‹æœåŠ¡å™¨çš„æœ¬åœ°ç‰ˆæœ¬ï¼Œå®Œå…¨é‡å»ºåŸå§‹ç«™ç‚¹çš„ç›®å½•ç»“æ„ã€‚è¿™åˆå¸¸è¢«ç§°ä½œâ€é€’å½’ä¸‹è½½â€ã€‚åœ¨é€’å½’ä¸‹è½½çš„æ—¶å€™ï¼Œwgetéµå¾ªRobot Exclusionæ ‡å‡†(/robots.txt). wgetå¯ä»¥åœ¨ä¸‹è½½çš„åŒæ—¶ï¼Œå°†é“¾æ¥è½¬æ¢æˆæŒ‡å‘æœ¬åœ°æ–‡ä»¶ï¼Œä»¥æ–¹ä¾¿ç¦»çº¿æµè§ˆã€‚\nwgetéå¸¸ç¨³å®š,å®ƒåœ¨å¸¦å®½å¾ˆçª„çš„æƒ…å†µä¸‹å’Œä¸ç¨³å®šç½‘ç»œä¸­æœ‰å¾ˆå¼ºçš„é€‚åº”æ€§.å¦‚æœæ˜¯ç”±äºç½‘ç»œçš„åŸå› ä¸‹è½½å¤±è´¥ï¼Œwgetä¼šä¸æ–­çš„å°è¯•ï¼Œç›´åˆ°æ•´ä¸ªæ–‡ä»¶ä¸‹è½½å®Œ æ¯•ã€‚å¦‚æœæ˜¯æœåŠ¡å™¨æ‰“æ–­ä¸‹è½½è¿‡ç¨‹ï¼Œå®ƒä¼šå†æ¬¡è”åˆ°æœåŠ¡å™¨ä¸Šä»åœæ­¢çš„åœ°æ–¹ç»§ç»­ä¸‹è½½ã€‚è¿™å¯¹ä»é‚£äº›é™å®šäº†é“¾æ¥æ—¶é—´çš„æœåŠ¡å™¨ä¸Šä¸‹è½½å¤§æ–‡ä»¶éå¸¸æœ‰ç”¨ã€‚\nwgetçš„å¸¸è§ç”¨æ³• wgetçš„ä½¿ç”¨æ ¼å¼\nUsage: wget [OPTION]\u0026hellip; [URL]\u0026hellip;ç”¨wgetåšç«™ç‚¹é•œåƒ: wget -r -p -np -k http://dsec.pku.edu.cn/~us...\næˆ–è€… wget -m http://www.tldp.org/LDP/ab...åœ¨ä¸ç¨³å®šçš„ç½‘ç»œä¸Šä¸‹è½½ä¸€ä¸ªéƒ¨åˆ†ä¸‹è½½çš„æ–‡ä»¶ï¼Œä»¥åŠåœ¨ç©ºé—²æ—¶æ®µä¸‹è½½ wget -t 0 -w 31 -c http://dsec.pku.edu.cn/BBC... -o down.log \u0026amp;\næˆ–è€…ä»filelistè¯»å…¥è¦ä¸‹è½½çš„æ–‡ä»¶åˆ—è¡¨ wget -t 0 -w 31 -c -B ftp://dsec.pku.edu.cn/linu... -i filelist.txt -o down.log \u0026amp;ä¸Šé¢çš„ä»£ç è¿˜å¯ä»¥ç”¨æ¥åœ¨ç½‘ç»œæ¯”è¾ƒç©ºé—²çš„æ—¶æ®µè¿›è¡Œä¸‹è½½ã€‚æˆ‘çš„ç”¨æ³•æ˜¯:åœ¨mozillaä¸­å°†ä¸æ–¹ä¾¿å½“æ—¶ä¸‹è½½çš„URLé“¾æ¥æ‹·è´åˆ°å†…å­˜ä¸­ç„¶åç²˜è´´åˆ°æ–‡ä»¶filelist.txtä¸­ï¼Œåœ¨æ™šä¸Šè¦å‡ºå»ç³»ç»Ÿå‰æ‰§è¡Œä¸Šé¢ä»£ç çš„ç¬¬äºŒæ¡ã€‚\nä½¿ç”¨ä»£ç†ä¸‹è½½ wget -Y on -p -k https://sourceforge.net/pr...ä»£ç†å¯ä»¥åœ¨ç¯å¢ƒå˜é‡æˆ–wgetrcæ–‡ä»¶ä¸­è®¾å®š\nåœ¨ç¯å¢ƒå˜é‡ä¸­è®¾å®šä»£ç† export PROXY=http://211.90.168.94:8080/\nåœ¨~/.wgetrcä¸­è®¾å®šä»£ç† http_proxy = http://proxy.yoyodyne.com:\u0026hellip; ftp_proxy = http://proxy.yoyodyne.com:\u0026hellip;å„ç§é€‰é¡¹åˆ†ç±»åˆ—è¡¨ å¯åŠ¨ -V, \u0026ndash;version æ˜¾ç¤ºwgetçš„ç‰ˆæœ¬åé€€å‡º -h, \u0026ndash;help æ‰“å°è¯­æ³•å¸®åŠ© -b, \u0026ndash;background å¯åŠ¨åè½¬å…¥åå°æ‰§è¡Œ -e, \u0026ndash;execute=COMMAND æ‰§è¡Œ.wgetrc'æ ¼å¼çš„å‘½ä»¤ï¼Œwgetrcæ ¼å¼å‚è§/etc/wgetrcæˆ–~/.wgetrcè®°å½•å’Œè¾“å…¥æ–‡ä»¶ -o, --output-file=FILE æŠŠè®°å½•å†™åˆ°FILEæ–‡ä»¶ä¸­ -a, --append-output=FILE æŠŠè®°å½•è¿½åŠ åˆ°FILEæ–‡ä»¶ä¸­ -d, --debug æ‰“å°è°ƒè¯•è¾“å‡º -q, --quiet å®‰é™æ¨¡å¼(æ²¡æœ‰è¾“å‡º) -v, --verbose å†—é•¿æ¨¡å¼(è¿™æ˜¯ç¼ºçœè®¾ç½®) -nv, --non-verbose å…³æ‰å†—é•¿æ¨¡å¼ï¼Œä½†ä¸æ˜¯å®‰é™æ¨¡å¼ -i, --input-file=FILE ä¸‹è½½åœ¨FILEæ–‡ä»¶ä¸­å‡ºç°çš„URLs -F, --force-html æŠŠè¾“å…¥æ–‡ä»¶å½“ä½œHTMLæ ¼å¼æ–‡ä»¶å¯¹å¾… -B, --base=URL å°†URLä½œä¸ºåœ¨-F -iå‚æ•°æŒ‡å®šçš„æ–‡ä»¶ä¸­å‡ºç°çš„ç›¸å¯¹é“¾æ¥çš„å‰ç¼€ --sslcertfile=FILE å¯é€‰å®¢æˆ·ç«¯è¯ä¹¦ --sslcertkey=KEYFILE å¯é€‰å®¢æˆ·ç«¯è¯ä¹¦çš„KEYFILE --egd-file=FILE æŒ‡å®šEGD socketçš„æ–‡ä»¶åä¸‹è½½ --bind-address=ADDRESS æŒ‡å®šæœ¬åœ°ä½¿ç”¨åœ°å€(ä¸»æœºåæˆ–IPï¼Œå½“æœ¬åœ°æœ‰å¤šä¸ªIPæˆ–åå­—æ—¶ä½¿ç”¨) -t, --tries=NUMBER è®¾å®šæœ€å¤§å°è¯•é“¾æ¥æ¬¡æ•°(0 è¡¨ç¤ºæ— é™åˆ¶). -O --output-document=FILE æŠŠæ–‡æ¡£å†™åˆ°FILEæ–‡ä»¶ä¸­ -nc, --no-clobber ä¸è¦è¦†ç›–å­˜åœ¨çš„æ–‡ä»¶æˆ–ä½¿ç”¨.#å‰ç¼€ -c, --continue æ¥ç€ä¸‹è½½æ²¡ä¸‹è½½å®Œçš„æ–‡ä»¶ --progress=TYPE è®¾å®šè¿›ç¨‹æ¡æ ‡è®° -N, --timestamping ä¸è¦é‡æ–°ä¸‹è½½æ–‡ä»¶é™¤éæ¯”æœ¬åœ°æ–‡ä»¶æ–° -S, --server-response æ‰“å°æœåŠ¡å™¨çš„å›åº” --spider ä¸ä¸‹è½½ä»»ä½•ä¸œè¥¿ -T, --timeout=SECONDS è®¾å®šå“åº”è¶…æ—¶çš„ç§’æ•° -w, --wait=SECONDS ä¸¤æ¬¡å°è¯•ä¹‹é—´é—´éš”SECONDSç§’ --waitretry=SECONDS åœ¨é‡æ–°é“¾æ¥ä¹‹é—´ç­‰å¾…1...SECONDSç§’ --random-wait åœ¨ä¸‹è½½ä¹‹é—´ç­‰å¾…0...2*WAITç§’ -Y, --proxy=on/off æ‰“å¼€æˆ–å…³é—­ä»£ç† -Q, --quota=NUMBER è®¾ç½®ä¸‹è½½çš„å®¹é‡é™åˆ¶ --limit-rate=RATE é™å®šä¸‹è½½è¾“ç‡ç›®å½• -nd --no-directories ä¸åˆ›å»ºç›®å½• -x, --force-directories å¼ºåˆ¶åˆ›å»ºç›®å½• -nH, --no-host-directories ä¸åˆ›å»ºä¸»æœºç›®å½• -P, --directory-prefix=PREFIX å°†æ–‡ä»¶ä¿å­˜åˆ°ç›®å½• PREFIX/... --cut-dirs=NUMBER å¿½ç•¥ NUMBERå±‚è¿œç¨‹ç›®å½•HTTP é€‰é¡¹ --http-user=USER è®¾å®šHTTPç”¨æˆ·åä¸º USER. --http-passwd=PASS è®¾å®šhttpå¯†ç ä¸º PASS. -C, --cache=on/off å…è®¸/ä¸å…è®¸æœåŠ¡å™¨ç«¯çš„æ•°æ®ç¼“å­˜ (ä¸€èˆ¬æƒ…å†µä¸‹å…è®¸). -E, --html-extension å°†æ‰€æœ‰text/htmlæ–‡æ¡£ä»¥.htmlæ‰©å±•åä¿å­˜ --ignore-length å¿½ç•¥ Content-Length\u0026rsquo;å¤´åŸŸ \u0026ndash;header=STRING åœ¨headersä¸­æ’å…¥å­—ç¬¦ä¸² STRING \u0026ndash;proxy-user=USER è®¾å®šä»£ç†çš„ç”¨æˆ·åä¸º USER \u0026ndash;proxy-passwd=PASS è®¾å®šä»£ç†çš„å¯†ç ä¸º PASS \u0026ndash;referer=URL åœ¨HTTPè¯·æ±‚ä¸­åŒ…å« Referer: URL'å¤´ -s, --save-headers ä¿å­˜HTTPå¤´åˆ°æ–‡ä»¶ -U, --user-agent=AGENT è®¾å®šä»£ç†çš„åç§°ä¸º AGENTè€Œä¸æ˜¯ Wget/VERSION. --no-http-keep-alive å…³é—­ HTTPæ´»åŠ¨é“¾æ¥ (æ°¸è¿œé“¾æ¥). --cookies=off ä¸ä½¿ç”¨ cookies. --load-cookies=FILE åœ¨å¼€å§‹ä¼šè¯å‰ä»æ–‡ä»¶ FILEä¸­åŠ è½½cookie --save-cookies=FILE åœ¨ä¼šè¯ç»“æŸåå°† cookiesä¿å­˜åˆ° FILEæ–‡ä»¶ä¸­FTP é€‰é¡¹ -nr, --dont-remove-listing ä¸ç§»èµ° .listing\u0026rsquo;æ–‡ä»¶ -g, \u0026ndash;glob=on/off æ‰“å¼€æˆ–å…³é—­æ–‡ä»¶åçš„ globbingæœºåˆ¶ \u0026ndash;passive-ftp ä½¿ç”¨è¢«åŠ¨ä¼ è¾“æ¨¡å¼ (ç¼ºçœå€¼). \u0026ndash;active-ftp ä½¿ç”¨ä¸»åŠ¨ä¼ è¾“æ¨¡å¼ \u0026ndash;retr-symlinks åœ¨é€’å½’çš„æ—¶å€™ï¼Œå°†é“¾æ¥æŒ‡å‘æ–‡ä»¶(è€Œä¸æ˜¯ç›®å½•)é€’å½’ä¸‹è½½ -r, \u0026ndash;recursive é€’å½’ä¸‹è½½ï¼ï¼æ…ç”¨! -l, \u0026ndash;level=NUMBER æœ€å¤§é€’å½’æ·±åº¦ (inf æˆ– 0 ä»£è¡¨æ— ç©·). \u0026ndash;delete-after åœ¨ç°åœ¨å®Œæ¯•åå±€éƒ¨åˆ é™¤æ–‡ä»¶ -k, \u0026ndash;convert-links è½¬æ¢éç›¸å¯¹é“¾æ¥ä¸ºç›¸å¯¹é“¾æ¥ -K, \u0026ndash;backup-converted åœ¨è½¬æ¢æ–‡ä»¶Xä¹‹å‰ï¼Œå°†ä¹‹å¤‡ä»½ä¸º X.orig -m, \u0026ndash;mirror ç­‰ä»·äº -r -N -l inf -nr. -p, \u0026ndash;page-requisites ä¸‹è½½æ˜¾ç¤ºHTMLæ–‡ä»¶çš„æ‰€æœ‰å›¾ç‰‡é€’å½’ä¸‹è½½ä¸­çš„åŒ…å«å’Œä¸åŒ…å«(accept/reject) -A, \u0026ndash;accept=LIST åˆ†å·åˆ†éš”çš„è¢«æ¥å—æ‰©å±•åçš„åˆ—è¡¨ -R, \u0026ndash;reject=LIST åˆ†å·åˆ†éš”çš„ä¸è¢«æ¥å—çš„æ‰©å±•åçš„åˆ—è¡¨ -D, \u0026ndash;domains=LIST åˆ†å·åˆ†éš”çš„è¢«æ¥å—åŸŸçš„åˆ—è¡¨ \u0026ndash;exclude-domains=LIST åˆ†å·åˆ†éš”çš„ä¸è¢«æ¥å—çš„åŸŸçš„åˆ—è¡¨ \u0026ndash;follow-ftp è·Ÿè¸ªHTMLæ–‡æ¡£ä¸­çš„FTPé“¾æ¥ \u0026ndash;follow-tags=LIST åˆ†å·åˆ†éš”çš„è¢«è·Ÿè¸ªçš„HTMLæ ‡ç­¾çš„åˆ—è¡¨ -G, \u0026ndash;ignore-tags=LIST åˆ†å·åˆ†éš”çš„è¢«å¿½ç•¥çš„HTMLæ ‡ç­¾çš„åˆ—è¡¨ -H, \u0026ndash;span-hosts å½“é€’å½’æ—¶è½¬åˆ°å¤–éƒ¨ä¸»æœº -L, \u0026ndash;relative ä»…ä»…è·Ÿè¸ªç›¸å¯¹é“¾æ¥ -I, \u0026ndash;include-directories=LIST å…è®¸ç›®å½•çš„åˆ—è¡¨ -X, \u0026ndash;exclude-directories=LIST ä¸è¢«åŒ…å«ç›®å½•çš„åˆ—è¡¨ -np, \u0026ndash;no-parent ä¸è¦è¿½æº¯åˆ°çˆ¶ç›®å½•\nWgetä½¿ç”¨æŠ€å·§ wgetçš„ä½¿ç”¨å½¢å¼æ˜¯ï¼š wget [å‚æ•°åˆ—è¡¨] URL é¦–å…ˆæ¥ä»‹ç»ä¸€ä¸‹wgetçš„ä¸»è¦å‚æ•°ï¼š Â· -bï¼šè®©wgetåœ¨åå°è¿è¡Œï¼Œè®°å½•æ–‡ä»¶å†™åœ¨å½“å‰ç›®å½•ä¸‹\u0026quot;wget-log\u0026quot;æ–‡ä»¶ä¸­ï¼› Â· -t [nuber of times]ï¼šå°è¯•æ¬¡æ•°ï¼Œå½“wgetæ— æ³•ä¸æœåŠ¡å™¨å»ºç«‹è¿æ¥æ—¶ï¼Œå°è¯•è¿æ¥å¤šå°‘æ¬¡ ã€‚æ¯”å¦‚\u0026rdquo;-t 120\u0026quot;è¡¨ç¤ºå°è¯•120æ¬¡ã€‚å½“è¿™ä¸€é¡¹ä¸º\u0026quot;0\u0026quot;çš„æ—¶å€™ï¼ŒæŒ‡å®šå°è¯•æ— ç©·å¤šæ¬¡ç›´åˆ°è¿æ¥æˆåŠŸä¸ºæ­¢ï¼Œè¿™ä¸ª è®¾ç½®éå¸¸æœ‰ç”¨ï¼Œå½“å¯¹æ–¹æœåŠ¡å™¨çªç„¶å…³æœºæˆ–è€…ç½‘ç»œçªç„¶ä¸­æ–­çš„æ—¶å€™ï¼Œå¯ä»¥åœ¨æ¢å¤æ­£å¸¸åç»§ç»­ ä¸‹è½½æ²¡æœ‰ä¼ å®Œçš„æ–‡ä»¶ï¼› Â· -cï¼šæ–­ç‚¹ç»­ä¼ ï¼Œè¿™ä¹Ÿæ˜¯ä¸ªéå¸¸æœ‰ç”¨çš„è®¾ç½®ï¼Œç‰¹åˆ«å½“ä¸‹è½½æ¯”è¾ƒå¤§çš„æ–‡ä»¶çš„æ—¶å€™ï¼Œå¦‚æœä¸­ é€”æ„å¤–ä¸­æ–­ï¼Œé‚£ä¹ˆè¿æ¥æ¢å¤çš„æ—¶å€™ä¼šä»ä¸Šæ¬¡æ²¡ä¼ å®Œçš„åœ°æ–¹æ¥ç€ä¼ ï¼Œè€Œä¸æ˜¯åˆä»å¤´å¼€å§‹ï¼Œä½¿ ç”¨è¿™ä¸€é¡¹éœ€è¦è¿œç¨‹æœåŠ¡å™¨ä¹Ÿæ”¯æŒæ–­ç‚¹ç»­ä¼ ï¼Œä¸€èˆ¬æ¥è®²ï¼ŒåŸºäºUNIX/Linuxçš„Web/FTPæœåŠ¡å™¨ éƒ½æ”¯æŒæ–­ç‚¹ç»­ä¼ ï¼› Â· -T [number of seconds]ï¼šè¶…æ—¶æ—¶é—´ï¼ŒæŒ‡å®šå¤šé•¿æ—¶é—´è¿œç¨‹æœåŠ¡å™¨æ²¡æœ‰å“åº”å°±ä¸­æ–­è¿æ¥ ï¼Œå¼€å§‹ä¸‹ä¸€æ¬¡å°è¯•ã€‚æ¯”å¦‚\u0026rdquo;-T 120\u0026quot;è¡¨ç¤ºå¦‚æœ120ç§’ä»¥åè¿œç¨‹æœåŠ¡å™¨æ²¡æœ‰å‘è¿‡æ¥æ•°æ®ï¼Œå°±é‡æ–°å°è¯•è¿æ¥ã€‚å¦‚æœç½‘ç»œé€Ÿåº¦æ¯” è¾ƒå¿«ï¼Œè¿™ä¸ªæ—¶é—´å¯ä»¥è®¾ç½®çš„çŸ­äº›ï¼Œç›¸åï¼Œå¯ä»¥è®¾ç½®çš„é•¿ä¸€äº›ï¼Œä¸€èˆ¬æœ€å¤šä¸è¶…è¿‡900ï¼Œé€šå¸¸ ä¹Ÿä¸å°‘äº60ï¼Œä¸€èˆ¬è®¾ç½®åœ¨120å·¦å³æ¯”è¾ƒåˆé€‚ï¼› Â· -w [number of seconds]ï¼šåœ¨ä¸¤æ¬¡å°è¯•ä¹‹é—´ç­‰å¾…å¤šå°‘ç§’ï¼Œæ¯”å¦‚\u0026rdquo;-w 100\u0026quot;è¡¨ç¤ºä¸¤æ¬¡å°è¯• ä¹‹é—´ç­‰å¾…100ç§’ï¼› Â· -Y on/offï¼šé€šè¿‡ï¼ä¸é€šè¿‡ä»£ç†æœåŠ¡å™¨è¿›è¡Œè¿æ¥ï¼› Â· -Q [byetes]ï¼šé™åˆ¶ä¸‹è½½æ–‡ä»¶çš„æ€»å¤§å°æœ€å¤šä¸èƒ½è¶…è¿‡å¤šå°‘ï¼Œæ¯”å¦‚\u0026rdquo;-Q2k\u0026quot;è¡¨ç¤ºä¸èƒ½è¶…è¿‡2K å­—èŠ‚ï¼Œ\u0026quot;-Q3m\u0026quot;è¡¨ç¤ºæœ€å¤šä¸èƒ½è¶…è¿‡3Må­—èŠ‚ï¼Œå¦‚æœæ•°å­—åé¢ä»€ä¹ˆéƒ½ä¸åŠ ï¼Œå°±è¡¨ç¤ºæ˜¯ä»¥å­—èŠ‚ä¸ºå• ä½ï¼Œæ¯”å¦‚\u0026rdquo;-Q200\u0026quot;è¡¨ç¤ºæœ€å¤šä¸èƒ½è¶…è¿‡200å­—èŠ‚ï¼› Â· -ndï¼šä¸ä¸‹è½½ç›®å½•ç»“æ„ï¼ŒæŠŠä»æœåŠ¡å™¨æ‰€æœ‰æŒ‡å®šç›®å½•ä¸‹è½½çš„æ–‡ä»¶éƒ½å †åˆ°å½“å‰ç›®å½•é‡Œï¼› Â· -xï¼šä¸\u0026rdquo;-nd\u0026quot;è®¾ç½®åˆšå¥½ç›¸åï¼Œåˆ›å»ºå®Œæ•´çš„ç›®å½•ç»“æ„ï¼Œä¾‹å¦‚\u0026quot;wget -nd http://www.gnu.org\u0026quot;å°†åˆ›å»ºåœ¨å½“å‰ç›®å½•ä¸‹åˆ›å»º\u0026quot;www.gnu.org\u0026quot;å­ç›®å½•ï¼Œç„¶åæŒ‰ç…§æœåŠ¡å™¨ å®é™…çš„ç›®å½•ç»“æ„ä¸€çº§ä¸€çº§å»ºä¸‹å»ï¼Œç›´åˆ°æ‰€æœ‰çš„æ–‡ä»¶éƒ½ä¼ å®Œä¸ºæ­¢ï¼› Â· -nHï¼šä¸åˆ›å»ºä»¥ç›®æ ‡ä¸»æœºåŸŸåä¸ºç›®å½•åçš„ç›®å½•ï¼Œå°†ç›®æ ‡ä¸»æœºçš„ç›®å½•ç»“æ„ç›´æ¥ä¸‹åˆ°å½“å‰ç›® å½•ä¸‹ï¼› Â· \u0026ndash;http-user=username Â· \u0026ndash;http-passwd=passwordï¼šå¦‚æœWebæœåŠ¡å™¨éœ€è¦æŒ‡å®šç”¨æˆ·åå’Œå£ä»¤ï¼Œç”¨è¿™ä¸¤é¡¹æ¥è®¾å®šï¼› Â· \u0026ndash;proxy-user=username Â· \u0026ndash;proxy-passwd=passwordï¼šå¦‚æœä»£ç†æœåŠ¡å™¨éœ€è¦è¾“å…¥ç”¨æˆ·åå’Œå£ä»¤ï¼Œä½¿ç”¨è¿™ä¸¤ä¸ªé€‰é¡¹ ï¼› Â· -rï¼šåœ¨æœ¬æœºå»ºç«‹æœåŠ¡å™¨ç«¯ç›®å½•ç»“æ„ï¼› Â· -l [depth]ï¼šä¸‹è½½è¿œç¨‹æœåŠ¡å™¨ç›®å½•ç»“æ„çš„æ·±åº¦ï¼Œä¾‹å¦‚\u0026rdquo;-l 5\u0026quot;ä¸‹è½½ç›®å½•æ·±åº¦å°äºæˆ–è€…ç­‰ äº5ä»¥å†…çš„ç›®å½•ç»“æ„æˆ–è€…æ–‡ä»¶ï¼› Â· -mï¼šåšç«™ç‚¹é•œåƒæ—¶çš„é€‰é¡¹ï¼Œå¦‚æœä½ æƒ³åšä¸€ä¸ªç«™ç‚¹çš„é•œåƒï¼Œä½¿ç”¨è¿™ä¸ªé€‰é¡¹ï¼Œå®ƒå°†è‡ªåŠ¨è®¾ å®šå…¶ä»–åˆé€‚çš„é€‰é¡¹ä»¥ä¾¿äºç«™ç‚¹é•œåƒï¼› Â· -npï¼šåªä¸‹è½½ç›®æ ‡ç«™ç‚¹æŒ‡å®šç›®å½•åŠå…¶å­ç›®å½•çš„å†…å®¹ã€‚è¿™ä¹Ÿæ˜¯ä¸€ä¸ªéå¸¸æœ‰ç”¨çš„é€‰é¡¹ï¼Œæˆ‘ä»¬ å‡è®¾æŸä¸ªäººçš„ä¸ªäººä¸»é¡µé‡Œé¢æœ‰ä¸€ä¸ªæŒ‡å‘è¿™ä¸ªç«™ç‚¹å…¶ä»–äººä¸ªäººä¸»é¡µçš„è¿æ¥ï¼Œè€Œæˆ‘ä»¬åªæƒ³ä¸‹è½½ è¿™ä¸ªäººçš„ä¸ªäººä¸»é¡µï¼Œå¦‚æœä¸è®¾ç½®è¿™ä¸ªé€‰é¡¹ï¼Œç”šè‡³\u0026ndash;æœ‰å¯èƒ½æŠŠæ•´ä¸ªç«™ç‚¹ç»™æŠ“ä¸‹æ¥ï¼Œè¿™æ˜¾ç„¶æ˜¯ æˆ‘ä»¬é€šå¸¸ä¸å¸Œæœ›çš„ï¼› Ã¼ å¦‚ä½•è®¾å®šwgetæ‰€ä½¿ç”¨çš„ä»£ç†æœåŠ¡å™¨ wgetå¯ä»¥ä½¿ç”¨ç”¨æˆ·è®¾ç½®æ–‡ä»¶\u0026rdquo;.wgetrc\u0026quot;æ¥è¯»å–å¾ˆå¤šè®¾ç½®ï¼Œæˆ‘ä»¬è¿™é‡Œä¸»è¦åˆ©ç”¨è¿™ä¸ªæ–‡ä»¶æ¥æ˜¯ è®¾ç½®ä»£ç†æœåŠ¡å™¨ã€‚ä½¿ç”¨è€…ç”¨ä»€ä¹ˆç”¨æˆ·ç™»å½•ï¼Œé‚£ä¹ˆä»€ä¹ˆç”¨æˆ·ä¸»ç›®å½•ä¸‹çš„\u0026rdquo;.wgetrc\u0026quot;æ–‡ä»¶å°±èµ· ä½œç”¨ã€‚ä¾‹å¦‚ï¼Œ\u0026ldquo;root\u0026quot;ç”¨æˆ·å¦‚æœæƒ³ä½¿ç”¨\u0026rdquo;.wgetrc\u0026quot;æ¥è®¾ç½®ä»£ç†æœåŠ¡å™¨ï¼Œ\u0026quot;/root/.wgert\u0026quot;å°±èµ· ä½œç”¨ï¼Œä¸‹é¢ç»™å‡ºä¸€ä¸ª\u0026rdquo;.wge trc\u0026quot;æ–‡ä»¶çš„å†…å®¹ï¼Œè¯»è€…å¯ä»¥å‚ç…§è¿™ä¸ªä¾‹å­æ¥ç¼–å†™è‡ªå·±çš„\u0026quot;wgetrc\u0026quot;æ–‡ä»¶ï¼š http-proxy = 111.111.111.111:8080 ftp-proxy = 111.111.111.111:8080 è¿™ä¸¤è¡Œçš„å«ä¹‰æ˜¯ï¼Œä»£ç†æœåŠ¡å™¨IPåœ°å€ä¸ºï¼š111.111.111.111ï¼Œç«¯å£å·ä¸ºï¼š80ã€‚ç¬¬ä¸€è¡ŒæŒ‡å®š HTTPåè®®æ‰€ä½¿ç”¨çš„ä»£ç†æœåŠ¡å™¨ï¼Œç¬¬äºŒè¡ŒæŒ‡å®šFTPåè®®æ‰€ä½¿ç”¨çš„ä»£ç†æœåŠ¡å™¨ã€‚\nwget ä½¿ç”¨å®ä¾‹ï¼š wgetæ˜¯ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·ï¼Œç”¨äºæ‰¹é‡ä¸‹è½½æ–‡ä»¶ï¼Œæ”¯æŒHTTPå’ŒFTPã€‚ç©¶ç«Ÿæ¯”å…¶ä»–çš„å·¥å…·å¥½åœ¨å“ªé‡Œï¼Ÿçœ‹çœ‹å†…å®¹å§ :)\nwgetåŸºæœ¬ä¸Šæ‰€æœ‰çš„Linuxç‰ˆæœ¬éƒ½è‡ªå·±å¸¦äº†ï¼Œä½†æ˜¯æœ‰å¤šå°‘äººåœ¨ç”¨å‘¢ï¼Ÿå‘µå‘µï¼Œå¦‚æœä½ æ²¡æœ‰ç”¨è¿‡ï¼Œä¸å¦¨è¯•è¯•ã€‚Windowsä¸‹é¢çš„ç”¨æˆ·å¯ä»¥ä½¿ç”¨GNUwin32çš„é¡¹ç›®ï¼Œwgetï¼ŒåŸºæœ¬åŠŸèƒ½å®Œå…¨ä¸€è‡´ã€‚å¥½å§ï¼Œæˆ‘ä»¬æ¥ä»¥å‡ ä¸ªç®€å•çš„ä¾‹å­çœ‹çœ‹wgetçš„å¨åŠ›ã€‚\nå¦‚æœæˆ‘ä»¬æƒ³ä¸‹è½½ftpé‡Œé¢æŸä¸ªç›®å½•é‡Œé¢çš„æ‰€æœ‰æ–‡ä»¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä¸ç”¨ftpè¿™ä¸ªç¬¨è›‹ï¼Œå‘µå‘µï¼Œå¯ä»¥äº«å—cute ftpç­‰å›¾å½¢åŒ–å·¥å…·çš„æ‹–ä¸€ä¸ªç›®å½•çš„è½»æ¾äº†ã€‚å¦‚\nwget -r ftp://10.8.8.8/movie/\nå‘µå‘µï¼Œç­‰å§ï¼ä¸‹å®Œäº†ï¼Œå‘è§‰æœ‰äº›ä¸å¯¹åŠ²ï¼Œæ€ä¹ˆå‡ºæ¥ä¸ª10.8.8.8çš„ç›®å½•ï¼Œè¿›å»çœ‹çœ‹ï¼Œåˆæ˜¯ä¸€ä¸ªmovieï¼Œå“¦ï¼Œwgetå°†ç›®å½•ç»“æ„å’Œç½‘ç«™æ ‡é¢˜éƒ½ç»™è®°å½•ä¸‹æ¥äº†ï¼Œä¸è¦ï¼Ÿï¼Ÿæ²¡æœ‰é—®é¢˜ï¼æ¯”å¦‚è¯´è¿˜æ˜¯è¿™ä¸ªä¾‹å­\nwget -r -nd ftp://10.8.8.8/movie/\nç»“æœä»€ä¹ˆç›®å½•éƒ½æ²¡æœ‰äº†ï¼Œfaintï¼æ€ä¹ˆä¼šè¿™æ ·ï¼Ÿå‘µå‘µï¼Œä½ å¦‚æœæƒ³è¦è¿™æ ·å°±è®©å®ƒè¿™æ ·å§ï¼Œå¦åˆ™ä½¿ç”¨\nwget -r -nH ftp://10.8.8.8/movie/\næ©ï¼Ÿmovieä¹Ÿä¸è¦ï¼ŸOKï¼Œé‚£å°±è¿™æ ·\nwget -r -nH \u0026ndash;cut-dirs=1 ftp://10.8.8.8/movie/\nè¿™æœ‰ä»€ä¹ˆç”¨å•Šï¼Ÿcuteftpæ¯”ä»–å¥½ç”¨å¤šäº†ï¼Œè€Œä¸”ï¼Œä½ è¿™æ–­äº†çº¿èƒ½è¿å—ï¼Ÿå‘µå‘µï¼Œä¸å¥½æ„æ€ï¼Œå¯ä»¥è¿\nwget -c -r -nH \u0026ndash;cut-dirs=1 ftp://10.8.8.8/movie/\nä½†æ˜¯cuteftpèƒ½åšä¸‹é¢çš„äº‹æƒ…å—ï¼Ÿæ¯”å¦‚ï¼Œç°åœ¨å¾ˆå¤šç½‘ç«™ä½¿ç”¨Apacheå»ºç«™ï¼Œå¹¶ä¸æä¾›ftpæœåŠ¡ï¼Œä½†æ˜¯Apacheæœ‰ä¸€ä¸ªindexingåŠŸèƒ½ï¼Œå¯ä»¥æä¾›ä¸€ä¸ªç±»ä¼¼äºftpçš„ç•Œé¢ï¼Œå¥½å¤šæ–‡ä»¶æˆ‘æƒ³ä¸‹å•Šï¼Œæ€ä¹ˆåŠï¼Ÿç”±äºæ˜¯HTTPåè®®ï¼ŒCuteFTPæ— èƒ½ä¸ºåŠ›äº†ï¼Œå€’æ˜¯flash getç­‰æœ‰ä»€ä¹ˆget allè¿™ç§åŠŸèƒ½ï¼Œä¸çŸ¥é“ä»–ä»¬å¯¹äºç›®å½•å¤„ç†æ€ä¹ˆæ ·ã€‚ä½†æ˜¯wgetä¸€ç‚¹é—®é¢˜éƒ½æ²¡æœ‰ï¼Œä¸ä¿¡ï¼Ÿæˆ‘ä»¬æ‹¿CTANä¸ºä¾‹ï¼ˆä¾‹å­å¹¶ä¸æ°å½“ï¼ŒCTANæœ‰FTPæœåŠ¡ï¼‰ï¼Œæˆ‘ä»¬ä¸‹è½½è¿™é‡Œé¢æ‰€æœ‰çš„å®åŒ…ï¼Œå‘µå‘µ\nwget -r -k http://www.txia.com/blog\n-kè¡¨ç¤ºå°†è¿æ¥è½¬æ¢ä¸ºæœ¬åœ°è¿æ¥ã€‚ä½†æ˜¯ç°åœ¨åŒæ ·æœ‰ä¸Šé¢çš„é—®é¢˜å•Šï¼Œé‚£å°±æŠŠä½ éœ€è¦çš„åŠ ä¸Šå§ï¼Œå¦å¤–ä¹Ÿè®¸ä½ æ ¹æœ¬ä¸éœ€è¦å‘ä¸‹èµ°é‚£ä¹ˆå¤šå±‚ï¼Œæ¯”å¦‚ï¼Œæˆ‘ä»¬å°±è¦åˆ°ç¬¬äºŒå±‚ï¼Œé‚£ä¹ˆ\nwget -r -l2 -k http://www.txia.com/blog\nç°åœ¨æ–°çš„é—®é¢˜æ˜¯ï¼Œç”±äºç½‘é¡µæœ‰ä¸€ä¸ªæ’åºåŠŸèƒ½ï¼Œå¾ˆè®¨åŒï¼Œå› ä¸ºä¸‹è½½çš„æ—¶å€™æŠŠç½‘é¡µé‡å¤äº†å¥½å¤šæ¬¡ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä½¿ç”¨-Aå’Œ-Rå¼€å…³æ§åˆ¶ä¸‹è½½ç±»å‹ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨é€šé…ç¬¦ï¼Œå‘µå‘µï¼Œç°åœ¨éšå¿ƒæ‰€æ¬²äº†å§\nwget -r -R \u0026lsquo;.htm?*\u0026rsquo; -k http://www.txia.com/blog\nè¿™æ¬¡æ²¡æœ‰é‚£ç§ç½‘é¡µäº†å§ï¼Ÿ-Rçš„æ„ä¹‰åœ¨äºæ‹’ç»ä¸‹è½½åŒ¹é…ç±»å‹çš„æ–‡ä»¶ï¼Œ-Aè¡¨ç¤ºä»…ä»…æ¥å—çš„æ–‡ä»¶ç±»å‹ï¼Œå¦‚-A \u0026lsquo;*.gif\u0026rsquo;å°†ä»…ä¸‹è½½gifå›¾ç‰‡ï¼Œå¦‚æœæœ‰å¤šä¸ªå…è®¸æˆ–è€…ä¸å…è®¸ï¼Œå¯ä»¥ä½¿ç”¨,åˆ†å¼€ã€‚\né‚£ä¹ˆï¼Œæˆ‘ä»¬ç°åœ¨åœ¨ä½¿ç”¨ä»£ç†æœåŠ¡å™¨ï¼Œæ€ä¹ˆåŠå‘¢ï¼Ÿå‘µå‘µï¼Œå¾ˆé«˜å…´ä½ é€‰æ‹©äº†wgetï¼Œä½ å¯ä»¥ä½¿ç”¨å®ƒçš„é…ç½®æ–‡ä»¶ï¼Œç¯å¢ƒå˜é‡æ¥åˆ©ç”¨ä»£ç†ã€‚è¿™é‡Œæ¨èä½¿ç”¨ç¯å¢ƒå˜é‡ï¼Œå¦‚åœ¨ bashé‡Œé¢æˆ‘ä»¬å¯ä»¥æŠŠå¤©å¤©ç”¨çš„proxyåŠ åˆ°.bash_profileé‡Œé¢ï¼Œè¿™æ˜¯Linuxæ ‡å‡†å†™æ³•ï¼ˆå¾ˆå¤šè½¯ä»¶éƒ½ç”¨çš„ï¼Œä»€ä¹ˆapt-getï¼Œyumç­‰ç­‰ï¼‰\nexport http_proxy=http://10.20.30.40:8080\nç„¶åï¼Œproxyå°±é»˜è®¤æ‰“å¼€äº†ï¼Œå¦‚æœéœ€è¦æš‚æ—¶å…³é—­ï¼Œå¯ä»¥ä½¿ç”¨\nwget \u0026ndash;proxy=off -r -k http://www.txia.com/blog\nå½“ç„¶ï¼Œå†™ä¸€ä¸ª.wgetrcæ–‡ä»¶ä¹Ÿå¯ä»¥ï¼Œè¯¥æ–‡ä»¶å¯ä»¥ä»/usr/local/etcé‡Œé¢æ‰¾åˆ°ï¼Œé‡Œé¢æœ‰å¾ˆè¯¦ç»†çš„æ³¨é‡Šï¼Œæˆ‘å°±ä¸å¤šè¯´äº†ã€‚\nä¸‹è½½ç½‘é¡µçš„æ—¶å€™æ¯”è¾ƒéº»çƒ¦çš„äº‹æƒ…æ˜¯ï¼Œæœ‰çš„ç½‘é¡µè¢«åŒæ—¶æŒ‡å‘äº†å¾ˆå¤šéï¼Œé‚£ä¹ˆä¸ºäº†é¿å…å¤šæ¬¡ä¸‹è½½ï¼Œæˆ‘ä»¬ä½¿ç”¨\nwget -nc -r -k http://www.txia.com/blog\nå¯ä»¥é¿å…è¿™ä»¶äº‹æƒ…ã€‚ä¸ºäº†ä¸è¢«æœ‰çš„è¿æ¥æŒ‡å‘éhttp://www.txia.com/blogå†…å±‚ç›®å½•ï¼Œæˆ‘ä»¬è¿˜åº”è¯¥åŠ ä¸Š\nwget -nc -np -r -k http://www.txia.com/blog\né¿å…ä¸‹è½½éè¯¥ç›®å½•é‡Œé¢çš„æ–‡ä»¶ï¼Œè¿™ä¹Ÿé¿å…äº†åˆ°ä¸åŒçš„hostä¸Šé¢å»ã€‚å½“ç„¶ï¼Œå¦‚æœä½ å¸Œæœ›æœ‰è¿™ä¸ªåŠŸèƒ½ï¼Œåœ¨å¤šä¸ªhostä¹‹é—´è·³æ¥è·³å»çš„ä¸‹è½½ï¼Œå¯ä»¥ä½¿ç”¨\nwget -nc -np -H -r -k http://www.txia.com/blog\nä½¿å¾—å¯ä»¥åœ¨å¤šä¸ªhostä¹‹é—´spanï¼ŒåŒæ—¶-Iå’Œ-Xå¯ä»¥ä½¿å¾—æˆ‘ä»¬ä»…ä»…è·Ÿè¸ªæŸäº›ç›®å½•æˆ–è€…ä¸è·Ÿè¸ªæŸäº›ç›®å½•ã€‚å¦‚æœæŸäº›HTMLé‡Œé¢ä½ éœ€è¦çš„ä¸œè¥¿ä¸æ˜¯ç”±è¿™ç§ä¸œè¥¿ä½œå‡ºæ¥çš„ï¼Œä½ å°±å¾—ä½¿ç”¨\u0026ndash;follow-tagså’Œ\u0026ndash;ignore-tagsäº†ã€‚\nå˜¿ï¼Œæˆ‘æœ‰ä¸ªæ–‡ä»¶é‡Œé¢éƒ½æ˜¯è¿æ¥ï¼Œæ€ä¹ˆåŠï¼Ÿè¦æ˜¯ä¸æ˜¯htmlä½ åªéœ€è¦\nwget -i your.file\nå¦‚æœæ˜¯ï¼Œé‚£ä¹Ÿä¸ç¹\nwget -F -i your.file\nwget ä½¿ç”¨æŒ‡å— wgetæ˜¯ä¸€ä¸ªä»ç½‘ç»œä¸Šè‡ªåŠ¨ä¸‹è½½æ–‡ä»¶çš„è‡ªç”±å·¥å…·ã€‚å®ƒæ”¯æŒHTTPï¼ŒHTTPSå’ŒFTPåè®®ï¼Œå¯ä»¥ä½¿ç”¨HTTPä»£ç†.\næ‰€è°“çš„è‡ªåŠ¨ä¸‹è½½æ˜¯æŒ‡ï¼Œwgetå¯ä»¥åœ¨ç”¨æˆ·é€€å‡ºç³»ç»Ÿçš„ä¹‹ååœ¨åå°æ‰§è¡Œã€‚è¿™æ„å‘³è¿™ä½ å¯ä»¥ç™»å½•ç³»ç»Ÿï¼Œå¯åŠ¨ä¸€ä¸ªwgetä¸‹è½½ä»»åŠ¡ï¼Œç„¶åé€€å‡ºç³»ç»Ÿï¼Œwgetå°†åœ¨åå°æ‰§è¡Œç›´åˆ°ä»»åŠ¡å®Œæˆï¼Œç›¸å¯¹äºå…¶å®ƒå¤§éƒ¨åˆ†æµè§ˆå™¨åœ¨ä¸‹è½½å¤§é‡æ•°æ®æ—¶éœ€è¦ç”¨æˆ·ä¸€ç›´çš„å‚ä¸ï¼Œè¿™çœå»äº†æå¤§çš„éº»çƒ¦ã€‚\nwgetå¯ä»¥è·Ÿè¸ªHTMLé¡µé¢ä¸Šçš„é“¾æ¥ä¾æ¬¡ä¸‹è½½æ¥åˆ›å»ºè¿œç¨‹æœåŠ¡å™¨çš„æœ¬åœ°ç‰ˆæœ¬ï¼Œå®Œå…¨é‡å»ºåŸå§‹ç«™ç‚¹çš„ç›®å½•ç»“æ„ã€‚è¿™åˆå¸¸è¢«ç§°ä½œ\u0026quot;é€’å½’ä¸‹è½½\u0026rdquo;ã€‚åœ¨é€’å½’ä¸‹è½½çš„æ—¶å€™ï¼Œwgetéµå¾ªRobot Exclusionæ ‡å‡†(/robots.txt). wgetå¯ä»¥åœ¨ä¸‹è½½çš„åŒæ—¶ï¼Œå°†é“¾æ¥è½¬æ¢æˆæŒ‡å‘æœ¬åœ°æ–‡ä»¶ï¼Œä»¥æ–¹ä¾¿ç¦»çº¿æµè§ˆã€‚\nwgetéå¸¸ç¨³å®š,å®ƒåœ¨å¸¦å®½å¾ˆçª„çš„æƒ…å†µä¸‹å’Œä¸ç¨³å®šç½‘ç»œä¸­æœ‰å¾ˆå¼ºçš„é€‚åº”æ€§.å¦‚æœæ˜¯ç”±äºç½‘ç»œçš„åŸå› ä¸‹è½½å¤±è´¥ï¼Œwgetä¼šä¸æ–­çš„å°è¯•ï¼Œç›´åˆ°æ•´ä¸ªæ–‡ä»¶ä¸‹è½½å®Œæ¯•ã€‚å¦‚æœæ˜¯æœåŠ¡å™¨æ‰“æ–­ä¸‹è½½è¿‡ç¨‹ï¼Œå®ƒä¼šå†æ¬¡è”åˆ°æœåŠ¡å™¨ä¸Šä»åœæ­¢çš„åœ°æ–¹ç»§ç»­ä¸‹è½½ã€‚è¿™å¯¹ä»é‚£äº›é™å®šäº†é“¾æ¥æ—¶é—´çš„æœåŠ¡å™¨ä¸Šä¸‹è½½å¤§æ–‡ä»¶éå¸¸æœ‰ç”¨ã€‚\nwgetçš„å¸¸è§ç”¨æ³• wgetçš„ä½¿ç”¨æ ¼å¼\nUsage: wget [OPTION]\u0026hellip; [URL]\u0026hellip;\nç”¨wgetåšç«™ç‚¹é•œåƒ: wget -r -p -np -k http://dsec.pku.edu.cn/~us... -r è¡¨ç¤ºé€’å½’ä¸‹è½½,ä¼šä¸‹è½½æ‰€æœ‰çš„é“¾æ¥,ä¸è¿‡è¦æ³¨æ„çš„æ˜¯,ä¸è¦å•ç‹¬ä½¿ç”¨è¿™ä¸ªå‚æ•°,å› ä¸ºå¦‚æœä½ è¦ä¸‹è½½çš„ç½‘ç«™ä¹Ÿæœ‰åˆ«çš„ç½‘ç«™çš„é“¾æ¥,wgetä¹Ÿä¼šæŠŠåˆ«çš„ç½‘ç«™çš„ä¸œè¥¿ä¸‹è½½ä¸‹æ¥,æ‰€ä»¥è¦åŠ ä¸Š -npè¿™ä¸ªå‚æ•°,è¡¨ç¤ºä¸ä¸‹è½½åˆ«çš„ç«™ç‚¹çš„é“¾æ¥. -kè¡¨ç¤ºå°†ä¸‹è½½çš„ç½‘é¡µé‡Œçš„é“¾æ¥ä¿®æ”¹ä¸ºæœ¬åœ°é“¾æ¥.-pè·å¾—æ‰€æœ‰æ˜¾ç¤ºç½‘é¡µæ‰€éœ€çš„å…ƒç´ ,æ¯”å¦‚å›¾ç‰‡ä»€ä¹ˆçš„.\næˆ–è€… wget -m http://www.tldp.org/LDP/ab...\nåœ¨ä¸ç¨³å®šçš„ç½‘ç»œä¸Šä¸‹è½½ä¸€ä¸ªéƒ¨åˆ†ä¸‹è½½çš„æ–‡ä»¶ï¼Œä»¥åŠåœ¨ç©ºé—²æ—¶æ®µä¸‹è½½ wget -t 0 -w 31 -c http://dsec.pku.edu.cn/BBC... -o down.log \u0026amp;\næˆ–è€…ä»filelistè¯»å…¥è¦ä¸‹è½½çš„æ–‡ä»¶åˆ—è¡¨ wget -t 0 -w 31 -c -B ftp://dsec.pku.edu.cn/linu... -i filelist.txt -o down.log \u0026amp;\nä¸Šé¢çš„ä»£ç è¿˜å¯ä»¥ç”¨æ¥åœ¨ç½‘ç»œæ¯”è¾ƒç©ºé—²çš„æ—¶æ®µè¿›è¡Œä¸‹è½½ã€‚æˆ‘çš„ç”¨æ³•æ˜¯:åœ¨mozillaä¸­å°†ä¸æ–¹ä¾¿å½“æ—¶ä¸‹è½½çš„URLé“¾æ¥æ‹·è´åˆ°å†…å­˜ä¸­ç„¶åç²˜è´´åˆ°æ–‡ä»¶filelist.txtä¸­ï¼Œåœ¨æ™šä¸Šè¦å‡ºå»ç³»ç»Ÿå‰æ‰§è¡Œä¸Šé¢ä»£ç çš„ç¬¬äºŒæ¡ã€‚\nä½¿ç”¨ä»£ç†ä¸‹è½½ wget -Y on -p -k https://sourceforge.net/pr...\nä»£ç†å¯ä»¥åœ¨ç¯å¢ƒå˜é‡æˆ–wgetrcæ–‡ä»¶ä¸­è®¾å®š\nåœ¨ç¯å¢ƒå˜é‡ä¸­è®¾å®šä»£ç† export PROXY=http://211.90.168.94:8080/\nåœ¨~/.wgetrcä¸­è®¾å®šä»£ç† http_proxy = http://proxy.yoyodyne.com:\u0026hellip; ftp_proxy = http://proxy.yoyodyne.com:\u0026hellip;\nwgetå„ç§é€‰é¡¹åˆ†ç±»åˆ—è¡¨ å¯åŠ¨ -V, \u0026ndash;version æ˜¾ç¤ºwgetçš„ç‰ˆæœ¬åé€€å‡º -h, \u0026ndash;help æ‰“å°è¯­æ³•å¸®åŠ© -b, \u0026ndash;background å¯åŠ¨åè½¬å…¥åå°æ‰§è¡Œ -e, \u0026ndash;execute=COMMAND æ‰§è¡Œ`.wgetrc\u0026rsquo;æ ¼å¼çš„å‘½ä»¤ï¼Œwgetrcæ ¼å¼å‚è§/etc/wgetrcæˆ–~/.wgetrc\nè®°å½•å’Œè¾“å…¥æ–‡ä»¶ -o, \u0026ndash;output-file=FILE æŠŠè®°å½•å†™åˆ°FILEæ–‡ä»¶ä¸­ -a, \u0026ndash;append-output=FILE æŠŠè®°å½•è¿½åŠ åˆ°FILEæ–‡ä»¶ä¸­ -d, \u0026ndash;debug æ‰“å°è°ƒè¯•è¾“å‡º -q, \u0026ndash;quiet å®‰é™æ¨¡å¼(æ²¡æœ‰è¾“å‡º) -v, \u0026ndash;verbose å†—é•¿æ¨¡å¼(è¿™æ˜¯ç¼ºçœè®¾ç½®) -nv, \u0026ndash;non-verbose å…³æ‰å†—é•¿æ¨¡å¼ï¼Œä½†ä¸æ˜¯å®‰é™æ¨¡å¼ -i, \u0026ndash;input-file=FILE ä¸‹è½½åœ¨FILEæ–‡ä»¶ä¸­å‡ºç°çš„URLs -F, \u0026ndash;force-html æŠŠè¾“å…¥æ–‡ä»¶å½“ä½œHTMLæ ¼å¼æ–‡ä»¶å¯¹å¾… -B, \u0026ndash;base=URL å°†URLä½œä¸ºåœ¨-F -iå‚æ•°æŒ‡å®šçš„æ–‡ä»¶ä¸­å‡ºç°çš„ç›¸å¯¹é“¾æ¥çš„å‰ç¼€ \u0026ndash;sslcertfile=FILE å¯é€‰å®¢æˆ·ç«¯è¯ä¹¦ \u0026ndash;sslcertkey=KEYFILE å¯é€‰å®¢æˆ·ç«¯è¯ä¹¦çš„KEYFILE \u0026ndash;egd-file=FILE æŒ‡å®šEGD socketçš„æ–‡ä»¶å\nä¸‹è½½ \u0026ndash;bind-address=ADDRESS æŒ‡å®šæœ¬åœ°ä½¿ç”¨åœ°å€(ä¸»æœºåæˆ–IPï¼Œå½“æœ¬åœ°æœ‰å¤šä¸ªIPæˆ–åå­—æ—¶ä½¿ç”¨) -t, \u0026ndash;tries=NUMBER è®¾å®šæœ€å¤§å°è¯•é“¾æ¥æ¬¡æ•°(0 è¡¨ç¤ºæ— é™åˆ¶). -O \u0026ndash;output-document=FILE æŠŠæ–‡æ¡£å†™åˆ°FILEæ–‡ä»¶ä¸­ -nc, \u0026ndash;no-clobber ä¸è¦è¦†ç›–å­˜åœ¨çš„æ–‡ä»¶æˆ–ä½¿ç”¨.#å‰ç¼€ -c, \u0026ndash;continue æ¥ç€ä¸‹è½½æ²¡ä¸‹è½½å®Œçš„æ–‡ä»¶ \u0026ndash;progress=TYPE è®¾å®šè¿›ç¨‹æ¡æ ‡è®° -N, \u0026ndash;timestamping ä¸è¦é‡æ–°ä¸‹è½½æ–‡ä»¶é™¤éæ¯”æœ¬åœ°æ–‡ä»¶æ–° -S, \u0026ndash;server-response æ‰“å°æœåŠ¡å™¨çš„å›åº” \u0026ndash;spider ä¸ä¸‹è½½ä»»ä½•ä¸œè¥¿ -T, \u0026ndash;timeout=SECONDS è®¾å®šå“åº”è¶…æ—¶çš„ç§’æ•° -w, \u0026ndash;wait=SECONDS ä¸¤æ¬¡å°è¯•ä¹‹é—´é—´éš”SECONDSç§’ \u0026ndash;waitretry=SECONDS åœ¨é‡æ–°é“¾æ¥ä¹‹é—´ç­‰å¾…1\u0026hellip;SECONDSç§’ \u0026ndash;random-wait åœ¨ä¸‹è½½ä¹‹é—´ç­‰å¾…0\u0026hellip;2*WAITç§’ -Y, \u0026ndash;proxy=on/off æ‰“å¼€æˆ–å…³é—­ä»£ç† -Q, \u0026ndash;quota=NUMBER è®¾ç½®ä¸‹è½½çš„å®¹é‡é™åˆ¶ \u0026ndash;limit-rate=RATE é™å®šä¸‹è½½è¾“ç‡\nç›®å½• -nd \u0026ndash;no-directories ä¸åˆ›å»ºç›®å½• -x, \u0026ndash;force-directories å¼ºåˆ¶åˆ›å»ºç›®å½• -nH, \u0026ndash;no-host-directories ä¸åˆ›å»ºä¸»æœºç›®å½• -P, \u0026ndash;directory-prefix=PREFIX å°†æ–‡ä»¶ä¿å­˜åˆ°ç›®å½• PREFIX/\u0026hellip; \u0026ndash;cut-dirs=NUMBER å¿½ç•¥ NUMBERå±‚è¿œç¨‹ç›®å½•\nHTTP é€‰é¡¹ \u0026ndash;http-user=USER è®¾å®šHTTPç”¨æˆ·åä¸º USER. \u0026ndash;http-passwd=PASS è®¾å®šhttpå¯†ç ä¸º PASS. -C, \u0026ndash;cache=on/off å…è®¸/ä¸å…è®¸æœåŠ¡å™¨ç«¯çš„æ•°æ®ç¼“å­˜ (ä¸€èˆ¬æƒ…å†µä¸‹å…è®¸). -E, \u0026ndash;html-extension å°†æ‰€æœ‰text/htmlæ–‡æ¡£ä»¥.htmlæ‰©å±•åä¿å­˜ \u0026ndash;ignore-length å¿½ç•¥ Content-Length'å¤´åŸŸ --header=STRING åœ¨headersä¸­æ’å…¥å­—ç¬¦ä¸² STRING --proxy-user=USER è®¾å®šä»£ç†çš„ç”¨æˆ·åä¸º USER --proxy-passwd=PASS è®¾å®šä»£ç†çš„å¯†ç ä¸º PASS --referer=URL åœ¨HTTPè¯·æ±‚ä¸­åŒ…å« Referer: URL\u0026rsquo;å¤´ -s, \u0026ndash;save-headers ä¿å­˜HTTPå¤´åˆ°æ–‡ä»¶ -U, \u0026ndash;user-agent=AGENT è®¾å®šä»£ç†çš„åç§°ä¸º AGENTè€Œä¸æ˜¯ Wget/VERSION. \u0026ndash;no-http-keep-alive å…³é—­ HTTPæ´»åŠ¨é“¾æ¥ (æ°¸è¿œé“¾æ¥). \u0026ndash;cookies=off ä¸ä½¿ç”¨ cookies. \u0026ndash;load-cookies=FILE åœ¨å¼€å§‹ä¼šè¯å‰ä»æ–‡ä»¶ FILEä¸­åŠ è½½cookie \u0026ndash;save-cookies=FILE åœ¨ä¼šè¯ç»“æŸåå°† cookiesä¿å­˜åˆ° FILEæ–‡ä»¶ä¸­\nFTP é€‰é¡¹ -nr, \u0026ndash;dont-remove-listing ä¸ç§»èµ° `.listing\u0026rsquo;æ–‡ä»¶ -g, \u0026ndash;glob=on/off æ‰“å¼€æˆ–å…³é—­æ–‡ä»¶åçš„ globbingæœºåˆ¶ \u0026ndash;passive-ftp ä½¿ç”¨è¢«åŠ¨ä¼ è¾“æ¨¡å¼ (ç¼ºçœå€¼). \u0026ndash;active-ftp ä½¿ç”¨ä¸»åŠ¨ä¼ è¾“æ¨¡å¼ \u0026ndash;retr-symlinks åœ¨é€’å½’çš„æ—¶å€™ï¼Œå°†é“¾æ¥æŒ‡å‘æ–‡ä»¶(è€Œä¸æ˜¯ç›®å½•)\né€’å½’ä¸‹è½½ -r, \u0026ndash;recursive é€’å½’ä¸‹è½½ï¼ï¼æ…ç”¨! -l, \u0026ndash;level=NUMBER æœ€å¤§é€’å½’æ·±åº¦ (inf æˆ– 0 ä»£è¡¨æ— ç©·). \u0026ndash;delete-after åœ¨ç°åœ¨å®Œæ¯•åå±€éƒ¨åˆ é™¤æ–‡ä»¶ -k, \u0026ndash;convert-links è½¬æ¢éç›¸å¯¹é“¾æ¥ä¸ºç›¸å¯¹é“¾æ¥ -K, \u0026ndash;backup-converted åœ¨è½¬æ¢æ–‡ä»¶Xä¹‹å‰ï¼Œå°†ä¹‹å¤‡ä»½ä¸º X.orig -m, \u0026ndash;mirror ç­‰ä»·äº -r -N -l inf -nr. -p, \u0026ndash;page-requisites ä¸‹è½½æ˜¾ç¤ºHTMLæ–‡ä»¶çš„æ‰€æœ‰å›¾ç‰‡\né€’å½’ä¸‹è½½ä¸­çš„åŒ…å«å’Œä¸åŒ…å«(accept/reject) -A, \u0026ndash;accept=LIST åˆ†å·åˆ†éš”çš„è¢«æ¥å—æ‰©å±•åçš„åˆ—è¡¨ -R, \u0026ndash;reject=LIST åˆ†å·åˆ†éš”çš„ä¸è¢«æ¥å—çš„æ‰©å±•åçš„åˆ—è¡¨ -D, \u0026ndash;domains=LIST åˆ†å·åˆ†éš”çš„è¢«æ¥å—åŸŸçš„åˆ—è¡¨ \u0026ndash;exclude-domains=LIST åˆ†å·åˆ†éš”çš„ä¸è¢«æ¥å—çš„åŸŸçš„åˆ—è¡¨ \u0026ndash;follow-ftp è·Ÿè¸ªHTMLæ–‡æ¡£ä¸­çš„FTPé“¾æ¥ \u0026ndash;follow-tags=LIST åˆ†å·åˆ†éš”çš„è¢«è·Ÿè¸ªçš„HTMLæ ‡ç­¾çš„åˆ—è¡¨ -G, \u0026ndash;ignore-tags=LIST åˆ†å·åˆ†éš”çš„è¢«å¿½ç•¥çš„HTMLæ ‡ç­¾çš„åˆ—è¡¨ -H, \u0026ndash;span-hosts å½“é€’å½’æ—¶è½¬åˆ°å¤–éƒ¨ä¸»æœº -L, \u0026ndash;relative ä»…ä»…è·Ÿè¸ªç›¸å¯¹é“¾æ¥ -I, \u0026ndash;include-directories=LIST å…è®¸ç›®å½•çš„åˆ—è¡¨ -X, \u0026ndash;exclude-directories=LIST ä¸è¢«åŒ…å«ç›®å½•çš„åˆ—è¡¨ -np, \u0026ndash;no-parent ä¸è¦è¿½æº¯åˆ°çˆ¶ç›®å½•\né—®é¢˜ åœ¨é€’å½’ä¸‹è½½çš„æ—¶å€™ï¼Œé‡åˆ°ç›®å½•ä¸­æœ‰ä¸­æ–‡çš„æ—¶å€™ï¼Œwgetåˆ›å»ºçš„æœ¬åœ°ç›®å½•åä¼šç”¨URLç¼–ç è§„åˆ™å¤„ç†ã€‚å¦‚\u0026quot;å¤©ç½‘é˜²ç«å¢™\u0026quot;ä¼šè¢«å­˜ä¸º\u0026rdquo;%CC%EC%CD%F8%B7%C0%BB%F0%C7%BD\u0026rdquo;,è¿™é€ æˆé˜…è¯»ä¸Šçš„æå¤§ä¸æ–¹ä¾¿ã€‚\n","permalink":"https://wedojava.github.io/posts/utilities-wget/","tags":["wget"," å‚æ•°"," æ–‡æ¡£"],"title":"ç¥å™¨wgetçš„ä½¿ç”¨æ–¹æ³•"},{"categories":["Laravel"],"contents":"è¿™é‡Œè®°å½•ä¸‹æˆ‘ä½¿ç”¨ vagrant æ¥åšå¼€å‘ç¯å¢ƒçš„å„ç§ç»éªŒï¼Œæœ¬æ–‡ä¸»è¦è®²é€šè¿‡ homestead å‘½ä»¤è¡Œæ¥æ§åˆ¶è™šæ‹Ÿæœºã€‚ ä¹‹å‰æˆ‘ç”¨ vagrant æ­å»ºäº†è‡ªå·±çš„æ–¹ä¾¿ç§»åŠ¨çš„å¼€å‘å’Œç”Ÿäº§ç¯å¢ƒï¼Œç”¨è¿‡ CentOS-6.5 CentOS-7.0 CentOS-7.1ï¼Œæœ€ç»ˆæˆ‘å›åˆ°äº†å®˜æ–¹æä¾›çš„å¼€å‘ç¯å¢ƒï¼šlaravel/homesteadï¼Œä¸ºä»€ä¹ˆè¦ç»•ä¸€åœˆï¼Œä¸ºä»€ä¹ˆç»•äº†ä¸€åœˆåˆå›æ¥äº†å‘¢ï¼Ÿ\næ•…äº‹èƒŒæ™¯ æ›¾ç»ç”¨ç»¿è‰²çš„ amp ç¯å¢ƒåŒ…æ¥éƒ¨ç½²å„ç±»åº”ç”¨ï¼Œç„¶åå„ç§æ…¢å’Œä¸ç¨³å®šï¼Œæ…¢æ˜¯å¿…ç„¶çš„ï¼Œç¨³å®šæ€§çš„å½±å“ä¸»è¦æ¥è‡ªäºå®¿ä¸»è®¡ç®—æœºï¼Œå½“æ—¶éƒ¨ç½²ç»™åˆ«äººä¸€ä¸ªè‡ªå·±åšå¥½çš„ç«™ç‚¹ï¼Œä¸åˆ°ä¸€ä¸ªæœˆï¼Œæ‰“ä¸å¼€äº†ï¼ŒæŸ¥æ˜åŸå› æ˜¯å› ä¸ºæ¯’ï¼Œæ²¡é”™ï¼Œæ˜¯å› ä¸ºæ¯’ï¼Œæ¯’æŠŠç½‘ç«™æåäº†ï¼ŒæŠŠ mysql çš„æœåŠ¡ä¹Ÿæåäº†ï¼Œè™½ç„¶æœ€ç»ˆæ˜¯æå®šäº†ï¼Œä½†æ˜¯è¿™ä¸ªè¿‡ç¨‹è®©æˆ‘æ„è¯†åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œå†æœ‰ç±»ä¼¼çš„äº‹æƒ…ï¼Œæˆ‘è¦ç»™ä»–ä»¬é…ä¸ªè™šæ‹Ÿæœºï¼ä¹Ÿå°±æ˜¯é‚£ä¸ªæ—¶å€™ï¼Œæˆ‘æ¥è§¦äº† laravelï¼Œå­¦ä¹ çš„è¿‡ç¨‹ä¸­åˆé‡åˆ°äº† vagrantï¼Œé¡¿æ—¶è§‰å¾—è¿™çœŸæ˜¯ç¥å™¨ï¼Œå½“æ—¶æœ¬æ¥è¯•å›¾ç”¨å®˜æ–¹æä¾›çš„ homestead ç¯å¢ƒçš„ï¼Œä½†æ˜¯é‡åˆ°äº†ä¸€äº›é—®é¢˜ï¼Œç¬¬ä¸€ï¼Œè¯¥ç¯å¢ƒé…å¥½åè¦é…ç½®ç¯å¢ƒå˜é‡ï¼Œæˆ‘ç¡®å®æŒ‰ç…§æ–‡æ¡£é…ç½®äº†ï¼Œä½†æ˜¯ä¸èµ·ä½œç”¨ï¼Œå½“æ—¶ä¹Ÿæ‡’å¾—è€ƒè™‘ä¸ºä»€ä¹ˆï¼Œæˆ‘æ€»æ˜¯å¯¹ Ubuntu æœ‰æˆè§ã€‚ç¬¬äºŒï¼Œå½“æˆ‘ç”¨å®ƒæ“ä½œäº†åŠå¤©ï¼Œå‘ç°æ€ä¹ˆä¿®æ”¹å’Œé…ç½®ï¼Œå®ƒéƒ½åªèƒ½é’ˆå¯¹homesteadè¿™ä¸ªæ•°æ®åº“æ“ä½œï¼Œæˆ‘åˆ›å»ºæ–°çš„æ•°æ®åº“ç”¨æ¥è¿ä¸ä¸Šï¼Œä¸æ˜ç™½æ˜¯ä»€ä¹ˆåŸå› ï¼Œåæ­£æˆ‘æ˜¯æ”¾å¼ƒäº†ã€‚ äº‹éš”åŠå¹´ï¼Œæˆ‘åˆç‡ƒèµ·äº†è¦æå®šhomesteadçš„æ„¿æœ›ï¼ŒåŸå› æ˜¯æ¯æ¬¡è‡ªå·±æä¸ª lnmp ç¯å¢ƒå‡ºæ¥æ€»è¿˜æ˜¯ä¼šé‡åˆ°ä¸€äº›å…¶ä»–çš„é—®é¢˜ï¼Œé—®é¢˜è§£å†³äº†åˆæœ‰æ–°é—®é¢˜ï¼Œæˆ‘æ„Ÿè§‰è‡ªå·±æŠŠæ—¶é—´å¤§é‡çš„èŠ±è´¹åœ¨äº†ç¯å¢ƒä¸Šï¼Œæˆ‘ä¸æƒ³è¿™æ ·ï¼Œæˆ‘æƒ³æŠŠæ›´å¤šçš„æ—¶é—´æ”¾åœ¨ laravel ä¸Šï¼Œæˆ‘å¾—æŠŠç¯å¢ƒé…ç½®ä¸Šçš„æ—¶é—´èŠ‚çœä¸‹æ¥ï¼Œå¹²è„†å°±ç”¨å®˜æ–¹çš„ç¯å¢ƒå§ï¼å› æ­¤ï¼Œæˆ‘é‡æ–°é˜…è§ˆå®˜æ–¹æ–‡æ¡£ï¼Œé‡æ–°çš„æ„æ€åŒ…æ‹¬æŠŠ5.1ç‰ˆæœ¬çš„æ–‡æ¡£ç¿»è¯‘äº†ä¸€ä¸‹ï¼Œç¿»è¯‘è¿‡åç¡®å®å¯¹å¾ˆå¤šç»†èŠ‚æ›´äº†è§£äº†ï¼Œä¹Ÿæ„è¯†åˆ°å½“æ—¶å¯èƒ½é‡åˆ°ä½†æ˜¯æ²¡è§£å†³çš„é—®é¢˜ã€‚å•°å—¦äº†å¤ªå¤šäº†ï¼Œä¸‹é¢ä¸Šå¹²è´§ï¼š\nå‡†å¤‡å·¥ä½œ ä½ çš„ç”µè„‘åº”è¯¥å·²ç»å…·å¤‡å¦‚ä¸‹ç¯å¢ƒï¼šComposer, git, phpï¼ˆå¯é€‰ï¼‰\nä½ çš„ç”µè„‘æœ€å¥½æ˜¯èƒ½å¤Ÿç•…æ¸¸äº’è”ç½‘ï¼Œå¯ä»¥è®¿é—® github.comã€‚\nå®‰è£… æ–°ç‰ˆ vagrant ç”¨è¿™ä¸ªå‘½ä»¤ï¼š\nvagrant box add laravel/homestead  è€ç‰ˆ vagrant ç”¨è¿™ä¸ªï¼š\nvagrant box add laravel/homestead https://atlas.hashicorp.com/laravel/boxes/homestead  æœ¬åœŸå±€åŸŸç½‘ç”¨æˆ·ä¹Ÿè®¸ä¼šåœ¨å®‰è£…ä¸­é‡åˆ°ä¸‹è½½å¤±è´¥çš„é—®é¢˜ï¼Œè¯·ç§‘å­¦ä¸Šç½‘ï¼Œæˆ–ç”¨ä¸‹è½½å·¥å…·ä¸‹è½½å§ï¼Œæˆ‘æ˜¯ç”¨ wget ä¸‹è½½ä¸‹æ¥å®‰è£…çš„ï¼Œå†™æ­¤æ–‡æ—¶ï¼Œhomestead ç‰ˆæœ¬è¿˜æ˜¯ 0.2.7ï¼Œæœ¬æ¥æƒ³ä¸Šä¼ åˆ°ç™¾åº¦äº‘çš„ï¼Œä½†æ˜¯ Urumqi çš„ç™¾åº¦ç½‘ç›˜æœ‰é—®é¢˜ã€‚\nåˆ†æ”¯1ï¼švagrant å‘½ä»¤è¡Œç®¡ç†è™šæ‹Ÿæœº å¦‚æœä½ æœ¬åœ°æ²¡æœ‰ PHP ç¯å¢ƒï¼Œå¯ä»¥é€‰æ‹©è¿™ä¸ªåˆ†æ”¯ã€‚ å…‹éš† Homestead ä»£ç åº“ï¼Œä½ å¯ä»¥åœ¨ç”¨æˆ·æ ¹ç›®å½•ï¼ˆ~ï¼‰ä¸‹è¿è¡Œä¸‹é¢çš„å‘½ä»¤ï¼Œè¿™æ ·ä¼šåœ¨~/Homesteadç›®å½•ä¸‹å…‹éš†ï¼š\ngit clone https://github.com/laravel/homestead.git Homestead  åˆå§‹åŒ–ï¼Œå¯ä»¥å®ç°åœ¨~/.homesteadç›®å½•ä¸‹åˆ›å»ºé…ç½®æ–‡ä»¶Homestead.yamlï¼š\nbash init.sh  æ­¤æ—¶ï¼Œä½ å·²ç»å¯ä»¥åœ¨~/Homestead ç›®å½•ä¸‹ï¼Œç”¨vagrant upå‘½ä»¤æ¥å¯åŠ¨è™šæ‹Ÿæœºäº†ï¼Œè™šæ‹Ÿæœºçš„ç›®å½•ç­‰é…ç½®åé¢è¯´ã€‚\nåˆ†æ”¯2ï¼šhomestead å‘½ä»¤è¡Œç®¡ç†è™šæ‹Ÿæœº å¦‚æœä½ æœ¬åœ°æœ‰ PHP ç¯å¢ƒï¼Œå»ºè®®é€‰æ‹©è¿™ä¸ªåˆ†æ”¯ã€‚ ä¸ºäº†å®ç° http://laracasts.com é‡Œé‚£æ ·çš„æ“ä½œ,æˆ‘ä»¬éœ€è¦å®‰è£… homestead çš„å‘½ä»¤è¡Œã€‚\ncomposer global require \u0026quot;laravel/homestead=~2.0\u0026quot;  å®Œåï¼Œä½ çš„~/.composer/vendor/binç›®å½•ä¸‹åº”è¯¥æ˜¯å…·å¤‡äº†homesteadæ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶å…·æœ‰æ‰§è¡Œæƒé™ã€‚\næ·»åŠ ç¯å¢ƒå˜é‡ï¼ˆå¯èƒ½æˆä¸ºä½ çš„ç»Šè„šçŸ³ï¼‰ ä¸‹é¢ä¿®æ”¹ç¯å¢ƒå˜é‡ï¼Œå°†~/.composer/vendor/binå†™å…¥ PATH ç¯å¢ƒå˜é‡é‡Œã€‚\næ³¨æ„ï¼š å¦‚æœä½ çš„å‘½ä»¤è¡Œå®‰è£…äº†zshå’Œoh-my-zshï¼Œä¿®æ”¹ç¯å¢ƒå˜é‡æ—¶æœ‰äº›å°çš„å˜åŒ–ã€‚\næˆ‘é‡åˆ°çš„å°±æ˜¯è¿™ä¸ªé—®é¢˜ï¼Œæ€ä¹ˆä¿®æ”¹ï¼Œç¯å¢ƒå˜é‡éƒ½ä¸ç”Ÿæ•ˆï¼Œæ¯”å¦‚æˆ‘ä¿®æ”¹çš„æ˜¯~/.bash_profileï¼Œé‚£ä¹ˆå¿…é¡»source ~/.bash_profileæ‰èƒ½ç”Ÿæ•ˆï¼Œè€Œä¸”é‡å¯åç»§ç»­æ— æ•ˆï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Ÿå› ä¸º zsh ï¼æˆ‘çš„ç»ˆç«¯æ˜¯ iTerm2ï¼Œå®ƒå¾ˆç‚«é…·ï¼Œä½†æ˜¯å°±æ˜¯ç¯å¢ƒå˜é‡æä¸æˆã€‚Google æ‰¾åˆ°äº†é—®é¢˜æ‰€åœ¨ï¼Œå®‰è£… zsh åï¼Œ~/.bash_profileå¹¶æ²¡æœ‰è¢«æ‰§è¡Œï¼Œæ‰€ä»¥éœ€è¦ç¼–è¾‘ zsh çš„é…ç½®æ–‡ä»¶~/.zshrcï¼Œåœ¨è¯¥æ–‡ä»¶é‡ŒåŠ å…¥\nsource ~/.bash_profile  ç°åœ¨æˆ‘ä»¬åº”è¯¥å¯ä»¥ç”¨homesteadå‘½ä»¤äº†ï¼Œå¯ä»¥çœ‹åˆ° homestead åŒ…å«äº†ä¸€äº› vagrant çš„åŠŸèƒ½ï¼Œä¸‹é¢åˆå§‹åŒ–ï¼š\nhomestead init  æ­¤æ—¶åº”ä¼šåœ¨~/.homestead/ä¸‹åˆ›å»ºé…ç½®æ–‡ä»¶Homestead.yamlï¼Œå¦‚æœè¯¥æ–‡ä»¶å·²ç»å­˜åœ¨ä¼šé—®ä½ æ˜¯å¦è¦†ç›–ã€‚å¦‚æœæƒ³ç¼–è¾‘é…ç½®æ–‡ä»¶å°±è¾“å…¥homestead editã€‚\nä½¿ç”¨ ä¸ç®¡ä½ æ˜¯åˆ†æ”¯1è¿˜æ˜¯åˆ†æ”¯2ï¼Œä¸‹é¢çš„æ“ä½œéƒ½æ˜¯ä¸€æ ·çš„ã€‚ é…ç½®~/.homestead/Homestead.yamlï¼š\nç›®å½•æ˜ å°„ è¯´æ˜ï¼š\nfolders: - map: æœ¬åœ°ç›®å½• to: è™šæ‹Ÿæœºä¸Šçš„ç›®å½•  æˆ‘çš„é…ç½®ï¼š\nfolders: - map: ~/Sites to: /home/vagrant/Code  è™šæ‹Ÿç›®å½• è¯´æ˜ï¼š\nsites: - map: åŸŸåï¼Œè‡ªå·±çš„ hosts æ–‡ä»¶é‡Œå·²ç»å®šä¹‰äº†çš„ã€‚ alias: åˆ«åï¼Œä¹Ÿæ˜¯ hosts æ–‡ä»¶é‡Œå·²ç»å®šä¹‰äº†çš„ã€‚ to: è™šæ‹Ÿä¸»æœºé‡Œçš„ç›®å½•ï¼Œä¸€èˆ¬è¿™ä¸ªç›®å½•æ˜¯é€šè¿‡ç›®å½•æ˜ å°„æ˜ å°„å¥½äº†çš„ã€‚  æˆ‘çš„é…ç½®ï¼š\nsites: - map: pma.local to: /home/vagrant/Code/phpMyAdmin - map: test.local to: /home/vagrant/Code/test - map: hfcms.local to: /home/vagrant/Code/hfcms/public - map: flyer.dev to: /home/vagrant/Code/flyer.dev/public  æ–°å¢æˆ–ä¿®æ”¹è™šæ‹Ÿç›®å½•é…ç½® æ–¹å¼ä¸€ï¼šä¿®æ”¹å®ŒHomestead.yamlåï¼ŒåŠ¡å¿…è¿è¡Œä¸‹é¢å‘½ä»¤ä»¥ä½¿é…ç½®ç”Ÿæ•ˆï¼š  æœ‰ php ç¯å¢ƒï¼ŒæˆåŠŸé…ç½®å¥½äº† homestead ç¯å¢ƒçš„ã€‚  homestead provision æ—  php ç¯å¢ƒï¼ŒæœªæˆåŠŸé…ç½® homestead ç¯å¢ƒçš„ã€‚  vagrant provision æ–¹å¼äºŒï¼šé€šè¿‡ SSH ç›´æ¥ç™»å½•åˆ°è™šæ‹Ÿæœºé‡Œé¢ï¼Œç„¶åè¿è¡Œï¼š serve domain.app /home/vagrant/Code/path/to/public/directory  å°±ä¼šæ·»åŠ ä¸€ä¸ªåŸŸåä¸ºdomain.appï¼Œ ç›®å½•åœ¨/home/vagrant/Code/path/to/public/directoryçš„è™šæ‹Ÿç›®å½•ã€‚\n","permalink":"https://wedojava.github.io/posts/laravel-homestead-note/","tags":["laravel"," homestead"," vagrant"," å¼€å‘ç¯å¢ƒ"],"title":"laravel-homestead å¼€å‘ç¯å¢ƒä½¿ç”¨"},{"categories":["Editor"],"contents":"è¿™ä¸ªç¼–è¾‘å™¨çš„æ‰“å¼€é€Ÿåº¦æ˜¯æˆ‘å–œæ¬¢çš„ï¼Œå®ƒçš„è‡ªå®šä¹‰æ€§åˆå¾ˆå¼ºï¼Œç»å†bracket,atomç­‰å„ç§ç¼–è¾‘å™¨åï¼Œæœ€åç”±laracastes.comå†æ¬¡å°†æˆ‘å¸¦å…¥Sublime text3çš„ä¸–ç•Œã€‚ä¸‹é¢ï¼Œæˆ‘ä¸»è¦ä»‹ç»ä¸‹ä¸­æ–‡è¾“å…¥æ³•å’Œlaracastes.comé‡Œè¯´çš„å„ç§æŠ€å·§ã€‚å½“ç„¶å‰æè¿˜æ˜¯ï¼šä½ å¾—å­¦ä¼šåœ¨ä¸­å›½ä¸Šäº’è”ç½‘ï¼Œä»£ç†æˆ–VPNéƒ½è¡Œã€‚ ä¸‹é¢è¿›å…¥æ­£é¢˜.\nç”¨æ­£ç¡®çš„å§¿åŠ¿è¾“å…¥ä¸­æ–‡ ç”¨æƒ¯äº†windowsçš„æœ‹å‹ä¸€å®šè¦é€‚åº”ï¼Œåœ¨linxuå’Œè‹¹æœç³»ç»Ÿé‡Œï¼Œæˆ‘ä»¬æ›´å¤šçš„æ—¶å€™ç”¨å‘½ä»¤è¡Œæ¥æ‰“å¼€ç¼–è¾‘å™¨æ›´æ–¹ä¾¿ï¼Œè¿™ä¸ªæ˜¯çœŸçš„ï¼Œå¦‚æœèƒ½ç†è§£è¿™ä¸ªï¼Œæ‹¿ä½ å°±å¯ä»¥æ¥å—åœ¨Ubuntuç³»ç»Ÿä¸‹ä¸­æ–‡è¾“å…¥çš„è¹©è„šçš„åœ°æ–¹äº†ï¼šåªèƒ½ä»å‘½ä»¤è¡Œç”¨sublæ¥å¯åŠ¨çš„Sublime Text3æ‰èƒ½è¾“å…¥ä¸­æ–‡ï¼Œå…·ä½“åŸå› è¯·çœ‹åŸä½œè€…è§£é‡Šï¼Œæˆ‘è¿™é‡Œæä¾›çš„æ–¹æ³•ç›¸æ¯”è¿˜æ˜¯æ¯”è¾ƒç®€å•çš„ï¼Œä¸¤å°Ubuntuç³»ç»Ÿæµ‹è¯•é€šè¿‡ï¼Œæ²¡æœ‰é—®é¢˜ã€‚\nè¾“å…¥æ³•å®‰è£… ç½‘å€ï¼šhttps://github.com/lyfeyaj/sublime-text-imfix\nå‘½ä»¤æµç¨‹ï¼š\n## æ›´æ–°ç³»ç»Ÿ sudo apt-get update \u0026amp;\u0026amp; sudo apt-get upgrade ## å…‹éš†é¡¹ç›®åˆ°æœ¬åœ° git clone https://github.com/lyfeyaj/sublime-text-imfix.git ## è¿è¡Œè„šæœ¬ï¼šè¿›å…¥å…‹éš†çš„ç›®å½•ï¼Œç„¶åè¿è¡Œä½œè€…å†™å¥½çš„è„šæœ¬ cd sublime-text-imfix \u0026amp;\u0026amp; ./sublime-imfix ##è¯•è¯•çœ‹æ˜¯å¦å¯ä»¥è¾“å…¥ä¸­æ–‡äº† subl  æˆ‘é‡åˆ°çš„é—®é¢˜ åˆšå¼€å§‹ï¼ŒæŒ‰ç…§ä½œè€…çš„åšæ³•åšäº†ï¼Œç„¶å¹¶åµï¼æ‰€ä»¥æ‰¾é—®é¢˜ï¼Œå‘ç°æˆ‘æ²¡æœ‰è£…sogouè¾“å…¥æ³•ï¼Œæˆ‘ç”¨çš„æ˜¯googleè¾“å…¥æ³•ï¼Œæ‰€ä»¥åˆè£…äº†ä¸‹sogouè¾“å…¥æ³•ï¼Œè¿è¡Œå¦‚ä¸‹å‘½ä»¤å±…ç„¶å®‰è£…äº†48Må·¦å³çš„ä¸œè¥¿ï¼Œä¼°è®¡é—®é¢˜å‡ºåœ¨è¿™é‡Œäº†ï¼š\ngcc -shared -o libsublime-imfix.so sublime_imfix.c `pkg-config --libs --cflags gtk+-2.0` -fPIC  å½“ç„¶ï¼Œæ­¤æ—¶æˆ‘æ²¡æœ‰æµ‹è¯•æ˜¯å¦èƒ½æ­£å¸¸è¾“å…¥ä¸­æ–‡ï¼Œæ¥ç€ï¼Œæˆ‘æ·»åŠ ppa:fcitx-team/nightlyï¼Œåˆ°è½¯ä»¶æºï¼Œç„¶åæ›´æ–°äº†ä¸‹ï¼Œå†ç„¶åï¼Œæˆ‘å®‰è£…äº†sogouè¾“å…¥æ³•çš„debåŒ…ï¼Œè¿‡ç¨‹ä¸­åˆä¸‹è½½å®‰è£…äº†ä»€ä¹ˆåŒ…ï¼Œä¹‹åï¼Œä¸€åˆ‡å°±å¥½äº†ã€‚\næ¨èå®‰è£…çš„æ’ä»¶  æ…¢æ…¢æ•´ç†ï¼Œæ€»å…±10ä¸ªè¯¾æ—¶ï¼Œubuntuéƒ½è¡Œï¼Œè§†é¢‘åœ¨è¿™é‡Œï¼Œlaracasts.com.\n å…ˆå®‰è£…æ’ä»¶ PackageResourceViewerï¼Œç„¶åå®‰è£…å¥½ä¸‹é¢çš„çš®è‚¤åCtrl+Shift+pè¿è¡ŒPackageResourceViewer:Extract Packageå‘½ä»¤,é€‰æ‹©ç›¸åº”çš„çš®è‚¤ã€‚\nçš®è‚¤é€‰æ‹©ï¼š  Material Theme for Sublime Text 3 GitHubé¡¹ç›®ä¸»é¡µ é…è‰²é£æ ¼é€‰æ‹©æ’ä»¶ï¼šColorsublime GitHubé¡¹ç›®ä¸»é¡µ Colorsublimeé…è‰²é€‰æ‹©ï¼šfacebook  ä¸Šé¢çš„éƒ½å®‰è£…å®Œåï¼šæ‰“å¼€ Settings-Userï¼Œæ·»åŠ é…è‰²å’Œçš®è‚¤é€‰é¡¹è®¾å®šï¼š\n\u0026#34;theme\u0026#34;: \u0026#34;Material-Theme-DIY.sublime-theme\u0026#34;, \u0026#34;color_scheme\u0026#34;: \u0026#34;Packages/Colorsublime - Themes/Facebook.tmTheme\u0026#34;, ç„¶åè®¾å®šå­—ä½“å’Œå¤§å°æ˜¯å¦æ˜¾ç¤ºè¡Œå·ç­‰è®¾ç½®ï¼š\n\u0026#34;font_size\u0026#34;: 15, \u0026#34;font_face\u0026#34;: \u0026#34;Fira Code\u0026#34;, \u0026#34;line_numbers\u0026#34;: false, \u0026#34;margin\u0026#34;: 0, \u0026#34;overlay_scroll_bars\u0026#34;\t: \u0026#34;enabled\u0026#34;, \u0026#34;line_padding_top\u0026#34;\t: 3, \u0026#34;line_padding_bottom\u0026#34;\t: 3, \u0026#34;always_show_minimap_viewport\u0026#34; : false, \u0026#34;bold_folder_labels\u0026#34; : true, // Highlight active indent \u0026#34;indent_guide_options\u0026#34; : [ \u0026#34;draw_normal\u0026#34;, \u0026#34;draw_active\u0026#34; ], \u0026#34;font_options\u0026#34; : [ \u0026#34;gray_antialias\u0026#34; ], \u0026#34;use_simple_full_screen\u0026#34;: true, è¿™é‡Œä¼šç”¨åˆ°å­—ä½“ï¼šFira Code\nä¸Šé¢éƒ½è®¾ç½®å®Œæ¯•åï¼Œæˆ‘ä»¬è¿›å…¥ç›®å½•ï¼š/home/SignedUser/.Sublime Text 3/Packages/Material Themeï¼Œå¤åˆ¶ä¸€ä»½Material-Theme.sublime-themeï¼Œé‡å‘½åä¸ºï¼šMaterial-Theme-DIY.sublime-themeï¼Œæ‰“å¼€é‡å‘½ååçš„æ–‡ä»¶ï¼Œä¿®æ”¹é¢œè‰²ï¼Œå°†æ‰€æœ‰çš„38, 50, 56è‰²å€¼ä¿®æ”¹ä¸ºï¼š37, 43, 57ã€‚ä¿å­˜æ–‡ä»¶ã€‚\nå·²å®‰è£…æ’ä»¶ï¼š MarkdownEditing\n éå¸¸æ£’çš„markdownç¼–è¾‘è¾…åŠ©æ’ä»¶ï¼Œå¿«æ·é”®å¦‚ä¸‹ï¼š\n    OS X Windows/Linux Description     âŒ˜âŒ¥V CtrlWinV ç²˜è´´å‰ªè´´æ¿ä¸­çš„å†…å®¹ä½œä¸ºé€‰æ‹©çš„æ–‡æœ¬å†…åµŒçš„é“¾æ¥ã€‚   âŒ˜âŒ¥R CtrlWinR ç²˜è´´å‰ªè´´æ¿ä½œä¸ºå‚è€ƒé“¾æ¥çš„å†…å®¹ã€‚   âŒ˜âŒ¥K CtrlWinK æ’å…¥ä¸€ä¸ªæ ‡å‡†çš„å†…åµŒé“¾æ¥ã€‚   âŒ˜â‡§K ShiftWinK æ’å…¥å†…åµŒå›¾åƒã€‚   âŒ˜âŒ¥B âŒ˜âŒ¥I CtrlShiftB CtrlShiftI These are bound to bold and italic. They work both with and without selections. If there is no selection, they will just transform the word under the cursor. These keybindings will unbold/unitalicize selection if it is already bold/italic.   âŒ˜^1\u0026hellip;6 Ctrl1\u0026hellip;6 These will add the corresponding number of hashmarks for headlines. Works on blank lines and selected text in tandem with the above headline tools. If you select an entire existing headline, the current hashmarks will be removed and replaced with the header level you requested. This command respects the mde.match_header_hashes preference setting.   âŒ˜â‡§6 CtrlShift6 æ’å…¥ä¸€ä¸ªè„šæ³¨ï¼Œå¹¶è·³è½¬åˆ°å®ƒçš„å®šä¹‰ã€‚å¦‚æœä½ çš„å…‰æ ‡åœ¨ä¸€ä¸ªå®šä¹‰ï¼Œå®ƒä¼šè·³å›æ ‡è®°ã€‚   âŒ¥â‡§F AltShiftF å®šä½åˆ°æ²¡æœ‰å®šä¹‰çš„è„šæ³¨æ ‡è®°å¹¶æ’å…¥å…¶æ ‡è®°çš„å®šä¹‰ã€‚   âŒ¥â‡§G AltShiftG å®šä½é“¾æ¥å¼•ç”¨æœªç»å®šä¹‰å’Œæ’å…¥å…¶æ ‡ç­¾åœ¨åº•éƒ¨çš„å®šä¹‰ã€‚    AdvancedNewFile\n å¿«é€Ÿæ–°å»ºå’Œé‡å‘½åæ–‡ä»¶ï¼éå¸¸å¥½ç”¨ï¼ŒâŒ˜+alt+næˆ– windows+ctrl+nå°±å¯ä»¥æ–°å»ºæ–‡ä»¶ã€‚\n Sublime-phpfmt\n æ ¼å¼åŒ–ä»£ç \n OmniMarkupPreviewer\n æˆ‘ç”¨çš„æœ€å¥½ç”¨çš„ markdown é¢„è§ˆï¼ŒçœŸçš„å¾ˆå¥½ç”¨ï¼Œå®æ—¶é¢„è§ˆï¼Œæµè§ˆå™¨å’Œä½ ç¼–è¾‘çš„å†…å®¹æ˜¯åŒæ­¥çš„ï¼ŒæŒ‰ï¼šâŒ˜+âŒ¥+O(æ˜¯ Oï¼Œä¸æ˜¯0)å³å¯åœ¨æµè§ˆå™¨é¢„è§ˆä½ çš„ markdown æ ·å¼æ•ˆæœã€‚\n PHP Getters and Setter\n å¿«é€Ÿç”Ÿæˆ get å’Œ set é­”æœ¯æ–¹æ³•\n SublimePHPCompanion\n ä¸€é”®è¡¥å…¨æˆ–å¼•å…¥å‘½åç©ºé—´ï¼Œä¸€é”®æ·»åŠ å±æ€§å’Œæ„é€ æ–¹æ³•\n Origami\n å¿«æ·åˆ†å±\n Colorsublime\n install themesåŠŸèƒ½ï¼Œæ–¹ä¾¿ç›´æ¥çœ‹åˆ°ç€è‰²æ•ˆæœ å¯ä»¥å…ˆåœ¨å®ƒçš„ç½‘ç«™ä¸Šæ‰¾åˆ°åˆé€‚çš„ï¼šhttp://colorsublime.com\n Better PHP Workflow è¿™ä¸€èŠ‚å®‰è£…çš„æ’ä»¶æœ‰ï¼š PHP Getters and Setter\nSublimePHPCompanion\næ·»åŠ  snippet èœå•æ ï¼šTools-\u0026gt;New Snippet\u0026hellip;\næˆ‘ä¿å­˜äº†è¿™æ ·å‡ ä¸ªï¼š\n ä½¿ç”¨ï¼šè¾“å…¥pmet(met æ˜¯ method çš„ç¼©å†™)ï¼Œç„¶åæŒ‰ Tab  ä»£ç å¦‚ä¸‹ï¼š\n\u0026lt;snippet\u0026gt; \u0026lt;content\u0026gt;\u0026lt;![CDATA[ protected function ${1}(${2}) { ${3} } ]]\u0026gt;\u0026lt;/content\u0026gt; \u0026lt;!-- Optional: Set a tabTrigger to define how to trigger the snippet --\u0026gt; \u0026lt;tabTrigger\u0026gt;pmet\u0026lt;/tabTrigger\u0026gt; \u0026lt;!-- Optional: Set a scope to limit where the snippet will trigger --\u0026gt; \u0026lt;scope\u0026gt;source.php\u0026lt;/scope\u0026gt; \u0026lt;/snippet\u0026gt;   ä½¿ç”¨ï¼šè¾“å…¥metï¼Œç„¶åæŒ‰ Tab  ä»£ç å¦‚ä¸‹ï¼š\n\u0026lt;snippet\u0026gt; \u0026lt;content\u0026gt;\u0026lt;![CDATA[ public function ${1}(${2}) { ${3} } ]]\u0026gt;\u0026lt;/content\u0026gt; \u0026lt;!-- Optional: Set a tabTrigger to define how to trigger the snippet --\u0026gt; \u0026lt;tabTrigger\u0026gt;met\u0026lt;/tabTrigger\u0026gt; \u0026lt;!-- Optional: Set a scope to limit where the snippet will trigger --\u0026gt; \u0026lt;scope\u0026gt;source.php\u0026lt;/scope\u0026gt; \u0026lt;/snippet\u0026gt;   ä½¿ç”¨ï¼šè¾“å…¥_cï¼Œç„¶åæŒ‰ Tab  ä»£ç å¦‚ä¸‹ï¼š\n\u0026lt;snippet\u0026gt; \u0026lt;content\u0026gt;\u0026lt;![CDATA[ public function __construct(${1}) { ${2} } ]]\u0026gt;\u0026lt;/content\u0026gt; \u0026lt;!-- Optional: Set a tabTrigger to define how to trigger the snippet --\u0026gt; \u0026lt;tabTrigger\u0026gt;_c\u0026lt;/tabTrigger\u0026gt; \u0026lt;!-- Optional: Set a scope to limit where the snippet will trigger --\u0026gt; \u0026lt;scope\u0026gt;source.php\u0026lt;/scope\u0026gt; \u0026lt;/snippet\u0026gt;\t æ’ä»¶PHP Getters and Setter è¿™ä¸ªæ’ä»¶çš„ç”¨æ³•æ˜¯ï¼šcommand+shift+pï¼Œè¾“å…¥php getå°±èƒ½æ‰¾åˆ°ç›¸åº”çš„åŠŸèƒ½äº†ï¼Œèƒ½å¤Ÿå®ç°ç›´æ¥ç”ŸæˆæŒ‡å®šçš„æˆ–å…¨éƒ¨çš„ get å’Œ set é­”æœ¯æ–¹æ³•ã€‚\næ’ä»¶SublimePHPCompanion è¿™ä¸ªæ’ä»¶å¾ˆçŠ€åˆ©ï¼ŒæŒ‰ä¸€ä¸ªé”®å³å¯ä¸å…¨å‘½åç©ºé—´ï¼Œæˆ–è€…æ·»åŠ å‘½åç©ºé—´å¼•ç”¨ï¼Œè€Œå®šä¹‰äº†insert_php_constructor_propertyçš„å¿«é”®åæ›´ç‰›ï¼Œå¯ä»¥å®ç°ä¸€é”®åˆ›å»ºå±æ€§åç§°ï¼ŒåŒæ—¶æ„é€ æ–¹æ³•å°è£….\né’ˆå¯¹è¿™ä¸ªæ’ä»¶ï¼Œæˆ‘çš„Key Bindings-User é…ç½®ï¼ŒF7ä¸€é”®åˆ›å»ºå±æ€§ï¼ŒF9ä¸€é”®ä¸å…¨å‘½åç©ºé—´ï¼ŒF10ä¸€é”®å¼•å…¥å…‰æ ‡æ‰€åœ¨å…³é”®å­—çš„å‘½åç©ºé—´ï¼š\n{ \u0026quot;keys\u0026quot;: [\u0026quot;f9\u0026quot;], \u0026quot;command\u0026quot;: \u0026quot;expand_fqcn\u0026quot; }, { \u0026quot;keys\u0026quot;: [\u0026quot;f10\u0026quot;], \u0026quot;command\u0026quot;: \u0026quot;find_use\u0026quot; }, { \u0026quot;keys\u0026quot;: [\u0026quot;f7\u0026quot;], \u0026quot;command\u0026quot;: \u0026quot;insert_php_constructor_property\u0026quot; },  é»˜è®¤çš„ä¸€é”®åˆ›å»ºå±æ€§åˆ›å»ºçš„éƒ½æ˜¯privateçš„ï¼Œæˆ‘æƒ³æ”¹ä¸ºé»˜è®¤æ˜¯protectedï¼Œæ‰“å¼€è¯¥æ’ä»¶çš„é»˜è®¤é…ç½®æ–‡ä»¶å¯ä»¥çœ‹åˆ°æœ€åä¸€è¡Œæ˜¯\u0026quot;visibility\u0026quot;: \u0026quot;private\u0026quot;,è¿™æ—¶ï¼Œæˆ‘ä»¬å¤åˆ¶è¿™ä¸€è¡Œï¼Œåœ¨ PHPCompanion æ’ä»¶çš„ User é…ç½®æ–‡ä»¶é‡Œæ·»åŠ {}ç„¶åå°†\u0026quot;visibility\u0026quot;: \u0026quot;private\u0026quot;æ‹·è´è¿›å»ï¼Œå¹¶ä¿®æ”¹privateä¸ºprotectedã€‚\nOKï¼Œè‡³æ­¤ï¼Œæ“ä½œå®Œæ¯•ã€‚\n","permalink":"https://wedojava.github.io/posts/sublime-text3-mastery/","tags":["sublime"," ç¼–è¾‘å™¨"," ä¸­æ–‡è¾“å…¥"," æ’ä»¶"],"title":"Sublime-text3ä½¿ç”¨ç»éªŒ"},{"categories":["FrontEnd"],"contents":"è¿™ä¸œè¥¿å¾ˆä¸é”™ï¼Œå¯ä»¥è®©æµè§ˆå™¨å’Œæˆ‘ä»¬çš„æ–‡ä»¶åŒæ­¥æ˜¾ç¤ºï¼Œæ„æ€æ˜¯ï¼Œä½ ä¸€ä¿®æ”¹å®Œ css æˆ–è€… js æˆ–è€… Htmlï¼Œç«‹å³å°±èƒ½çœ‹åˆ°æµè§ˆå™¨é‡Œä»–ä»¬çš„å˜åŒ–ã€‚ You\u0026rsquo;re worth it!\nå®˜æ–¹ç½‘ç«™ï¼šhttp://www.browsersync.io\nå®‰è£… npm install -g browser-sync  å›½å†…ç©å®¶ï¼Œå¦‚æœé€Ÿåº¦å¤ªæ…¢ï¼Œå¯ä»¥å…ˆå®‰è£… cnpmï¼Œ ç„¶åï¼š\ncnpm install -g browser-sync  å½“ç„¶ï¼Œè¿‡ç¨‹ä¸­è¿˜ä¼šç”¨åˆ° github æ‰€ä»¥æœ€å¥½è¿˜æ˜¯æœ‰ VPN æˆ– shadowsocks é…åˆ proxychains-ng\nå®‰è£…æˆåŠŸåï¼Œè¿è¡Œbrowser-syncå‘½ä»¤å¯ä»¥å‡ºç°å¸®åŠ©å’Œè¯´æ˜ï¼Œè¯´æ˜å®‰è£…æˆåŠŸäº†ï¼Œæƒ³è¦åœ¨é‚£ä¸ªé¡¹ç›®é‡Œä½¿ç”¨å°±å…ˆåˆ°é‚£ä¸ªç›®å½•ä¸‹ï¼Œç„¶åè¿è¡Œï¼š\nnpm init npm install browser-sync --save-dev  --save-dev å‚æ•°ç”¨æ¥å°† browser-sync ä½œä¸ºå¼€å‘ä¾èµ–æ”¾åˆ°package.json é‡Œå»ã€‚\nä½¿ç”¨ è¿™é‡Œä»¥å®çš“ç½‘çš„ github ä¸Šçš„ forest ä¸ºç”¨ä¾‹ä»£ç ï¼š\ngit clone https://github.com/ninghao/forest  å¯åŠ¨æœåŠ¡ # --server è¡¨ç¤ºè¦å¯åŠ¨ä¸€ä¸ªæœåŠ¡å™¨ï¼Œåé¢è·Ÿçš„æ˜¯è¦å¯åŠ¨çš„æœåŠ¡æ‰€åœ¨æ ¹ç›®å½•ï¼Œä¸æŒ‡å®šä¼šæ˜¯å‘½ä»¤å½“å…ˆä½ç½® # --files æŒ‡å®šè¦ç›‘è§†çš„æ–‡ä»¶ï¼Œæ¯”å¦‚ç›‘è§†äº† index.html å’Œ css æ–‡ä»¶å¤¹é‡Œçš„ css æ–‡ä»¶ browser-sync start --server forest --files \u0026#34;forest/index.html, forest/css/*.css\u0026#34; æˆåŠŸåï¼Œä¼šè‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨ï¼Œç®¡ç† browser-sync åœ¨ http://localhost:3001\nå…¶ä»–å‚æ•° --tunnel:ä¸æ‰€æœ‰äººåŒæ­¥ å°±æ˜¯è¯´ï¼Œä½ çš„ä¿®æ”¹å¯ä»¥å…¬å¸ƒç»™ç½‘ä¸Šçš„äººï¼Œæœ‰åœ°å€ï¼Œè®©ä»–ä»¬éƒ½å¯ä»¥çœ‹åˆ°ï¼Œåœ°å€æ˜¯éšæœºç”Ÿæˆçš„ã€‚\n--proxy:ä»£ç† è¿™ä¸ªåŠŸèƒ½å¾ˆæœ‰ç”¨ï¼Œæˆ‘ä»¬ä¸€èˆ¬å¼€å‘çš„ php åŠ¨æ€çš„ç½‘ç«™æœ‰ä¾èµ–çš„ä¸€äº›ç¯å¢ƒï¼Œæœ‰äº†è¿™ä¸ªä»£ç†å°±æ–¹ä¾¿äº†ï¼Œæ¯”å¦‚ï¼Œæˆ‘ä»¬çš„æµ‹è¯•åœ°å€æ˜¯:http://test.devé‚£ä¹ˆæˆ‘ä»¬å°±è¿™ä¹ˆå†™è¿™ä¸ªå‚æ•°ï¼š\n--proxy test.dev  ç„¶åè®¿é—®http://localhost:3000å³å¯\næŠŠ browser-sync ä½œä¸º Gulp çš„ä»»åŠ¡ å®‰è£… gulp ï¼šnpm install gulp --save-dev\nåœ¨forestç›®å½•çš„ä¸Šçº§ç›®å½•ä¸‹æ·»åŠ ä¸€ä¸ª gulp æ–‡ä»¶gulpfile.js:\nvar gulp = require(\u0026#39;gulp\u0026#39;); var browserSync = require(\u0026#39;browser-sync\u0026#39;).create(); gulp.task(\u0026#39;browser-sync\u0026#39;, function () { browserSync.init({ server:{ baseDir: \u0026#39;./forest\u0026#39; }, files: [\u0026#39;forest/index.html\u0026#39;, \u0026#39;forest/css/*.css\u0026#39;] }); }); å®‰è£… gulp çš„å‘½ä»¤è¡Œå·¥å…·ï¼šnpm install -g gulp\næ‰§è¡Œä»»åŠ¡ï¼šgulp browser-syncã€‚\n å¦‚æœæŠ¥é”™è¯´Cannot find module 'browser-sync',å¯¹åº”çš„ä»£ç è¡Œæ˜¯var browserSync = require('browser-sync').create(); è¯·å†æ¬¡è¿è¡Œå¹¶ä¿è¯æˆåŠŸï¼šnpm install gulp --save-devç„¶åå†æ‰§è¡Œåˆšæ‰çš„ä»»åŠ¡\n","permalink":"https://wedojava.github.io/posts/ninghao-browser-sync-01/","tags":["å®çš“ç½‘"," æµè§ˆå™¨"," åŒæ­¥"," Browser"," sync"],"title":"è·Ÿç€å®çš“ç½‘å­¦ Browser-sync"},{"categories":["FrontEnd"],"contents":"è‡³äº SemanticUI ä¹Ÿåšè¿‡ä¸€äº›è°ƒç ”ï¼Œæœ€åè¿˜æ˜¯é€‰æ‹©äº†å®ƒï¼Œæœ€é‡è¦çš„åŸå› æ˜¯æƒ³è·Ÿç€å®çš“å­¦å­¦çœ‹ï¼Œæˆ‘æƒ³ï¼Œä»»ä½•ç•Œé¢æ¡†æ¶ï¼Œå­¦å¥½äº†éƒ½èƒ½åšå¾ˆå¤šäº‹æƒ…ï¼Œæœ‰äººè¯´ï¼Œsemantic å¤ªå¤§ï¼Œé‚£ä¹ˆï¼Œä½ å­¦å¥½å®ƒï¼Œåª build ä½ éœ€è¦çš„åŠŸèƒ½ï¼Œå®ƒåº”è¯¥å°±æ»¡è¶³ä½ çš„éœ€è¦äº†å§ï¼Œè€Œä¸”ï¼Œè¿™ä¸ªä¹Ÿè®¸è¿˜ä¸æ˜¯æˆ‘ä»¬é¡µé¢çš„ç“¶é¢ˆã€‚\nåŸºç¡€ç¯å¢ƒ npm ã€nodejs å’Œ glup æ˜¯å¿…å¤‡çš„ï¼Œå®‰è£…è¿‡ç¨‹ï¼Œæ´‹æ–‡ä¸å¥½çš„è¯·è®¿é—® http://cnodejs.org\nnpm é»˜è®¤å®‰è£…ç‰ˆæœ¬ä¸æ˜¯3çš„ï¼Œå¯ä»¥é€šè¿‡å‘½ä»¤æ¥å‡çº§åˆ°3ï¼šnpm install -g npm@3\nå½“æˆ‘ä»¬çš„åŸºæœ¬ç¯å¢ƒ OK åï¼Œè¿˜è¦ç¡®å®šä¸€ä»¶äº‹ï¼Œä½ å¯ä»¥è®¿é—® githubï¼Œ å¦‚æœä¸è¡Œï¼Œé‚£å°±æƒ³åŠæ³•ï¼Œåæ­£å¿…é¡»è¦ä¸Šã€‚\nå¼€å§‹   clone å®çš“çš„åº“\ngit clone https://github.com/ninghao/semantic-course ninghao-semantic\n  è¿›å…¥ç›®å½•ï¼Œåˆå§‹åŒ–\ncd ninghao-semantic\nnpm init\n  ä¸€è·¯å›è½¦ï¼Œç„¶å,å®‰è£… Semantic-UI:\nnpm install semantic-ui \u0026ndash;save\n  å®‰è£…å®Œåè®¾ç½®éƒ¨åˆ†ä¸€è·¯å›è½¦ï¼Œç„¶å è¿›å…¥ semantic ç›®å½•ï¼š\ncd semantic\ngulp build\n  Gulp ä»»åŠ¡  gulpfile.js é…ç½®æ–‡ä»¶åœ¨semantic/gulpfile.jsï¼Œå…·ä½“çš„å‘½ä»¤å®é™…ä¸Šæ˜¯åœ¨semantic/tasksé‡Œã€‚    ç”Ÿæˆ js æ–‡ä»¶ï¼š\n//ç”Ÿæˆåœ¨ dist ç›®å½•ä¸‹é¢\ngulp build-javascript\n  ç”Ÿæˆ css æ–‡ä»¶ï¼š\ngulp build-css\n   ä¿®æ”¹ Google å­—ä½“ä¸ºå›½å†…360æä¾›æœåŠ¡çš„å­—ä½“ï¼Œæ‰“å¼€semantic/src/theme.lessï¼Œä¿®æ”¹fonts.googleapis.comä¸ºfonts.useso.com\n  gulp ç›‘è§† ä¸ä¼šä¸»åŠ¨ç»“æŸï¼Œä¼šä¸€ç›´ç›‘è§† semantic ç›®å½•ï¼Œå°†ä¸€åˆ‡æ”¹å˜è‡ªåŠ¨ buildï¼š\ngulp watch\n ","permalink":"https://wedojava.github.io/posts/ninghao-semantic-study-01/","tags":["å®çš“ç½‘"," semantic"," UI"," ç¬”è®°"," notes"," å‰ç«¯"],"title":"è·Ÿç€å®çš“ç½‘å­¦ SemanticUI å­¦ä¹ ç¬”è®°(01)"},{"categories":["Linux"],"contents":"ä»Šå¤©ä¸ºä¸€å°è”æƒ³å®‰è£…ubuntuç³»ç»Ÿï¼Œç¡®å®æ‰‹é—²ï¼Œçœ‹Elementary OSéå¸¸æ¼‚äº®ï¼Œå°±æŠŠä¸€å°å¥½å¥½çš„æœºå­ç»™åšäº†ï¼Œäºæ˜¯è¢«å‘äº†ï¼Œä½†æ˜¯é—®é¢˜æœ€ç»ˆé€šè¿‡æˆ‘å¼ºå¤§çš„æœç´¢èƒ½åŠ›å’Œå®Œç¾çš„è§£å†³é—®é¢˜çš„æ€è·¯ï¼Œæœ€ç»ˆæå®šäº†ã€‚ä¸‹é¢è®°å½•ä¸‹ç»éªŒã€‚\né»‘å±åŸå›  å› ä¸ºæ˜¾å¡é©±åŠ¨é—®é¢˜ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œubuntuæ²¡æœ‰å¯¹ä¸ªåˆ«æ˜¾å¡æœ‰è¾ƒå¥½çš„æ”¯æŒã€‚\nè§£å†³æ–¹æ¡ˆ  å‚è€ƒé¡µé¢ï¼š\n   å®‰è£…ubuntué»‘å±é—®é¢˜çš„è§£å†³     Ubuntu 14.04 é»‘å±é—®é¢˜è§£å†³    å®˜æ–¹ï¼šMy computer boots to a black screen, what options do I have to fix it?    Elementary OS â€“ Black Screen and Blank Desktop error   ä¸Šé¢1å’Œ2æ˜¯å›½äººå†™çš„ï¼Œå›½è¯­ï¼Œ3å’Œ4æ˜¯æ´‹æ–‡ã€‚\næˆ‘è¿™é‡ŒæŠŠ4çš„è´´è¿™é‡Œï¼Œæˆ‘æ˜¯æŒ‰ç…§è¿™ä¸ªæå®šçš„ï¼Œæƒ³æ·±å…¥äº†è§£å†…å¹•ç„æœºåŸç†çš„ï¼Œå¯ä»¥çœ‹2å’Œ3.\næˆ‘æ˜¯æˆåŠŸäº†ï¼Œå½“ç„¶ä¸€èˆ¬è¿™ä¹ˆåšéƒ½æ²¡é—®é¢˜ã€‚ç¥ä½ æˆåŠŸï¼ï½\n  Create USB Linux install using YUMI â€“ Multiboot USB Creator - [LINK]\n  Boot up via USB\n  At Elementary OS menu, select TAB to edit the command line. remove \u0026ldquo;quiet\u0026rdquo; and replace with \u0026ldquo;nomodeset\u0026rdquo;\n  Proceed with normal installation\n  After installation, boot into Elementary OS and press CTRL+ALT+F1\n  Login using the credential created during installation\ncp /etc/default/grub /etc/default/grub.bak\nnano /etc/default/grub\n  Add â€œnomodesetâ€ to GRUBCMDLINELINUX_DEFAULT so it looks like this:\nGRUBDEFAULT=0 GRUBHIDDENTIMEOUT=0 GRUBHIDDENTIMEOUTQUIET=true GRUBTIMEOUT=5 GRUBDISTRIBUTOR=lsb_release -i -s 2\u0026gt; /dev/null || echo Debian GRUBCMDLINELINUXDEFAULT=â€œquiet splash nomodesetâ€ GRUBCMDLINE_LINUX=â€â€œ\n  Save by hitting Ctrl-O, then exit nano with Ctrl-X.\nsudo update-grub\n  reboot into the Elementary OS\n ","permalink":"https://wedojava.github.io/posts/ubuntu-black-screen/","tags":["linux"," ubuntu"," black"," screen"," é»‘å±"],"title":"Ubuntuå®‰è£…é»‘å±é—®é¢˜(ubuntu black screen)"},{"categories":["Git"],"contents":"å¦‚ä½•è®©ä½ çš„é¡¹ç›®å¯ä»¥åŠˆè…¿å‘¢?å¯ä»¥åŒæ—¶å‘ä¸¤ä¸ªä½ç½®pushå‘¢?å¦‚ä½•å®ç°githubå’Œcodingä¸Šä»£ç åŒæ­¥å‘¢? å…¶å®å°†ä»£ç åŒæ—¶æ”¾åˆ°GitHubå’ŒCodingä¸Šåœ¨æœ¬åœ°çœ‹æ¥,å°±æ˜¯éœ€è¦ä¸¤æ¬¡push,ä¸¤æ¬¡pushçš„åç§°ä¸åŒ ä¸€æ¬¡æ˜¯é»˜è®¤çš„,æ¯”å¦‚æˆ‘çš„ä¸»è¦åº“æ˜¯åœ¨GitHubä¸Šçš„origin master, ä¸€æ¬¡æ˜¯æŒ‡å®šçš„,æ¯”å¦‚æˆ‘çš„å¤‡ä»½åº“æ˜¯åœ¨Codingä¸Šçš„coding-copy master\nå…¶å®å¯¹äºè¿œç«¯åº“æ²¡ä»€ä¹ˆåŒºåˆ«çš„,éƒ½æ˜¯masterä¸»åˆ†æ”¯ä¸Š,åªæ˜¯åœ¨æœ¬åœ°ç«¯,éœ€è¦æ·»åŠ ä¸¤ä¸ªè¿œç«¯ç½¢äº†. æ­¥éª¤:\n  åˆ†åˆ«åœ¨GitHubå’ŒCodingä¸Šå»ºç«‹ä¸€ä¸ªé¡¹ç›®åç§°å¯ä»¥ç›¸åŒä¹Ÿå¯ä»¥ä¸åŒ.\n  å°†æœ¬åœ°ä»£ç æäº¤åˆ°GitHubä¸Šåˆšæ·»åŠ çš„é¡¹ç›®:\n  ## æ·»åŠ GitHubçš„è¿œç¨‹ä¸»æäº¤ git remote add origin git@github.com:username/newRepository.git ## æ·»åŠ å…¶ä»–è¿œç¨‹ç‰ˆæœ¬åº“å¤‡ä»½æäº¤,è¿™é‡Œä»¥Codingä¸ºä¾‹ git remote add coding-copy git@git.coding.net:username/newRepository.git æ­¤æ—¶å¦‚æœæŸ¥çœ‹ç‰ˆæœ¬åº“git remote showå¯ä»¥çœ‹åˆ°:\ncoding-copy origin æäº¤åˆ°ä¸¤ä¸ªç‰ˆæœ¬åº“:  ## è¿™ä¼šæäº¤åˆ°Githubç‰ˆæœ¬åº“:origin master git push -u origin ## è¿™å›æäº¤åˆ°codingç‰ˆæœ¬åº“:coding-copy master git push -u coding-copy æå®š,æ­¤æ—¶å»çœ‹çœ‹ç‰ˆæœ¬åº“æ€ä¹ˆæ ·äº†?åæ­£æˆ‘æ˜¯è¿™ä¹ˆæ“ä½œçš„æ²¡æœ‰é—®é¢˜,ä¸€åˆ‡æ­£å¸¸.\n","permalink":"https://wedojava.github.io/posts/git-push-and-backup-to-coding/","tags":["git"," push"," åŒæ­¥"," coding"," github"],"title":"GitåŠˆè…¿å®æˆ˜:è®©é¡¹ç›®è„šè¸©ä¸¤æ¡èˆ¹"},{"categories":["Linux"],"contents":"æ¯æ¬¡,æ¯æ¬¡è¦æ”¹ç³»ç»Ÿå˜é‡éƒ½è¦æŸ¥,éƒ½è¦æœç´¢,è¿™æ¬¡æˆ‘æŠŠè¿™ä¸ªçŸ¥è¯†ç‚¹è®°å½•ä¸‹æ¥,ä¸»è¦é’ˆå¯¹Linuxå’ŒMacç³»ç»Ÿ.\n  æœ€ç®€æ´,æœ€æœ‰æ•ˆ,ä¸´æ—¶çš„,æœ€é€šç”¨çš„æ˜¯:PATH=$PATH:/usr/local/bin; export PATH\n  å¤æ‚ä½†æ°¸ä¹…æœ‰æ•ˆçš„,éœ€è¦é‡å¯:\n   å¿«é€Ÿé…ç½®æ–¹æ³•:sudo vim ~/.bash_profile,æ·»åŠ ä¸€è¡Œ. è¿™é‡Œç¤ºä¾‹æ·»åŠ Composerçš„binç›®å½•åˆ°ç¯å¢ƒå˜é‡,:æ˜¯åˆ†éš”ç¬¦\n export PATH=\u0026#34;$HOME/.composer/vendor/bin:$PATH\u0026#34;  æƒ³äº†è§£åŸç†ç»†èŠ‚ç­‰ç»§ç»­å¾€ä¸‹çœ‹:\n  /etc/profile: å¯¹æ‰€æœ‰ç”¨æˆ·ç”Ÿæ•ˆï¼›\n æ­¤æ–‡ä»¶ä¸ºç³»ç»Ÿçš„æ¯ä¸ªç”¨æˆ·è®¾ç½®ç¯å¢ƒä¿¡æ¯,å½“ç”¨æˆ·ç¬¬ä¸€æ¬¡ç™»å½•æ—¶,è¯¥æ–‡ä»¶è¢«æ‰§è¡Œï¼›å¹¶ä»/etc/profile.dç›®å½•çš„é…ç½®æ–‡ä»¶ä¸­æœé›†shellçš„è®¾ç½®\n   /etc/bashrc: å¯¹æ‰€æœ‰ç”¨æˆ·ç”Ÿæ•ˆï¼›\n ä¸ºæ¯ä¸€ä¸ªè¿è¡Œ bash shell çš„ç”¨æˆ·æ‰§è¡Œæ­¤æ–‡ä»¶.å½“ bash shell è¢«æ‰“å¼€æ—¶,è¯¥æ–‡ä»¶è¢«è¯»å–\n   ~/.bash_profile: ä»…ä¼šå¯¹å½“å‰ç”¨æˆ·æœ‰æ•ˆï¼›\n æ¯ä¸ªç”¨æˆ·éƒ½å¯ä½¿ç”¨è¯¥æ–‡ä»¶è¾“å…¥ä¸“ç”¨äºè‡ªå·±ä½¿ç”¨çš„shellä¿¡æ¯,å½“ç”¨æˆ·ç™»å½•æ—¶,è¯¥æ–‡ä»¶ä»…ä»…æ‰§è¡Œä¸€æ¬¡\n   ~/.bashrc: ä»…ä¼šå¯¹å½“å‰ç”¨æˆ·æœ‰æ•ˆï¼›\n  è¯¥æ–‡ä»¶åŒ…å«ä¸“ç”¨äºä½ çš„bash shellçš„bashä¿¡æ¯,å½“ç™»å½•æ—¶ä»¥åŠæ¯æ¬¡æ‰“å¼€æ–°çš„shellæ—¶,è¯¥è¯¥æ–‡ä»¶è¢«è¯»å– ~/.bashrcä¸­è®¾å®šçš„å˜é‡(å±€éƒ¨)åªèƒ½ç»§æ‰¿/etc/profileä¸­çš„å˜é‡,ä»–ä»¬æ˜¯\u0026quot;çˆ¶å­\u0026quot;å…³ç³»     å¸¸ç”¨çš„ç¯å¢ƒå˜é‡:   PATH å†³å®šäº†shellå°†åˆ°å“ªäº›ç›®å½•ä¸­å¯»æ‰¾å‘½ä»¤æˆ–ç¨‹åº HOME å½“å‰ç”¨æˆ·ä¸»ç›®å½• HISTSIZEã€€å†å²è®°å½•æ•° LOGNAME å½“å‰ç”¨æˆ·çš„ç™»å½•å HOSTNAMEã€€æŒ‡ä¸»æœºçš„åç§° SHELL å½“å‰ç”¨æˆ·Shellç±»å‹ LANGUGE è¯­è¨€ç›¸å…³çš„ç¯å¢ƒå˜é‡ï¼Œå¤šè¯­è¨€å¯ä»¥ä¿®æ”¹æ­¤ç¯å¢ƒå˜é‡ MAILã€€å½“å‰ç”¨æˆ·çš„é‚®ä»¶å­˜æ”¾ç›®å½• PS1ã€€åŸºæœ¬æç¤ºç¬¦ï¼Œå¯¹äºrootç”¨æˆ·æ˜¯#ï¼Œå¯¹äºæ™®é€šç”¨æˆ·æ˜¯$ ","permalink":"https://wedojava.github.io/posts/system-path-edit/","tags":["linux"," path"," ç¯å¢ƒå˜é‡"],"title":"ä¿®æ”¹ç³»ç»Ÿç¯å¢ƒå˜é‡"},{"categories":["Mac"],"contents":"Made iTerm2 lovely and amazing ä¸ºäº†è®©æˆ‘çš„Macçš„ç»ˆç«¯æ›´æ¼‚äº®,æˆ‘ç»“ç»“å®å®çš„ç»å†äº†ä¸€ç•ªæŠ˜è…¾,ä¹‹å‰ä¸€ç›´è¢«å¡åœ¨ä¹±ç çš„äº‹æƒ…ä¸Šäº†,ä»Šå¤©è§£å†³äº†,è¿™é‡Œè®°å½•ä¸‹ç»éªŒ. æœ¬æ–‡é€‚ç”¨äºMac OSXç³»ç»Ÿ,Linuxç³»ç»Ÿä¹Ÿå¯ä»¥,åŠæ³•éƒ½æ˜¯ä¸€æ ·çš„.\nè¿™æ˜¯æˆ‘çš„æ ·å¼,ä½ å–œæ¬¢çš„è¯å¯ä»¥ç»§ç»­å¾€ä¸‹çœ‹.\né¦–å…ˆ,è¯·ç¡®å®š,ä½ çš„ç»ˆç«¯å·²ç»å®‰è£…å¥½äº†oh-my-zsh,å®‰è£…å®ƒçš„å‰ææ˜¯å·²ç»å®‰è£…äº†zsh,è¿™äº›éƒ½å¯ä»¥åœ¨è¿™äº›ç½‘ç«™å¾—åˆ°å¸®åŠ©:\nå®ƒçš„å®˜ç½‘æ˜¯:http://ohmyz.sh , GItHub: https://github.com/robbyrussell/oh-my-zsh/\nå®‰è£…è¿‡ç¨‹ä¸è¯´äº†,è¿™é‡Œä¸»è¦å°†åº”ç”¨çš®è‚¤åçš„å›¾æ ‡ä¹±ç é—®é¢˜,åŸºç¡€é—®é¢˜,è¯·é˜…è¯»ä¸Šé¢ä¸¤ä¸ªåœ°å€çš„å†…å®¹.\nå®‰è£…å®Œæ¯•å,ä½ çš„å½“å‰ç”¨æˆ·ç›®å½•ä¸‹åº”è¯¥æœ‰è¿™æ ·çš„æ–‡ä»¶ç»“æ„:\nè¾“å…¥ls ~/.oh-my-zsh/å‘½ä»¤,å¾—åˆ°:\nMIT-LICENSE.txt custom oh-my-zsh.sh themes README.markdown lib plugins tools cache log templates æ³¨æ„,æ ·å¼æ–‡ä»¶éƒ½æ”¾åœ¨themesæ–‡ä»¶å¤¹é‡Œé¢.\nåœ¨è¿™é‡Œå¯ä»¥çœ‹åˆ°æ ·å¼çš„é¢„è§ˆ:https://github.com/robbyrussell/oh-my-zsh/wiki/Themes\nç„¶åå¾ˆå¤šç‚«é…·çš„æ ·å¼éƒ½éœ€è¦powerlineçš„æ”¯æŒ,å®‰è£…å®Œæ¯•å,è¿›å…¥çœŸæ­£è®©äººéƒé—·çš„ä¹±ç ç¯èŠ‚:\nå…¶å®,è¿™å¯¹äºæå®šçš„äººè€Œè¨€,çœŸçš„æ˜¯éå¸¸ç®€å•çš„~~ æˆ‘å½“æ—¶å®‰è£…å¥½äº†å„ç§,å®˜æ–¹æ–‡æ¡£ä¹Ÿå„ç§çœ‹,ç»“æœå°±æœ‰ä¸€ä»¶äº‹æ²¡åš,æˆ‘æ€ä¹ˆéƒ½æ²¡æƒ³åˆ°é—®é¢˜ä¼šå‡ºåœ¨é‚£é‡Œ!!\næˆ‘ä»¬åº”è¯¥çŸ¥é“powerlineçš„å­—ä½“æ˜¯æ”¾åœ¨è¿™é‡Œçš„:https://github.com/powerline/fonts\næˆ‘ä»¬ä¹ŸçŸ¥é“è¿è¡Œ./install.shå¯ä»¥å®‰è£…,ä½†æ˜¯æˆ‘ä»¬æ˜¯å¦çŸ¥é“,è¿è¡Œå®Œå,å“ªäº›.ttfæ–‡ä»¶ä¹Ÿè®¸æ˜¯æ²¡æœ‰å®Œæ•´å®‰è£…çš„? æˆ‘è¯•ç€å°†powerlineçš„githubä¸Šçš„å†…å®¹cloneä¸‹æ¥,ç„¶åå°†é‡Œé¢çš„å­—ä½“å®‰è£…äº†ä¸€ä¸‹,ä¼šæœ‰åˆ«äºä¸€èˆ¬çš„å­—ä½“,ä¼šæœ‰for powerlineçš„åç§°åç¼€, è¿™å°±æ˜¯çªç ´å£,çªç ´ä¹±ç çš„çªç ´å£å•Š,å»ºè®®é€‰æ‹©å¥½å–œæ¬¢çš„å­—ä½“å,æ‰‹åŠ¨å®‰è£…ä¸‹.ttfå­—ä½“\nè¿™äº›éƒ½æå®šäº†,ä½ ä»¥ä¸ºä½ çš„ç»ˆç«¯å·²ç»å¥½äº†ä¹ˆ?No!ä½ è¿˜éœ€è¦è°ƒæ•´ä½ çš„ç»ˆç«¯çš„è®¾ç½®,å°†å­—ä½“è®¾ç½®ä¸ºä½ åˆšæ‰å®‰è£…çš„æœ‰for powerlineåç¼€çš„å­—ä½“.\næ­¤æ—¶,æ•´ä¸ªä¸–ç•Œæ¸…æœ—äº†,æ²¡æœ‰ä¹±ç äº†\næ€»ç»“  éœ€è¦å®Œæˆä½ èƒ½å®Œæˆçš„å·¥ä½œ,å¦åˆ™ä½ çœ‹ä¸æ‡‚æˆ‘åœ¨è¯´ä»€ä¹ˆ,æˆ‘é€‰æ‹©çš„é£æ ¼æ˜¯:avit, Gitster, robbyrussell, miloshadzic, powerline, ç›®å‰ç”¨çš„æœ€å¤šçš„æ˜¯avit æ‰‹åŠ¨å®‰è£…å–œæ¬¢çš„,å¸¦æœ‰for powerlineåç¼€çš„å­—ä½“ è°ƒæ•´è®¾ç½®ä½ çš„ç»ˆç«¯å­—ä½“ å¦‚æœéœ€è¦çš„æ¢,å¯ä»¥åœ¨é€‰æ‹©ä¸€æ¬¾åˆé€‚çš„é…è‰²æ–¹æ¡ˆ,æˆ‘çš„é€‰æ‹©|æ›´å¤šé€‰æ‹©  èµ„æº  æˆ‘é€‰æ‹©çš„å­—ä½“:SourceCodePro  å¦‚æœä½ è¢«å¢™äº†,ä¸Šè¿°åœ°å€ä½ æ‰“ä¸å¼€çš„,ä¸€åˆ‡ä¸œè¥¿éƒ½æ˜¯å¦„è°ˆ,ä¸å¦‚å…ˆå­¦ä¼šå¦‚ä½•ç¿»è¿‡å±€åŸŸç½‘çœ‹ä¸–ç•Œ å®åœ¨æƒ³è¦è¿™ä¸ªå­—ä½“,åœ¨è¿™é‡Œä¸‹è½½:æœ¬ç«™ä¸‹è½½   æˆ‘é€‰æ‹©çš„ç»ˆç«¯é…è‰²:philduffy/seti-iterm  å®åœ¨æƒ³ç”¨è¿™ä¸ªé…è‰²,åœ¨è¿™é‡Œä¸‹è½½:æœ¬ç«™ä¸‹è½½,ä¸‹è½½å,åœ¨ç»ˆç«¯è®¾ç½®é‡Œå¯¼å…¥å³å¯.   ","permalink":"https://wedojava.github.io/posts/made-iterm2-lovely-and-amazing/","tags":["iterm"," powerline"," ä¹±ç "," Mac"],"title":"è®©ç»ˆç«¯æ›´ç¾ä¸½åŠ¨äºº-è§£å†³ä¹±ç é—®é¢˜"},{"categories":["ç¿»å¢™"],"contents":"èµ·å› :\n æˆ‘ä¸­åå¤§åœ°å¤§å±€åŸŸç½‘é£äº‘å˜å¹»,ç›®å‰git push git pull git cloneç­‰,å•åéœ€è¦è®¿é—®çœŸäº’è”ç½‘çš„æ“ä½œæ€»è®©äººç—›å¿ƒ!ç—›å½»å¿ƒæ‰‰~~ æ€ä¹ˆåŠ?shadowsockså¯ä»¥è®©æˆ‘è®¿é—®çœŸäº’è”ç½‘,ä½†æ˜¯æ¯æ¬¡å‘½ä»¤è¡Œéƒ½ä¼šé‡åˆ°ä¸€äº›é—®é¢˜,å¼€å¯å…¨å±€ä»£ç†ä¾ç„¶æ— æ³•git åˆ° GitHub.æ€ä¹ˆåŠ?ä¹‹å‰è¯•è¿‡tsocks,ç°åœ¨,æˆ‘çš„ä½“éªŒæ˜¯,å®ƒåªèƒ½æ”¯æŒwget,ä¸èƒ½git ä¸ºäº†æ–¹ä¾¿å¿«æ·è§£å†³è¿™ä¸ªé—®é¢˜,è¿™é‡Œæ¨èä¸‹ProxyChains-NG,ä¸‹é¢å…·ä½“æ“ä½œ.\n é¡¹ç›®ä¸»é¡µï¼šhttps://github.com/rofl0r/proxychains-ng\nå®˜æ–¹è¯´æ˜ï¼š\n proxychains ng (new generation) - a preloader which hooks calls to sockets in dynamically linked programs and redirects it through one or more socks/http proxies. continuation of the unmaintained proxychains project.\n å‚è€ƒåšæ–‡: http://www.dreamxu.com/proxychains-ng/\nå®‰è£…é…ç½® ä½¿ç”¨ Homebrew å®‰è£…\nbrew install proxychains-ng ç¼–è¾‘é…ç½®æ–‡ä»¶ vim /usr/local/etc/proxychains.conf\nåœ¨ [ProxyList] ä¸‹é¢ï¼ˆä¹Ÿå°±æ˜¯æœ«å°¾ï¼‰åŠ å…¥ä»£ç†ç±»å‹ï¼Œä»£ç†åœ°å€å’Œç«¯å£ ä¾‹å¦‚ä½¿ç”¨ TOR ä»£ç†ï¼Œæ³¨é‡Šæ‰åŸæ¥çš„ä»£ç†å¹¶æ·»åŠ \nsocks5 127.0.0.1 1080 æ³¨æ„,è¿™é‡Œçš„ç«¯å£å·æ ¹æ®ä½ è‡ªå·±çš„å†³å®š,æ¯”å¦‚æˆ‘ç”¨çš„shadowsocks,æœ¬åœ°ç«¯å£æ˜¯1080,é‚£è¿™é‡Œå°±æ˜¯1080\nå¦‚æœæ‰€åœ¨çš„ç½‘ç»œå¾ˆå¤æ‚ï¼Œå¯èƒ½éœ€è¦åœ¨é…ç½®æ–‡ä»¶ä¸­å¯ç”¨ dynamic_chain - æŒ‰ç…§åˆ—è¡¨ä¸­å‡ºç°çš„ä»£ç†æœåŠ¡å™¨çš„å…ˆåé¡ºåºç»„æˆä¸€æ¡é“¾ï¼Œå¦‚æœæœ‰ä»£ç†æœåŠ¡å™¨å¤±æ•ˆï¼Œåˆ™è‡ªåŠ¨å°†å…¶æ’é™¤ï¼Œä½†è‡³å°‘è¦æœ‰ä¸€ä¸ªæ˜¯æœ‰æ•ˆçš„ ç„¶ååœ¨ [ProxyList] ä¸‹æ·»åŠ å¤šä¸ªä»£ç†\né»˜è®¤æ˜¯ï¼š strict_chain - æŒ‰ç…§åé¢åˆ—è¡¨ä¸­å‡ºç°çš„ä»£ç†æœåŠ¡å™¨çš„å…ˆåé¡ºåºç»„æˆä¸€æ¡é“¾ï¼Œè¦æ±‚æ‰€æœ‰çš„ä»£ç†æœåŠ¡å™¨éƒ½æ˜¯æœ‰æ•ˆçš„\nä½¿ç”¨ åœ¨å‘½ä»¤çš„å‰é¢åŠ ä¸Šproxychains4å³å¯\nproxychains4 git push OSX 10.11å®‰è£…å¤±è´¥ï¼Ÿ  2015-12-05æ›´æ–°\n ç”±äº OSX 10.11 çš„ SIP ç‰¹æ€§ï¼Œä¼šå¯¼è‡´ proxychains-ng å®‰è£…å¤±è´¥ï¼Œè¿™é‡Œæœ‰ä¸‰ç§è§£å†³æ–¹æ³•ï¼š\n å¦‚æœæ˜¯ä½¿ç”¨ brew install proxychains-ng å®‰è£…çš„è¯ï¼Œç”±äºæ²¡æœ‰å†™å…¥æƒé™ï¼Œå¿…é¡»æš‚æ—¶å…³é—­ SIPï¼Œå®‰è£…æˆåŠŸä¹‹åå†æ‰“å¼€ SIPã€‚å…·ä½“æ–¹æ³•è§ http://osxdaily.com/2015/10/05/disable-rootless-system-integrity-protection-mac-os-x/ å¦‚æœä¸ä½¿ç”¨ brew install çš„è¯ï¼Œå¯ä»¥ clone æºç è‡ªå·±ç¼–è¯‘å®‰è£…ï¼Œå…³é”®æ˜¯é¿å…å®‰è£…åˆ° usr ç›®å½•ï¼ˆæ— æ³•å†™å…¥ï¼‰ï¼Œæ‰‹åŠ¨æŒ‡å®šå†™å…¥ç›®å½•ï¼Œå¦‚ ./configure --prefix=$HOME/.local --sysconfdir=/etcï¼Œetc æœ‰å†™å…¥æƒé™ä¸å¿…ä¿®æ”¹ï¼Œè®°å¾—æ·»åŠ ç¯å¢ƒå˜é‡å³å¯ã€‚ éœ€è¦å®‰è£… xcode7 ï¼Œ ç„¶åæ‰§è¡Œ xcode-select -s /Applications/Xcode-beta.app/Contents/Developer ï¼Œå°±èƒ½ç”¨ brew å®‰è£… proxychains äº†ï¼Œå¯èƒ½ä»¥å xcode7 æ­£å¼ç‰ˆæœ¬å‡ºæ¥ï¼Œè¦è®°å¾—æ”¹å›æ¥ åˆæ­¤ä¹‹å¤–ï¼ŒOSX è‡ªå¸¦çš„ gitï¼Œcurl ç­‰ç‰ˆæœ¬è¿‡ä½ï¼Œæ— æ³•æ”¯æŒ proxychains-ngï¼Œè¯·æ‰‹åŠ¨æ›´æ–°ç‰ˆæœ¬ã€‚ ","permalink":"https://wedojava.github.io/posts/proxychains-ng-4-osx-setting/","tags":["proxychains"," shadowsocks"," ç¿»å¢™"," ä»£ç†"," OSX"," Mac"," git"],"title":"Mac OSX ç³»ç»Ÿä¸‹é€šè¿‡ ProxyChains-NG å®ç°ç»ˆç«¯ï¼ˆå‘½ä»¤è¡Œï¼‰ç¿»å¢™"},{"categories":["ç¿»å¢™"],"contents":"Shadowsocks Pythonæºç (zipåŒ…,taråŒ…)è§£å‹å,è¿›å…¥ç›®å½•è¿è¡Œpython setup.py\nOS X ä¸º OS X 10.8+ è®¾è®¡çš„ Shadowsocks å›¾å½¢ç•Œé¢ï¼Œå¯åŠ¨åå¯è‡ªåŠ¨å®ç°å…¨å±€ç¿»å¢™ï¼Œå¹¶æ ¹æ® GFWList åŒºåˆ†å¢™å†…å¤–æµé‡ã€‚\nä¸‹è½½ https://sourceforge.net/projects/shadowsocksgui/ å»Coding.netä¸‹è½½\nåŸºæœ¬ä½¿ç”¨  è§£å‹åç§»åŠ¨åˆ°åˆé€‚ç›®å½•ä¸‹ï¼Œç„¶åå¯åŠ¨ã€‚ å¦‚æœå¼¹å‡ºç³»ç»Ÿå®‰å…¨æç¤ºï¼Œè¯·é€‰ã€Œå…è®¸ã€ã€‚ Shadowsocks ä¼šè‡ªåŠ¨è®¾ç½®ä¸ºå…¨å±€ PAC ä»£ç†ï¼ŒChromeã€Safariã€Twitter éƒ½å¯ä»¥æ­£å¸¸ä½¿ç”¨äº†ã€‚ å¦‚æœä½ å¼€å¯äº†å…¶å®ƒç¿»å¢™å·¥å…·ï¼Œè¯·å…ˆå°†å®ƒä»¬å…³é—­ã€‚å¦‚æœä½ ä½¿ç”¨äº† Chrome æ‰©å±•ç¨‹åº SwitchySharpï¼Œè¯·æŠŠå®ƒçš„æ¨¡å¼è®¾ç½®ä¸ºã€Œä½¿ç”¨ç³»ç»Ÿä»£ç†è®¾ç½®ã€ã€‚ å¯åŠ¨åå¯ä»¥åœ¨èœå•æ å³è¾¹æ‰¾åˆ° Shadowsocks å›¾æ ‡ã€‚  é«˜çº§ä½¿ç”¨  å¦‚æœä½ ä¸æƒ³ç”¨å…¨å±€ PAC ä»£ç†ï¼Œæƒ³é…åˆ SwitchySharp ç­‰æ’ä»¶ä½¿ç”¨ï¼Œå¯åœ¨èœå•æ å›¾æ ‡é‡Œç‚¹å…³é—­ Shadowsocksã€‚å…³é—­åä»£ç†ä»ä¼šè¿è¡Œåœ¨ 127.0.0.1:1080 ä¸Šï¼Œä»£ç†ç±»å‹ä¸º SOCKS v5ã€‚ä¹‹æ‰€ä»¥ä¸å«å…³é—­ PACï¼Œå› ä¸ºå¾ˆå¤šäººä¸æ‡‚ä»€ä¹ˆæ˜¯ PACã€‚å†™å…³é—­ Shadowsocks æ›´å®¹æ˜“ç†è§£ã€‚ é»˜è®¤ä½¿ç”¨å…¬å…±æœåŠ¡å™¨ï¼Œå¯ä»¥åœ¨èœå•æ å›¾æ ‡é‡Œé…ç½®è‡ªå®šä¹‰æœåŠ¡å™¨ã€‚ åˆ‡æ¢æœåŠ¡å™¨åï¼Œå› ä¸º Chrome ä¿æŒé•¿è¿æ¥ï¼Œå¯èƒ½éœ€è¦é‡å¯æµè§ˆå™¨æ‰èƒ½ç”Ÿæ•ˆã€‚ä¹Ÿå¯ä»¥é‡å¯ ShadowsocksX æ¥å¼ºåˆ¶ Chrome é‡æ–°è¿æ¥ã€‚ å¯ä»¥åœ¨èœå•é‡Œç‚¹ ç¼–è¾‘ PAC æ¥ä¿®æ”¹ PAC æ–‡ä»¶ï¼Œæ–‡ä»¶ä¿å­˜åä¼šè‡ªåŠ¨é€šçŸ¥æµè§ˆå™¨é‡æ–°åŠ è½½ã€‚æ¨èç”¨ Xcode ç­‰ä»£ç ç¼–è¾‘å™¨æ¥ç¼–è¾‘ã€‚å¦‚æœç”¨ç³»ç»Ÿè‡ªå¸¦çš„æ–‡æœ¬ç¼–è¾‘å™¨ï¼Œå¼•å·å¯èƒ½è‡ªåŠ¨åŠè§’å˜å…¨è§’ï¼Œéœ€è¦æ’¤é”€ä¸€ä¸‹å›åˆ°åŠè§’ã€‚ å¯ä»¥åœ¨èœå•æ å›¾æ ‡é‡Œæ‰“å¼€æ§åˆ¶å°æŸ¥çœ‹æ—¥å¿—ï¼Œå…¶ä¸­ ShadowsocksX: å¼€å¤´çš„æ˜¯ Shadowsocks çš„æ—¥å¿—ã€‚  Linux Fedora ç›®å‰æ”¯æŒRHEL 7, Fedora 21, 22, rawhide\n ä½¿ç”¨dnfæ·»åŠ shadowsocksçš„Copræºï¼š sudo dnf copr enable librehat/shadowsocks ä½¿ç”¨dnfæ›´æ–°cacheå¹¶å®‰è£…ï¼š  sudo dnf update sudo dnf install shadowsocks-qt5 å¦‚æœä½¿ç”¨ä¼ ç»Ÿçš„yumåŒ…ç®¡ç†å·¥å…·çš„è¯ï¼Œéœ€è¦ä»Coprä¸‹è½½ç›¸åº”ç‰ˆæœ¬çš„repoæ–‡ä»¶æ”¾åˆ°/etc/yum.repos.d/ä¸‹ï¼Œç„¶åé€šè¿‡yumå®‰è£…ï¼š\nsudo yum update sudo yum install shadowsocks-qt5 Ubuntu é€šè¿‡PPAæºå®‰è£…ï¼Œä»…æ”¯æŒUbuntu 14.04æˆ–æ›´é«˜ç‰ˆæœ¬ã€‚\nsudo add-apt-repository ppa:hzwhuang/ss-qt5 sudo apt-get update sudo apt-get install shadowsocks-qt5 Debian å¯ä»¥å°è¯•å®‰è£…Ubuntu PPAæºçš„debåŒ…ï¼Œå¦‚æœä¸è¡Œï¼Œè¯·è‡ªè¡Œç¼–è¯‘ï¼ˆdpkg-buildpackage -uc -us -bï¼‰ï¼Œåœ¨ä¸Šçº§ç›®å½•ä¸­å°†ä¼šç”Ÿæˆshadowsocks-qt5çš„debåŒ…ï¼Œé€šè¿‡sudo dpkg -iæ¥å®‰è£…ã€‚\næ³¨æ„ï¼šä½ å¯èƒ½éœ€è¦å®‰è£…å¥½çš„ä¾èµ–å…³ç³»ï¼š\nsudo apt-get install qt5-qmake qtbase5-dev libqrencode-dev libqtshadowsocks-dev libappindicator-dev libzbar-dev libbotan1.10-dev\nArch AURï¼Œç”±ykelvisç»´æŠ¤\nGentoo gentoo-zhï¼Œç”±microcaiç»´æŠ¤\nwindows ç›´æ¥ä¸‹è½½å®¢æˆ·ç«¯:\nss-qt5-v2.4.1-win32 ss-qt5-v2.4.1-win64 éœ€å®‰è£….Net4.0çš„CSharpç‰ˆæœ¬\n","permalink":"https://wedojava.github.io/posts/shadowsocks-bakup/","tags":["shadowsocks"," ç¿»å¢™"," GFW"],"title":"shadowsocksä½¿ç”¨å¸®åŠ©å’Œä¸‹è½½"},{"categories":["Tickets"],"contents":"è®°å½•ä¸‹å¹³æ—¶å¸¸ç”¨åˆä¸æ­¢ä¸€æ¬¡å¿˜è®°çš„\u0026hellip;\u0026hellip; Git  git remote remove origin git remote add origin git@github.com:wedojava/myPythonStudy.git git push -u origin master git pull --allow-unrelated-histories  fix: git pull =\u0026gt; fatal: refusing to merge unrelated histories     OS   Linux ç³»ç»Ÿçš„ 80 ç«¯å£è¢«å ç”¨äº†ï¼Ÿè¿è¡Œï¼š sudo fuser -k 80/tcp\n åˆ—å‡ºè¿›ç¨‹çš„è¯¦ç»†ä¿¡æ¯ï¼Œè€Œä¸ä»…ä»…æ˜¯è¿›ç¨‹idï¼š -v å«ä¹‰æ˜¯:verbose output,è¯¦ç»†çš„è¾“å‡ºä¿¡æ¯ åˆ—å‡ºè¿›ç¨‹æ‰€å±çš„ç”¨æˆ·ï¼š-u å«ä¹‰æ˜¯:display user IDsï¼Œæ˜¾ç¤ºç”¨æˆ·id æ€æ­»æ‰€æœ‰æ­£åœ¨è®¿é—®æŒ‡å®šæ–‡ä»¶çš„è¿›ç¨‹ï¼š -k å«ä¹‰: kill processes accessing the named file åˆ—å‡º fuser æ‰€çŸ¥çš„ä¿¡å·ï¼š -l    windowsç³»ç»Ÿç¼–è¾‘æ–‡ä»¶:C:\\Windows\\System32\\Drivers\\etc\\hosts\n  ç”Ÿæˆéšæœºå­—ç¬¦ä¸²:openssl rand -base64 12 =\u0026gt; mLIZ5/4nlHTqjEM5\n  è¿™ä¸ª-base64è¿˜å¯ä»¥æ¢æˆå…¶ä»–å‚æ•°\n   Coding  PHPæ˜¾ç¤ºæ‰€æœ‰é”™è¯¯  // Show all errors error_reporting(E_ALL);  PHPæ¢è¡Œ:PHP_EOL:  echo \u0026#34;do sth\u0026#34;.PHP_EOL;  æ‰“åŒ…è™šæ‹Ÿæœºå…ˆåˆ é™¤ç½‘å¡æ•°æ®   è¦å¯¼å‡ºæˆ–æ‰“åŒ…è™šæ‹Ÿæœºåº”è¯¥å…ˆæ¸…ç†è™šæ‹Ÿæœº,å¦‚æœä¸åšä¸‹é¢çš„æ“ä½œ,å½“è™šæ‹Ÿæœºè¢«å¯¼å…¥åˆ°å…¶ä»–ä¸» æœºä¸Šæ—¶ä¼šåœ¨ç½‘ç»œé…ç½®æ–¹é¢é‡åˆ°å¾ˆéº»çƒ¦çš„é—®é¢˜,å…·ä½“è¡¨ç°ä¸ºæ€ä¹ˆé…ç½®ç½‘ç»œè®¾ç½®éƒ½æ— æ•ˆæœ,åŸå›  æ˜¯è¿™ä¸ªæ–‡ä»¶é‡ŒåŒ…å«äº†å®¿ä¸»ç”µè„‘çš„ç½‘å¡ç­‰ç¡¬ä»¶ä¿¡æ¯,æ¯”å¦‚Macåœ°å€,æˆ‘æ›¾ç»é‡åˆ°è¿‡è¿™æ ·çš„é—®é¢˜, æ€ä¹ˆè®¾ç½®é…ç½®æ–‡ä»¶é‡Œçš„macå’ŒIPç­‰ä¿¡æ¯éƒ½ä¸å…¶ä½œç”¨,åæ¥åœ¨é—®é¢˜è™šæ‹Ÿæœºä¸Šæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤åˆ  é™¤äº†è€æ–‡ä»¶é‡å¯æœºå™¨,é—®é¢˜æ‰å¾—åˆ°è§£å†³,æ‰€ä»¥æœ€å¥½æ˜¯åœ¨å¯¼å‡ºå‰å°†è¯¥æ–‡ä»¶åˆ é™¤,å…·ä½“çš„å‘½ä»¤:\n sudo rm -rf /etc/udev/rules.d/70-persistent-net.rules   lorem:Lorem ipsum(ä¹±æ•°å‡æ–‡)\n  g++: command not foundæˆ–g++ï¼šå‘½ä»¤æœªæ‰¾åˆ°ï¼Œæ€ä¹ˆåŠï¼ŸInstall the suite of development tools first. Then go back to compile the software è¿è¡Œè¿™ä¸ªå‘½ä»¤ï¼šyum groupinstall 'Development Tools'ï¼Œ The Development Tools package includes the core development tools like automake, gcc, perl, python, flex, make, gdb, bison, and many more.Update: For Fedora 20 (at least), you\u0026rsquo;ll additionally need to install gcc-c++.\n  MySQL\n ä»å…¶ä»–ç»ˆç«¯ç™»å½•MySQLæœåŠ¡å™¨:  mysql -uUSERNAME -p -h HOSTNAME   æŸ¥è¯¢æ•°æ®åº“ç‰ˆæœ¬:  mysql\u0026gt; SHOW VARIABLES LIKE \u0026quot;version\u0026quot;;   Show Database Users:  mysql\u0026gt; SELECT User,Host FROM mysql.user;   Show available Databases:  mysql\u0026gt; SHOW DATABASES;   Show ownCloud Tables in Database:  mysql\u0026gt; USE DatabaseName; SHOW TABLES;       ç½‘å€æ”¶è— é˜¿é‡Œæº\nhttps://iuscommunity.org\nhttps://packagist.org\nhttp://segmentfault.com\nhttp://www.phpcomposer.com\nè€Dåšå®¢çš„hostsæ–‡ä»¶æ›´æ–°\næ¥è¿™é‡Œå­¦ä¹ ï¼šhttps://laracasts.com\n","permalink":"https://wedojava.github.io/posts/alwaysforgottentickets/","tags":["tickets"," php"," linux"," windows"],"title":"AlwaysForgottenTickets"},{"categories":["Hexo"],"contents":"å‚è€ƒä»¥ä¸‹å†…å®¹,æ„Ÿè°¢åŸä½œè€…,è½¬è½½ç•™ä¸ªé“¾æ¥:\n Berryçš„åšå®¢: å·²æ¶ˆå¤±\u0026hellip;\u0026hellip; æ·»åŠ æ–°ç”¨æˆ·,SSHè®¾ç½®,å‚è€ƒäº†Linodeå®˜æ–¹å¸®åŠ©:Securing Your Server\n ä¸¤ç§æ–¹æ³•\n  åœ¨VPSä¸Šæ‰§è¡Œhexo serverï¼Œå†é…ç½®Nginxåå‘ä»£ç†ï¼Œè®©blogçš„åŸŸåæŒ‡å‘http://localhost:4000ã€‚\n  åœ¨æœ¬åœ°ç”Ÿæˆé™æ€æ–‡ä»¶ï¼ŒæŠŠé™æ€æ–‡ä»¶éƒ¨ç½²åˆ°VPSä¸Šï¼Œç”¨Nginxç›´æ¥åšWebæœåŠ¡ã€‚(å—¯,æˆ‘å–œæ¬¢è¿™ç§,å°±ç”¨è¿™ç§å§)\n  Nginx é…ç½® åœ¨Nginxä¸­æ–°å»ºè™šæ‹Ÿä¸»æœº,æˆ‘ç”¨çš„æ—¶linuxeyeçš„oneinstackåŒ…å®‰è£…çš„ç¯å¢ƒ,æ‰€ä»¥,æˆ‘çš„æ–°å»ºåªéœ€è¦sudo ./vhost.shå³å¯,ç„¶åå°†blogæ–‡ä»¶é€šè¿‡sftpæˆ–è€…scpä¸Šä¼ åˆ°ç½‘ç«™ç›®å½•.\nè‡ªåŠ¨éƒ¨ç½² è‡ªåŠ¨éƒ¨ç½²çš„æ„æ€æ˜¯,æ¯å½“æˆ‘ä»¬æ‰§è¡Œhexo då,æˆ‘ä»¬çš„ç½‘ç«™ä¿¡æ¯å°±å‘å¸ƒåˆ°æœåŠ¡å™¨ä¸Šçš„è™šæ‹Ÿç›®å½•é‡Œ.ä¸€èˆ¬çš„éƒ¨ç½²æ–¹å¼è¦ä¹ˆæ˜¯gitè¦ä¹ˆæ˜¯rsync,rsyncéœ€è¦æœ¬åœ°è®¡ç®—æœºå’ŒæœåŠ¡å™¨éƒ½å®‰è£…äº†rsync,ç„¶åæ˜¯ä¸€ç¿»é…ç½®,è¿™é‡Œæˆ‘ä»¬ç”¨æ›´æ–¹ä¾¿å¥½ç”¨çš„Gitæ¥å®ç°:\nGit å®‰è£…  è‹¥æ— ç‰¹æ®Šè¯´æ˜,æ‰€æœ‰å®‰è£…éƒ½åœ¨CentOS-7.1ä¸Šå®Œæˆ\n  æƒ³å®‰è£…git 1.Ã— ç‰ˆæœ¬,åœ¨VPSä¸Šè¾“å…¥sudo yum install git æƒ³å®‰è£…git 2.Ã— ç‰ˆæœ¬,åœ¨VPSä¸Šè¾“å…¥sudo yum install git2u  ç”ŸæˆSSHç§˜é’¥\nå¦‚æœæœ¬æœºæ˜¯linuxæˆ–è€…Mac OSé‚£å°±å¥½åŠäº†,å¦‚æœæ²¡æœ‰ç”Ÿæˆè¿‡sshç§˜é’¥å¯¹å¯è¾“å…¥ssh-keygen -t rsa -C \u0026quot;blog\u0026quot;ç„¶åä¸€è·¯å›è½¦,é—®å¯†ç çš„åœ°æ–¹å¯ä»¥ç•™ç©º,è¿™æ ·è¿™ä¸ªsshè¿æ¥å°±ä¸åœ¨è¯¢é—®å¯†ç äº†,å¦‚æœä½ è¾“å…¥äº†å¯†ç ,å¥–åŠ±sshè¿æ¥çš„æ—¶å€™æ˜¯è¦è¾“å…¥å¯†ç çš„.\nç„¶å,æˆ‘ä»¬å¯ä»¥åœ¨å½“å‰æ‰§è¡Œç”¨æˆ·çš„ç›®å½•ä¸‹æ‰¾åˆ°è¿™ä¸ªç›®å½•(éšè—çš„)cd ~/.ssh,ls -aå¯ä»¥çœ‹åˆ°æœ‰id_rsa,id_rsa.pubå’Œknown_hostsä¸‰ä¸ªæ–‡ä»¶,å…¶ä¸­id_rsa.pubæ˜¯å…¬é’¥.\næ³¨æ„: å¦‚æœä½ äº‹é€šè¿‡ssh-keygen -t rsa -C \u0026quot;blog\u0026quot;å‘½ä»¤æ–°å»ºçš„sshå¯†é’¥å¯¹,é‚£ä¹ˆç§˜é’¥å¯¹çš„åå­—åº”è¯¥æ˜¯blog, blog.pub.\nå¤šè¯´ä¸¤å¥,è€é¸Ÿè¯·ç»•è¡Œ,å…¬é’¥å°±æ˜¯ç»™åˆ«äººçš„,æ”¾åˆ«äººé‚£é‡Œ,ç§é’¥å¯ä»¥ç†è§£ä¸ºæ˜¯ä½ è¿™å°æœºå™¨çš„æŒ‡çº¹,æ‰€ä»¥æœåŠ¡å™¨ä¸Šçš„å½“å‰ç”¨æˆ·ç›®å½•ä¸‹çš„~/.ssh/authorized_keysæ–‡ä»¶é‡Œåº”å½“åŒ…å«ä½ çš„å…¬é’¥,è¿™æ ·ä½ SSHçš„æ—¶å€™,æœåŠ¡å™¨æ˜ç™½,å“¦,æˆ‘æœ‰ä½ çš„å…¬é’¥,ä½ çš„ç§é’¥å’Œå…¬é’¥é…å¯¹,è¯æ˜äº†ä½ æ˜¯è‡ªå·±äºº,å¯ä»¥è¿›å…¥ç³»ç»Ÿ\næ³¨æ„: authorized_keysæ–‡ä»¶ä¸ä¸€å®šæ˜¯å­˜åœ¨çš„,æ–°å»ºçš„æœåŠ¡å™¨ç”¨æˆ·ä¸‹é¢æ˜¯æ²¡æœ‰è¿™ä¸ªæ–‡ä»¶çš„,éœ€è¦è‡ªå·±touchè¿›å»,å¦‚æœå·²ç»æœ‰è¿™ä¸ªæ–‡ä»¶äº†,é‡Œé¢åº”è¯¥æœ‰å¾ˆå¤šè¡Œ,æ¯è¡Œä»£è¡¨ä¸€ä¸ªå¯ä»¥sshè¿æ¥çš„ä¸»æœºçš„å…¬é’¥.\næœåŠ¡å™¨ç«¯é…ç½®  æ–°å»ºç”¨æˆ·git:  sudo adduser git åˆ‡æ¢è‡³gitç”¨æˆ·:su git,ç„¶ååˆå§‹åŒ–gitç”¨æˆ·çš„ç¯å¢ƒ  cd ~ mkdir .ssh \u0026amp;\u0026amp; cd .SSH touch authorized_keys vim authorized_keys æŠŠblog.pub(åˆšæ‰æ–°å»ºçš„)æˆ–id_rsa.pubçš„å†…å®¹ç²˜è´´åˆ°authorized_keys\nåœ¨ç»ˆç«¯è¾“å…¥ssh git@your-ip-or-domain,å¦‚æœèƒ½è¿œç¨‹ç™»å½•è¯´æ˜æ²¡æœ‰é—®é¢˜äº†.å¦‚æœå‡ºé—®é¢˜äº†,è¯·è¯•è¯•çœ‹çœ‹è¿è¡Œ ll -a /home/git/, çœ‹çœ‹.sshç›®å½•çš„æ‹¥æœ‰è€…æ˜¯å¦æ˜¯git:git,å®åœ¨ä¸è¡Œå°±è¿è¡Œ:  chown -R git:git .ssh chmod 700 .ssh chmod 600 .ssh/authorized_keys ä¸ºé™æ€å†…å®¹æ–°å»ºä»“åº“:  cd ~ mkdir blog.git \u0026amp;\u0026amp; cd blog.git git init --bare æœ¬åœ°è®¾ç½®  è®¾ç½®gitç”¨æˆ·å  git config --global user.email \u0026#34;email@example.com\u0026#34; git config --global user.name \u0026#34;username\u0026#34; ä¿®æ”¹hexoé…ç½®æ–‡ä»¶é‡Œçš„deployé€‰é¡¹,git@12.34.56.78:åé¢è·Ÿçš„yournick/abcd.gitç›¸å½“äºæœåŠ¡å™¨ç›®å½•:/home/git/yournick/abcd.git/  deploy: type: git repo: git@12.34.56.78:younick/abcd.git,master è¿è¡Œhexo g hexo dï¼Œå¦‚æœä¸€åˆ‡æ­£å¸¸ï¼Œé™æ€æ–‡ä»¶å·²ç»è¢«æˆåŠŸçš„pushåˆ°äº†blogçš„ä»“åº“é‡Œï¼Œå¦‚æœå‡ºç°appears not to be a git repoçš„é”™è¯¯ï¼Œåˆ é™¤hexoç›®å½•ä¸‹çš„.deployåå†æ¬¡hexo g hexo då°±å¯ä»¥äº†  Git hooks å¦‚æœä½ ä¸Šé¢éƒ½æ‰§è¡ŒæˆåŠŸäº†,ä¼šå‘ç°,æœåŠ¡å™¨çš„/home/git/Ã—Ã—Ã—Ã—.....Ã—Ã—Ã—Ã—.git/branches/ç›®å½•æ˜¯ç©ºçš„.è¿™é‡Œå¼•ç”¨ä¸‹Berry åœ¨ä»–çš„æ–‡ç« ä¸­çš„è§£é‡Š:\n æ—¢ç„¶blog.gitæ˜¯ä¸€ä¸ªä»“åº“ï¼Œé‚£ä¹ˆåªè¦git clone /home/git/blog.gitå°±å¯ä»¥å–å‡ºä»“åº“çš„å†…å®¹äº†ã€‚é¡ºç€è¿™ä¸ªæ€è·¯å°±æœ‰äº†ä¸‹é¢çš„æƒ³æ³•ï¼Œä½¿ç”¨git hooksåœ¨æ¯æ¬¡pushå®Œæˆåï¼Œæ‰§è¡Œä¸€æ®µè„šæœ¬ï¼ŒæŠŠblog.gité‡Œçš„å†…å®¹cloneå‡ºæ¥ï¼Œå†å¤åˆ¶åˆ°/var/www/blogç›®å½•ã€‚\n åœ¨/home/git/Ã—Ã—Ã—Ã—.....Ã—Ã—Ã—Ã—.git/branches/ç›®å½•ä¸‹ä¼šç”±hooksç›®å½•,é‡Œé¢å¯ä»¥å†™è„šæœ¬,Berryçš„æ„æ€å°±æ˜¯,æ¯æ¬¡hexo dæäº¤äº†ä»¥å,ç½‘ç«™æ•°æ®è¿›å…¥gitçš„ä¹‹åæ‰§è¡Œè„šæœ¬,å°†åˆšå…¥è¿›æ¥çš„æ•°æ®æ‹·è´åˆ°ç½‘ç«™ç›®å½•å».\ncd ~/blog.git/hooks touch post-receive vi post-receive ä½¿ç”¨ä¸‹é¢çš„è„šæœ¬\n#!/bin/bash -l GIT_REPO=/home/git/blog.git TMP_GIT_CLONE=/tmp/blog PUBLIC_WWW=/var/www/blog rm -rf ${TMP_GIT_CLONE} git clone $GIT_REPO $TMP_GIT_CLONE rm -rf ${PUBLIC_WWW}/* cp -rf ${TMP_GIT_CLONE}/* ${PUBLIC_WWW} æ³¨æ„: è„šæœ¬é‡Œçš„rmç­‰å‘½ä»¤æ˜¯å¦èƒ½æ‰§è¡ŒæˆåŠŸæœ‰gitçš„æƒé™å’Œå®ƒæ‰€æ“æ§çš„ç›®å½•å†³å®š,æ‰€ä»¥æˆ‘ä»¬è¦æ ¹æ®éœ€è¦çš„ä¿®æ”¹ä¸‹æƒé™\nèµ‹äºˆè„šæœ¬çš„æ‰§è¡Œæƒé™:chmod +x post-receive\nèµ‹äºˆgitå¯¹ç½‘ç«™ç›®å½•çš„æ‰€æœ‰æƒ:chown git:git -R ä½ çš„ç½‘ç«™ç›®å½•ä½ç½®\nä»¥ä¸Šæ‰§è¡Œå®Œå,è™½ç„¶æˆ‘ä»¬è¿™æ¬¡éƒ¨ç½²çš„æ˜¯é™æ€ç½‘ç«™,ä½†æ˜¯å¦‚æœæ˜¯phpç­‰åŠ¨æ€ç½‘ç«™çš„è¯,ä¼šå‘ç°,é™æ€é¡µé¢å¯ä»¥è§£æ,åŠ¨æ€é¡µé¢è§£æä¸äº†,æ‰€ä»¥è¿™é‡Œå»ºè®®:\nä¿®æ”¹php-fpm(å¦‚æœä½ æ˜¯ç”¨å®ƒæ¥è§£æphp)çš„é…ç½®æ–‡ä»¶www.conf,è®©user = gitä¸‹é¢è¿™é¡¹æ˜¯æˆ‘è‡ªå·±çš„ä¸ªäººçˆ±å¥½,ä½ å¯ä»¥ä¸åš:\nè®©gitçš„æƒåˆ©å†å¤§ç‚¹,æ¯”å¦‚,ä¿®æ”¹nginxçš„nginx.confæ–‡ä»¶,è®©userä¸ºgit git,ä½¿å®ƒæˆä¸ºnginxçš„æ“ä½œç”¨æˆ·ã€‚\n å®Œå·¥!!\n","permalink":"https://wedojava.github.io/posts/deploy-hexo-to-vps/","tags":["VPS"," hexo"," éƒ¨ç½²"," nginx"," git"],"title":"Deploy Hexo sites to VPS"},{"categories":["Linux"],"contents":" å‚è€ƒæ–‡çŒ®:https://www.linode.com/docs/\n  å‰é¢å†…å®¹ä¸å†å¤šè¯´,ç›´æ¥è¯´æˆ‘å¼€å§‹çš„åœ°æ–¹:\n Getting Started ç™»å½•VPS é¦–å…ˆæ˜¯ç¬¬ä¸€æ¬¡ç™»å½•,è¿™é‡Œä¸»è¦è°ˆç™»é™†å¤±è´¥çš„æƒ…å†µ: æˆ‘ä¹‹å‰åšè¿‡ä¸€ä¸ªvps,ç„¶åå¬è¯´æ—¥æœ¬çš„å¥½,ç„¶åå°±æŠŠä¹‹å‰çš„é‚£ä¸ªæœåŠ¡å™¨åˆ äº†,åˆ é™¤åæ‰å‘ç°æ—¥æœ¬æœºæˆ¿çš„æ ¹æœ¬ä¹°ä¸ä¸Š,ä¹°ä¸Šçš„å¾ˆå¤šä¹Ÿæ˜¯IPè¢«å°äº†.å½“æ—¶è‡ªå·±è¿˜åˆ·äº†å¾ˆä¹…linodeç½‘ç«™,æ— æœ,æœ€ç»ˆé€‰æ‹©äº†ç¾å›½è¥¿æµ·å²¸æœºæˆ¿.æ®è¯´é™¤äº†æ—¥æœ¬æœºæˆ¿æœ€å¥½é€‰å®ƒ.äºæ˜¯é‡æ–°æ·»åŠ ç¡¬ç›˜,Rebuild,ç­‰ç­‰,ç³»ç»Ÿèµ·æ¥äº†,å‡†å¤‡sshç™»å½•äº†,ç„¶åå°±æŠ¥é”™äº†,\u0026ldquo;Thatâ€™s because SSH clients try to match the remote host with the known keys on your desktop computer. When you rebuild your Linode, the remote host key changes. \u0026ldquo;ä¸‹é¢åŠ¨æ‰‹åˆ äº†é‚£ä¸€è¡Œ:\nvim ~/.ssh/known_hosts æ‰¾åˆ°ä¹‹å‰çš„è®°å½•å†…å®¹,åˆ é™¤æ‰å°±å¥½äº†\nSetting the hostname CentOS 7 / Fedora version 18 and above\nhostnamectl set-hostname hostname Ubuntu 15.04 / Debian 8\nhostnamectl set-hostname hostname Setting the Timezone Arch Linux and CentOS 7\ntimedatectl list-timezones then\ntimedatectl set-timezone Asia/Shanghai Ubuntu / Debian\ndpkg-reconfigure tzdata checking the time\nNow try entering the following command to view the current date and time according to your server:\ndate installing software update yum update Securing Your Server Add a New User  The problem with logging in as root is that you can execute any command - even a command that could accidentally break your server. For this reason and others, we recommend creating another user account and using that at all times.\n   Open a terminal window and log in your linode server\n  Create the user by entering the following command.Replace exampleuser to your desired username:\n  adduser exampleuser Set the password for your new user by entering the following command. Replace exampleuser with your desired username:  passwd exampleuser You will now need to edit your sudoers file to grant your new user the correct permissions. Enter the following command to open your sudoers file for editing:  visudo add an entry for your user below the root user, granting all permissions. Replace exampleuser with your username:  ## Allow root to run any commands anywhere root ALL=(ALL) ALL exampleuser ALL=(ALL) ALL Enter the command logout And then log in your linode again by the following command,Replace exampleuser with your username, and the example IP address with your Linodeâ€™s IP address:  ssh exampleuser@123.456.78.90 Using SSH Key Pair Authentication(SSHè®¤è¯é…å¯¹)  linux Or Mac OS, Entering the following command in a terminal window  ssh-keygen copy the public key ~/.ssh/id_rsa.pub to your linode,you can entering the following command in a terminal window.Replace example_user with your username, and 123.456.78.90 with your Linodeâ€™s IP address.  scp ~/.ssh/id_rsa.pub example_user@123.456.78.90: Create a directory for public key in your home directory (/home/yourusername) by entering the following command ** on your linode: **  mkdir .ssh move the file which is on your linode\u0026rsquo;s home directory to the directory your just create:  mv id_rsa.pub .ssh/authorized_keys Modify the permissions on the public key by entering the following commands, one by one, on your linode. Replace example_user with your username.  chown -R example_user:example_user .ssh chmod 700 .ssh chmod 600 .ssh/authorized_keys Disabling SSH Password Authentication and Root Login(ç¦æ­¢SSHçš„å¯†ç ç™»å½•å’Œrootç™»é™†)  First, youâ€™ll disable password authentication to require all users connecting via SSH to use key authentication. Next, youâ€™ll disable root login to prevent the root user from logging in via SSH. These steps are optional, but are strongly recommended.\n  Open the SSH configuration file for editing by entring the following command:  sudo vim /etc/ssh/sshd_config Entring /, then PasswordAuthentication and push Enter key, push n to search the key word,change the keyword\u0026rsquo;s setting to no,Verify that the line is uncommented by removing the # in front of line:  PasswordAuthentication no Change the PermitRootLogin setting to no as shown below:  PermitRootLogin no save the configuration file (:wq) and restart the SSH service to load the new configuration:  Fedora/CentOS:\nsudo systemctl restart sshd Debian/Ubuntu Users:\nsudo service ssh restart Creating a Firewall  This step is optional, but we strongly recommend that you use the example below to block traffic to ports that are not commonly used. Itâ€™s a good way to deter would-be intruders! You can always modify the rules or disable the firewall later.\n  Check your Linodeâ€™s default firewall rules by entering the following command:  sudo iptables -L  Examine the output. If you havenâ€™t implemented any firewall rules yet, you should see an empty ruleset, as shown below:  Chain INPUT (policy ACCEPT) target prot opt source destination Chain FORWARD (policy ACCEPT) target prot opt source destination Chain OUTPUT (policy ACCEPT) target prot opt source destination  Create a file to hold your firewall rules by entering the following command:  sudo vim /etc/iptables.firewall.rules  Weâ€™ve created some basic rules to get you started. Copy and paste the rules shown below in to the iptables.firewall.rules file you just created.  By default, the rules will allow traffic to the following services and ports: HTTP (80), HTTPS (443), SSH (22), and ping. All other ports will be blocked.\nFile:/etc/iptables.firewall.rules\n*filter # Allow all loopback (lo0) traffic and drop all traffic to 127/8 that doesn\u0026#39;t use lo0 -A INPUT -i lo -j ACCEPT -A INPUT -d 127.0.0.0/8 -j REJECT # Accept all established inbound connections -A INPUT -m state --state ESTABLISHED,RELATED -j ACCEPT # Allow all outbound traffic - you can modify this to only allow certain traffic -A OUTPUT -j ACCEPT # Allow HTTP and HTTPS connections from anywhere (the normal ports for websites and SSL). -A INPUT -p tcp --dport 80 -j ACCEPT -A INPUT -p tcp --dport 443 -j ACCEPT # Allow SSH connections # # The -dport number should be the same port number you set in sshd_config # -A INPUT -p tcp -m state --state NEW --dport 22 -j ACCEPT # Allow ping -A INPUT -p icmp --icmp-type echo-request -j ACCEPT # Log iptables denied calls -A INPUT -m limit --limit 5/min -j LOG --log-prefix \u0026#34;iptables denied: \u0026#34; --log-level 7 # Drop all other inbound - default deny unless explicitly allowed policy -A INPUT -j DROP -A FORWARD -j DROP COMMIT Be sure to revise these rules if you add new services later.\n Optional: If you plan on using the Linode Longview service, add these additional lines above the # Drop all other inbound section:  File:/etc/iptables.firewall.rules\n# Allow incoming Longview connections -A INPUT -s longview.linode.com -j ACCEPT # Allow metrics to be provided Longview -A OUTPUT -d longview.linode.com -j ACCEPT  Save the changes by pressing :wq and then activate the firewall rules by entring the following command:  sudo iptables-restore \u0026lt; /etc/iptables.firewall.rules  Recheck your Linodeâ€™s firewall rules by entering the following command:  sudo iptables -L  Examine the output. The new ruleset should look like the one shown below:  Chain INPUT (policy ACCEPT) target prot opt source destination ACCEPT all -- anywhere anywhere REJECT all -- anywhere 127.0.0.0/8 reject-with icmp-port-unreachable ACCEPT all -- anywhere anywhere state RELATED,ESTABLISHED ACCEPT tcp -- anywhere anywhere tcp dpt:http ACCEPT tcp -- anywhere anywhere tcp dpt:https ACCEPT tcp -- anywhere anywhere state NEW tcp dpt:ssh ACCEPT icmp -- anywhere anywhere LOG all -- anywhere anywhere limit: avg 5/min burst 5 LOG level debug prefix \u0026#34;iptables denied: \u0026#34; DROP all -- anywhere anywhere Chain FORWARD (policy ACCEPT) target prot opt source destination DROP all -- anywhere anywhere Chain OUTPUT (policy ACCEPT) target prot opt source destination ACCEPT all -- anywhere anywhere   Now you need to ensure that the firewall rules are activated every time you restart your Linode.\n  CentOS 6.2 or 6.5: /sbin/service iptables save\n  CentOS 7 or Fedora 20:\n  yum install -y iptables-services systemctl enable iptables systemctl start iptables To save your current rule set use the following command:\n/usr/libexec/iptables/iptables.init save Installing and Configuring Fail2Ban  Fail2Ban is an application that prevents dictionary attacks on your server. When Fail2Ban detects multiple failed login attempts from the same IP address, it creates temporary firewall rules that block traffic from the attackerâ€™s IP address. Attempted logins can be monitored on a variety of protocols, including SSH, HTTP, and SMTP. By default, Fail2Ban monitors SSH only.\n  Install Fail2Ban by entering the following command:  sudo yum install epel-release sudo yum install fail2ban Optionally, you can override the default Fail2Ban configuration by creating a new jail.local file. Enter the following command to create the file:  sudo nano /etc/fail2ban/jail.local  To learn more about Fail2Ban configuration options, see this article on the Fail2Ban website.\n  Set the bantime variable to specify how long (in seconds) bans should last.\n  Set the maxretry variable to specify the default number of tries a connection may be attempted before an attackerâ€™s IP address is banned.\n  Press Control-x and then press y to save the changes to the Fail2Ban configuration file.\n  Restart Fail2Ban by using sudo service fail2ban restart.\n ","permalink":"https://wedojava.github.io/posts/linode-centos-init/","tags":["linux"," centos"," linode"," iptables"," fail2ban"],"title":"Linode çš„ CentOS-7.1 åˆå§‹åŒ–æ“ä½œ"},{"categories":["PHP"],"contents":"PHPæ ‡å‡†ç»„ æå‡ºå¹¶å‘å¸ƒäº†ä¸€ç³»åˆ—çš„é£æ ¼å»ºè®®ã€‚å…¶ä¸­æœ‰éƒ¨åˆ†æ˜¯å…³äºä»£ç é£æ ¼çš„ï¼Œå³ PSR-0, PSR-1, PSR-2 å’Œ PSR-4ã€‚è¿™äº›æ¨èåªæ˜¯ä¸€äº›è¢«å…¶ä»–é¡¹ç›®æ‰€éµå¾ªçš„è§„åˆ™ï¼Œå¦‚ Drupal, Zend, Symfony, CakePHP, phpBB, AWS SDK, FuelPHP, Lithium ç­‰ã€‚ä½ å¯ä»¥æŠŠè¿™äº›è§„åˆ™ç”¨åœ¨è‡ªå·±çš„é¡¹ç›®ä¸­ï¼Œæˆ–è€…ç»§ç»­ä½¿ç”¨è‡ªå·±çš„é£æ ¼ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œä½ åº”è¯¥éµå¾ªä¸€ä¸ªå·²çŸ¥çš„æ ‡å‡†æ¥ç¼–å†™ PHP ä»£ç ã€‚å¯èƒ½æ˜¯ PSR çš„ç»„åˆæˆ–è€…æ˜¯ PEAR æˆ– Zend ç¼–ç å‡†åˆ™ä¸­çš„ä¸€ä¸ªã€‚è¿™ä»£è¡¨å…¶ä»–å¼€å‘è€…èƒ½å¤Ÿæ–¹ä¾¿çš„é˜…è¯»å’Œä½¿ç”¨ä½ çš„ä»£ç ï¼Œå¹¶ä¸”ä½¿ç”¨è¿™äº›ç»„ä»¶çš„åº”ç”¨ç¨‹åºå¯ä»¥å’Œå…¶ä»–ç¬¬ä¸‰æ–¹çš„ç»„ä»¶ä¿æŒä¸€è‡´ã€‚\n å…ˆæ¨èä¸€ä¸ªç½‘å€: PHPç¼–ç è§„èŒƒï¼ˆä¸­æ–‡ç‰ˆï¼‰å¯¼è¯»\n  PSR-0å·²å¼ƒç”¨,ä»PSR-1å¼€å§‹,åªç½—åˆ—æˆ‘æ„Ÿè§‰ä¼šå¿½è§†æˆ–æˆ‘è‡ªå·±ä¸æ¸…æ¥šçš„åœ°æ–¹:\n  PSR-1 åŸºæœ¬ä»£ç è§„èŒƒ(Basic Coding Standard) åè¯è§£é‡Š:ä»å±æ•ˆåº”?   ä¸€ä»½PHPæ–‡ä»¶ä¸­åº”è¯¥è¦ä¸å°±åªå®šä¹‰æ–°çš„å£°æ˜ï¼Œå¦‚ç±»ã€å‡½æ•°æˆ–å¸¸é‡ç­‰ä¸äº§ç”Ÿä»å±æ•ˆåº”çš„æ“ä½œï¼Œè¦ä¸å°±åªæœ‰ä¼šäº§ç”Ÿä»å±æ•ˆåº”çš„é€»è¾‘æ“ä½œï¼Œä½†ä¸è¯¥åŒæ—¶å…·æœ‰ä¸¤è€…ã€‚\n  â€œä»å±æ•ˆåº”â€(side effects)ä¸€è¯çš„æ„æ€æ˜¯ï¼Œä»…ä»…é€šè¿‡åŒ…å«æ–‡ä»¶ï¼Œä¸ç›´æ¥å£°æ˜ç±»ã€ å‡½æ•°å’Œå¸¸é‡ç­‰ï¼Œè€Œæ‰§è¡Œçš„é€»è¾‘æ“ä½œã€‚\n  åŒ…å«å´ä¸ä»…é™äº:ç”Ÿæˆè¾“å‡ºã€ç›´æ¥çš„ require æˆ– includeã€è¿æ¥å¤–éƒ¨æœåŠ¡ã€ä¿®æ”¹ ini é…ç½®ã€æŠ›å‡ºé”™è¯¯æˆ–å¼‚å¸¸ã€ä¿®æ”¹å…¨å±€æˆ–é™æ€å˜é‡ã€è¯»æˆ–å†™æ–‡ä»¶ç­‰ã€‚\n  ç±»çš„å‘½åå¿…é¡»éµå¾ª StudlyCaps å¤§å†™å¼€å¤´çš„é©¼å³°å‘½åè§„èŒƒï¼›\n  ç±»ä¸­çš„å¸¸é‡æ‰€æœ‰å­—æ¯éƒ½å¿…é¡»å¤§å†™ï¼Œå•è¯é—´ç”¨ä¸‹åˆ’çº¿åˆ†éš”ï¼›\n  æ–¹æ³•åç§°å¿…é¡»ç¬¦åˆ camelCase å¼çš„å°å†™å¼€å¤´é©¼å³°å‘½åè§„èŒƒã€‚\n  ç±»çš„å±æ€§å‘½åå¯ä»¥éµå¾ª å¤§å†™å¼€å¤´çš„é©¼å³°å¼ ($StudlyCaps)ã€å°å†™å¼€å¤´çš„é©¼å³°å¼ ($camelCase) åˆæˆ–è€…æ˜¯ ä¸‹åˆ’çº¿åˆ†éš”å¼ ($under_score)\n  PHP 5.3åŠä»¥åç‰ˆæœ¬çš„ä»£ç å¿…é¡»ä½¿ç”¨æ­£å¼çš„å‘½åç©ºé—´ã€‚\n  5.3ä»¥å:\n\u0026lt;?php // PHP 5.3åŠä»¥åç‰ˆæœ¬çš„å†™æ³• namespace Vendor\\Model; class Foo { }   5.2.xåŠä¹‹å‰çš„ç‰ˆæœ¬åº”è¯¥ä½¿ç”¨ä¼ªå‘½åç©ºé—´çš„å†™æ³•ï¼Œçº¦å®šä¿—æˆä½¿ç”¨é¡¶çº§çš„ç»„ç»‡åç§°ï¼ˆvendor nameï¼‰å¦‚ Vendor_ ä¸ºç±»å‰ç¼€ã€‚\n\u0026lt;?php // 5.2.xåŠä¹‹å‰ç‰ˆæœ¬çš„å†™æ³• class Vendor_Model_Foo { }     PHPä»£ç æ–‡ä»¶å¿…é¡»ä»¥ ä¸å¸¦BOMçš„ UTF-8 ç¼–ç ;\n  PHPä»£ç ä¸­åº”è¯¥åªå®šä¹‰ç±»ã€å‡½æ•°ã€å¸¸é‡ç­‰å£°æ˜ï¼Œæˆ–å…¶ä»–ä¼šäº§ç”Ÿ ä»å±æ•ˆåº” çš„æ“ä½œï¼ˆå¦‚ï¼šç”Ÿæˆæ–‡ä»¶è¾“å‡ºä»¥åŠä¿®æ”¹.inié…ç½®æ–‡ä»¶ç­‰ï¼‰ï¼ŒäºŒè€…åªèƒ½é€‰å…¶ä¸€ï¼›\n  åä¾‹,åŒ…å«å£°æ˜ä»¥åŠäº§ç”Ÿä»å±æ•ˆåº”çš„ä»£ç :\n\u0026lt;?php // ä»å±æ•ˆåº”ï¼šä¿®æ”¹ ini é…ç½®  ini_set(\u0026#39;error_reporting\u0026#39;, E_ALL); // ä»å±æ•ˆåº”ï¼šå¼•å…¥æ–‡ä»¶  include \u0026#34;file.php\u0026#34;; // ä»å±æ•ˆåº”ï¼šç”Ÿæˆè¾“å‡º  echo \u0026#34;\u0026lt;html\u0026gt;\\n\u0026#34;; // å£°æ˜å‡½æ•°  function foo() { // å‡½æ•°ä¸»ä½“éƒ¨åˆ†  }   æ­£ä¾‹,åªåŒ…å«å£°æ˜ä¸äº§ç”Ÿä»å±æ•ˆåº”çš„ä»£ç ï¼š\n\u0026lt;?php // å£°æ˜å‡½æ•° function foo() { // å‡½æ•°ä¸»ä½“éƒ¨åˆ† } // æ¡ä»¶å£°æ˜**ä¸**å±äºä»å±æ•ˆåº” if (! function_exists(\u0026#39;bar\u0026#39;)) { function bar() { // å‡½æ•°ä¸»ä½“éƒ¨åˆ†  } }      PSR-2 ä»£ç é£æ ¼è§„èŒƒ(Coding Style Guide)  PSR-2 æ˜¯ PSR-1 åŸºæœ¬ä»£ç è§„èŒƒçš„ç»§æ‰¿ä¸æ‰©å±•ã€‚\n 1. æ¦‚è§ˆ   ä»£ç å¿…é¡»éµå¾ª PSR-1 ä¸­çš„ç¼–ç è§„èŒƒ ã€‚\n  ä»£ç å¿…é¡»ä½¿ç”¨4ä¸ªç©ºæ ¼ç¬¦è€Œä¸æ˜¯ tabé”® è¿›è¡Œç¼©è¿›ã€‚\n  æ¯è¡Œçš„å­—ç¬¦æ•°åº”è¯¥è½¯æ€§ä¿æŒåœ¨80ä¸ªä¹‹å†…ï¼Œ ç†è®ºä¸Šä¸€å®šä¸å¯å¤šäº120ä¸ªï¼Œ ä½†ä¸€å®šä¸èƒ½æœ‰ç¡¬æ€§é™åˆ¶ã€‚\n  æ¯ä¸ª namespace å‘½åç©ºé—´å£°æ˜è¯­å¥å’Œ use å£°æ˜è¯­å¥å—åé¢ï¼Œå¿…é¡» æ’å…¥ä¸€ä¸ªç©ºç™½è¡Œã€‚\n  ç±»çš„å±æ€§å’Œæ–¹æ³•å¿…é¡»æ·»åŠ è®¿é—®ä¿®é¥°ç¬¦ï¼ˆprivateã€protected ä»¥åŠ publicï¼‰ï¼Œ abstract ä»¥åŠ final å¿…é¡»å£°æ˜åœ¨è®¿é—®ä¿®é¥°ç¬¦ä¹‹å‰ï¼Œè€Œ static å¿…é¡»å£°æ˜åœ¨è®¿é—®ä¿®é¥°ç¬¦ä¹‹åã€‚\n  æ§åˆ¶ç»“æ„çš„å…³é”®å­—åå¿…é¡»è¦æœ‰ä¸€ä¸ªç©ºæ ¼ç¬¦ï¼Œè€Œè°ƒç”¨æ–¹æ³•æˆ–å‡½æ•°æ—¶åˆ™ä¸€å®šä¸èƒ½æœ‰ã€‚\n  æ§åˆ¶ç»“æ„çš„å¼€å§‹èŠ±æ‹¬å·{å¿…é¡»å†™åœ¨å£°æ˜çš„åŒä¸€è¡Œï¼Œè€Œç»“æŸèŠ±æ‹¬å·}å¿…é¡»å†™åœ¨ä¸»ä½“åè‡ªæˆä¸€è¡Œã€‚\n  æ§åˆ¶ç»“æ„çš„å¼€å§‹å·¦æ‹¬å·åå’Œç»“æŸå³æ‹¬å·å‰ï¼Œéƒ½ä¸€å®šä¸èƒ½æœ‰ç©ºæ ¼ç¬¦ã€‚\n  ä¾‹å­ ä»¥ä¸‹ä¾‹å­ç¨‹åºç®€å•åœ°å±•ç¤ºäº†ä»¥ä¸Šå¤§éƒ¨åˆ†è§„èŒƒï¼š\n\u0026lt;?php namespace Vendor\\Package; use FooInterface; use BarClass as Bar; use OtherVendor\\OtherPackage\\BazClass; class Foo extends Bar implements FooInterface { public function sampleFunction($a, $b = null) { if ($a === $b) { bar(); } elseif ($a \u0026gt; $b) { $foo-\u0026gt;bar($arg1); } else { BazClass::bar($arg2, $arg3); } } final public static function bar() { // method body  } } 2. é€šåˆ™ 2.1 åŸºæœ¬ç¼–ç å‡†åˆ™  ä»£ç å¿…é¡»ç¬¦åˆ PSR-1 ä¸­çš„æ‰€æœ‰è§„èŒƒã€‚  2.2 æ–‡ä»¶   æ‰€æœ‰PHPæ–‡ä»¶å¿…é¡»ä½¿ç”¨Unix LF (linefeed)ä½œä¸ºè¡Œçš„ç»“æŸç¬¦ã€‚\n  æ‰€æœ‰PHPæ–‡ä»¶å¿…é¡»ä»¥ä¸€ä¸ªç©ºç™½è¡Œä½œä¸ºç»“æŸã€‚\n  çº¯PHPä»£ç æ–‡ä»¶å¿…é¡»çœç•¥æœ€åçš„ ?\u0026gt; ç»“æŸæ ‡ç­¾ã€‚\n  2.3 è¡Œ   è¡Œçš„é•¿åº¦ä¸€å®šä¸èƒ½æœ‰ç¡¬æ€§çš„çº¦æŸã€‚\n  è½¯æ€§çš„é•¿åº¦çº¦æŸä¸€å®šè¦é™åˆ¶åœ¨120ä¸ªå­—ç¬¦ä»¥å†…ï¼Œè‹¥è¶…è¿‡æ­¤é•¿åº¦ï¼Œå¸¦ä»£ç è§„èŒƒæ£€æŸ¥çš„ç¼–è¾‘å™¨ä¸€å®šè¦å‘å‡ºè­¦å‘Šï¼Œä¸è¿‡ä¸€å®šä¸å¯å‘å‡ºé”™è¯¯æç¤ºã€‚\n  æ¯è¡Œä¸åº”è¯¥å¤šäº80ä¸ªå­—ç¬¦ï¼Œå¤§äº80å­—ç¬¦çš„è¡Œåº”è¯¥æŠ˜æˆå¤šè¡Œã€‚\n  éç©ºè¡Œåä¸€å®šä¸èƒ½æœ‰å¤šä½™çš„ç©ºæ ¼ç¬¦ã€‚\n  ç©ºè¡Œå¯ä»¥ä½¿å¾—é˜…è¯»ä»£ç æ›´åŠ æ–¹ä¾¿ä»¥åŠæœ‰åŠ©äºä»£ç çš„åˆ†å—ã€‚\n  æ¯è¡Œä¸€å®šä¸èƒ½å­˜åœ¨å¤šäºä¸€æ¡è¯­å¥ã€‚\n  ä»£ç å¿…é¡»ä½¿ç”¨4ä¸ªç©ºæ ¼ç¬¦çš„ç¼©è¿›ï¼Œä¸€å®šä¸èƒ½ç”¨ tabé”® ã€‚\n å¤‡æ³¨: ä½¿ç”¨ç©ºæ ¼è€Œä¸æ˜¯tabé”®ç¼©è¿›çš„å¥½å¤„åœ¨äºï¼Œ é¿å…åœ¨æ¯”è¾ƒä»£ç å·®å¼‚ã€æ‰“è¡¥ä¸ã€é‡é˜…ä»£ç ä»¥åŠæ³¨é‡Šæ—¶äº§ç”Ÿæ··æ·†ã€‚ å¹¶ä¸”ï¼Œä½¿ç”¨ç©ºæ ¼ç¼©è¿›ï¼Œè®©å¯¹é½å˜å¾—æ›´æ–¹ä¾¿ã€‚\n   PHPæ‰€æœ‰ å…³é”®å­—å¿…é¡»å…¨éƒ¨å°å†™ã€‚\n  å¸¸é‡ true ã€false å’Œ null ä¹Ÿå¿…é¡»å…¨éƒ¨å°å†™ã€‚\n  3. namespace ä»¥åŠ use å£°æ˜ namespace å£°æ˜å å¿…é¡» æ’å…¥ä¸€ä¸ªç©ºç™½è¡Œã€‚\næ‰€æœ‰ use å¿…é¡» åœ¨ namespace åå£°æ˜ã€‚\næ¯æ¡ use å£°æ˜è¯­å¥ å¿…é¡» åªæœ‰ä¸€ä¸ª use å…³é”®è¯ã€‚\nuse å£°æ˜è¯­å¥å—å å¿…é¡» è¦æœ‰ä¸€ä¸ªç©ºç™½è¡Œã€‚\nä¾‹å­:\n\u0026lt;?php namespace Vendor\\Package; use FooClass; use BarClass as Bar; use OtherVendor\\OtherPackage\\BazClass; // ... additional PHP code ... 4. ç±»ã€å±æ€§å’Œæ–¹æ³• æ­¤å¤„çš„â€œç±»â€æ³›æŒ‡æ‰€æœ‰çš„classç±»ã€æ¥å£ä»¥åŠtraitså¯å¤ç”¨ä»£ç å—ã€‚\n4.1. æ‰©å±•ä¸ç»§æ‰¿ å…³é”®è¯ extends å’Œ implements å¿…é¡» å†™åœ¨ç±»åç§°çš„åŒä¸€è¡Œã€‚\n\u0026lt;?php namespace Vendor\\Package; use FooClass; use BarClass as Bar; use OtherVendor\\OtherPackage\\BazClass; class ClassName extends ParentClass implements \\ArrayAccess, \\Countable { // constants, properties, methods } implements çš„ç»§æ‰¿åˆ—è¡¨ä¹Ÿå¯ä»¥åˆ†æˆå¤šè¡Œï¼Œè¿™æ ·çš„è¯ï¼Œæ¯ä¸ªç»§æ‰¿æ¥å£åç§°éƒ½å¿…é¡»åˆ†å¼€ç‹¬ç«‹æˆè¡Œï¼ŒåŒ…æ‹¬ç¬¬ä¸€ä¸ªã€‚\n\u0026lt;?php namespace Vendor\\Package; use FooClass; use BarClass as Bar; use OtherVendor\\OtherPackage\\BazClass; class ClassName extends ParentClass implements \\ArrayAccess, \\Countable, \\Serializable { // constants, properties, methods } 4.2. å±æ€§ æ¯ä¸ªå±æ€§éƒ½ å¿…é¡» æ·»åŠ è®¿é—®ä¿®é¥°ç¬¦ã€‚\nç»ä¸èƒ½ ä½¿ç”¨å…³é”®å­— var å£°æ˜ä¸€ä¸ªå±æ€§ã€‚\næ¯æ¡è¯­å¥åªèƒ½å®šä¹‰ ä¸€ä¸ªå±æ€§ã€‚\nä¸èƒ½ ç”¨ _ ä½œä¸ºå‰ç¼€ï¼Œæ¥åŒºåˆ†å±æ€§æ˜¯ protected æˆ– privateã€‚\nä»¥ä¸‹æ˜¯å±æ€§å£°æ˜çš„ä¸€ä¸ªèŒƒä¾‹ï¼š\n\u0026lt;?php namespace Vendor\\Package; class ClassName { public $foo = null; } 4.3. æ–¹æ³• æ‰€æœ‰æ–¹æ³•éƒ½ å¿…é¡» æ·»åŠ è®¿é—®ä¿®é¥°ç¬¦ã€‚\nä¸èƒ½ ç”¨ _ ä½œä¸ºå‰ç¼€ï¼Œæ¥åŒºåˆ†æ–¹æ³•æ˜¯ protected æˆ– privateã€‚\næ–¹æ³•åç§° åä¸€å®šä¸èƒ½æœ‰ç©ºæ ¼ç¬¦ï¼Œå…¶å¼€å§‹èŠ±æ‹¬å·å¿…é¡»ç‹¬å ä¸€è¡Œï¼Œç»“æŸèŠ±æ‹¬å·ä¹Ÿå¿…é¡»åœ¨æ–¹æ³•ä¸»ä½“åå•ç‹¬æˆä¸€è¡Œã€‚å‚æ•°å·¦æ‹¬å·åå’Œå³æ‹¬å·å‰ä¸€å®š ä¸èƒ½æœ‰ç©ºæ ¼ã€‚\nä¸€ä¸ªæ ‡å‡†çš„æ–¹æ³•å£°æ˜å¯å‚ç…§ä»¥ä¸‹èŒƒä¾‹ï¼Œç•™æ„å…¶æ‹¬å·ã€é€—å·ã€ç©ºæ ¼ä»¥åŠèŠ±æ‹¬å·çš„ä½ç½®ã€‚\n\u0026lt;?php namespace Vendor\\Package; class ClassName { public function fooBarBaz($arg1, \u0026amp;$arg2, $arg3 = []) { // method body  } } 4.4. æ–¹æ³•çš„å‚æ•° å‚æ•°åˆ—è¡¨ä¸­ï¼Œæ¯ä¸ªé€—å·åé¢å¿…é¡»è¦æœ‰ä¸€ä¸ªç©ºæ ¼ï¼Œè€Œé€—å·å‰é¢ä¸€å®šä¸èƒ½æœ‰ç©ºæ ¼ã€‚\næœ‰é»˜è®¤å€¼çš„å‚æ•°ï¼Œå¿…é¡»æ”¾åˆ°å‚æ•°åˆ—è¡¨çš„æœ«å°¾ã€‚\n\u0026lt;?php namespace Vendor\\Package; class ClassName { public function foo($arg1, \u0026amp;$arg2, $arg3 = []) { // method body  } } å‚æ•°åˆ—è¡¨å¯ä»¥åˆ†åˆ—æˆå¤šè¡Œï¼Œè¿™æ ·ï¼ŒåŒ…æ‹¬ç¬¬ä¸€ä¸ªå‚æ•°åœ¨å†…çš„æ¯ä¸ªå‚æ•°éƒ½å¿…é¡»å•ç‹¬æˆè¡Œã€‚\næ‹†åˆ†æˆå¤šè¡Œçš„å‚æ•°åˆ—è¡¨åï¼Œç»“æŸæ‹¬å·ä»¥åŠæ–¹æ³•å¼€å§‹èŠ±æ‹¬å· å¿…é¡» å†™åœ¨åŒä¸€è¡Œï¼Œä¸­é—´ç”¨ä¸€ä¸ª ç©ºæ ¼åˆ†éš”ã€‚\n\u0026lt;?php namespace Vendor\\Package; class ClassName { public function aVeryLongMethodName( ClassTypeHint $arg1, \u0026amp;$arg2, array $arg3 = [] ) { // method body  } } 4.5. abstract ã€ final ã€ ä»¥åŠ static éœ€è¦æ·»åŠ  abstract æˆ– final å£°æ˜æ—¶ï¼Œ å¿…é¡»å†™åœ¨è®¿é—®ä¿®é¥°ç¬¦ å‰ ï¼Œè€Œ static åˆ™å¿…é¡»å†™åœ¨ å…¶åã€‚\n\u0026lt;?php namespace Vendor\\Package; abstract class ClassName { protected static $foo; abstract protected function zim(); final public static function bar() { // method body  } } 4.6. æ–¹æ³•åŠå‡½æ•°è°ƒç”¨ æ–¹æ³•åŠå‡½æ•°è°ƒç”¨æ—¶ï¼Œæ–¹æ³•åæˆ–å‡½æ•°åä¸å‚æ•°å·¦æ‹¬å·ä¹‹é—´ä¸€å®šä¸èƒ½æœ‰ç©ºæ ¼ï¼Œå‚æ•°å³æ‹¬å·å‰ä¹Ÿ ä¸€å®šä¸èƒ½æœ‰ç©ºæ ¼ã€‚æ¯ä¸ªå‚æ•°å‰ä¸€å®šä¸èƒ½æœ‰ç©ºæ ¼ï¼Œä½†å…¶åå¿…é¡»æœ‰ä¸€ä¸ªç©ºæ ¼ã€‚\n\u0026lt;?php bar(); $foo-\u0026gt;bar($arg1); Foo::bar($arg2, $arg3); å‚æ•°å¯ä»¥åˆ†è£‚æˆå¤šè¡Œï¼Œæ­¤æ—¶åŒ…æ‹¬ç¬¬ä¸€ä¸ªå‚æ•°åœ¨å†…çš„æ¯ä¸ªå‚æ•°éƒ½å¿…é¡»å•ç‹¬æˆè¡Œã€‚\n\u0026lt;?php $foo-\u0026gt;bar( $longArgument, $longerArgument, $muchLongerArgument ); ä½¿ç”¨ä¸€ä¸ªæˆ–å¤šä¸ªè·¨è¡Œçš„å‚æ•°ï¼ˆå¦‚æ•°ç»„å’ŒåŒ¿åå‡½æ•°ï¼‰ä¸éœ€è¦è§¦å‘æœ¬èŠ‚ä¸­å…³äºå‚æ•°åˆ—è¡¨çš„å•è¡Œè§„å®šï¼Œ å› æ­¤ï¼Œåœ¨å‚æ•°è¡¨ä¸­çš„æ•°ç»„å’ŒåŒ¿åå‡½æ•°æ˜¯å¯ä»¥å•ç‹¬åˆ†åˆ—æˆå¤šè¡Œçš„:\n\u0026lt;?php somefunction($foo, $bar, [ // ... ], $baz); $app-\u0026gt;get(\u0026#39;/hello/{name}\u0026#39;, function ($name) use ($app) { return \u0026#39;Hello \u0026#39;.$app-\u0026gt;escape($name); }); 5. æ§åˆ¶ç»“æ„ æ§åˆ¶ç»“æ„çš„åŸºæœ¬è§„èŒƒå¦‚ä¸‹ï¼š\n æ§åˆ¶ç»“æ„å…³é”®è¯å å¿…é¡» æœ‰ä¸€ä¸ªç©ºæ ¼ã€‚ å·¦æ‹¬å· ( åä¸€å®šä¸èƒ½æœ‰ç©ºæ ¼ã€‚ å³æ‹¬å· ) å‰ä¹Ÿä¸€å®šä¸èƒ½æœ‰ç©ºæ ¼ã€‚ å³æ‹¬å· ) ä¸å¼€å§‹èŠ±æ‹¬å· { é—´ä¸€å®šæœ‰ä¸€ä¸ªç©ºæ ¼ã€‚ ç»“æ„ä½“ä¸»ä½“ä¸€å®šè¦æœ‰ä¸€æ¬¡ç¼©è¿›ã€‚ ç»“æŸèŠ±æ‹¬å· } ä¸€å®šåœ¨ç»“æ„ä½“ä¸»ä½“åå•ç‹¬æˆè¡Œã€‚  æ¯ä¸ªç»“æ„ä½“çš„ä¸»ä½“éƒ½å¿…é¡»è¢«åŒ…å«åœ¨æˆå¯¹çš„èŠ±æ‹¬å·ä¹‹ä¸­ï¼Œ è¿™èƒ½è®©ç»“æ„ä½“æ›´åŠ ç»“æ„è¯ï¼Œä»¥åŠå‡å°‘åŠ å…¥æ–°è¡Œæ—¶ï¼Œå‡ºé”™çš„å¯èƒ½æ€§ã€‚\n5.1. if ã€ elseif å’Œ else æ ‡å‡†çš„ if ç»“æ„å¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼Œç•™æ„ æ‹¬å·ã€ç©ºæ ¼ä»¥åŠèŠ±æ‹¬å·çš„ä½ç½®ï¼Œ æ³¨æ„ else å’Œ elseif éƒ½ä¸å‰é¢çš„ç»“æŸèŠ±æ‹¬å·åœ¨åŒä¸€è¡Œã€‚\n\u0026lt;?php if ($expr1) { // if body } elseif ($expr2) { // elseif body } else { // else body; } åº”è¯¥ä½¿ç”¨å…³é”®è¯ elseif ä»£æ›¿æ‰€æœ‰ else if ï¼Œä»¥ä½¿å¾—æ‰€æœ‰çš„æ§åˆ¶å…³é”®å­—éƒ½åƒæ˜¯å•ç‹¬çš„ä¸€ä¸ªè¯ã€‚\n5.2. switch å’Œ case æ ‡å‡†çš„ switch ç»“æ„å¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼Œç•™æ„æ‹¬å·ã€ç©ºæ ¼ä»¥åŠèŠ±æ‹¬å·çš„ä½ç½®ã€‚ case è¯­å¥å¿…é¡»ç›¸å¯¹ switch è¿›è¡Œä¸€æ¬¡ç¼©è¿›ï¼Œè€Œ break è¯­å¥ä»¥åŠ case å†…çš„å…¶å®ƒè¯­å¥éƒ½ å¿…é¡» ç›¸å¯¹ case è¿›è¡Œä¸€æ¬¡ç¼©è¿›ã€‚ å¦‚æœå­˜åœ¨éç©ºçš„ case ç›´ç©¿è¯­å¥ï¼Œä¸»ä½“é‡Œå¿…é¡»æœ‰ç±»ä¼¼ // no break çš„æ³¨é‡Šã€‚\n\u0026lt;?php switch ($expr) { case 0: echo \u0026#39;First case, with a break\u0026#39;; break; case 1: echo \u0026#39;Second case, which falls through\u0026#39;; // no break  case 2: case 3: case 4: echo \u0026#39;Third case, return instead of break\u0026#39;; return; default: echo \u0026#39;Default case\u0026#39;; break; } 5.3. while å’Œ do while \u0026lt;?php while ($expr) { // structure body } \u0026lt;?php do { // structure body; } while ($expr); 5.4. for æ ‡å‡†çš„ for è¯­å¥å¦‚ä¸‹æ‰€ç¤ºï¼Œæ³¨æ„å…¶ æ‹¬å·ã€ç©ºæ ¼ä»¥åŠèŠ±æ‹¬å·çš„ä½ç½®ã€‚\n\u0026lt;?php for ($i = 0; $i \u0026lt; 10; $i++) { // for body } 5.5. foreach æ ‡å‡†çš„ foreach è¯­å¥å¦‚ä¸‹æ‰€ç¤ºï¼Œæ³¨æ„å…¶ æ‹¬å·ã€ç©ºæ ¼ä»¥åŠèŠ±æ‹¬å·çš„ä½ç½®ã€‚\n\u0026lt;?php foreach ($iterable as $key =\u0026gt; $value) { // foreach body } 5.6. try, catch æ ‡å‡†çš„ try catch è¯­å¥å¦‚ä¸‹æ‰€ç¤ºï¼Œæ³¨æ„å…¶ æ‹¬å·ã€ç©ºæ ¼ä»¥åŠèŠ±æ‹¬å·çš„ä½ç½®ã€‚\n\u0026lt;?php try { // try body } catch (FirstExceptionType $e) { // catch body } catch (OtherExceptionType $e) { // catch body } 6. é—­åŒ… é—­åŒ…å£°æ˜æ—¶ï¼Œå…³é”®è¯ function åä»¥åŠå…³é”®è¯ use çš„å‰åéƒ½å¿…é¡»è¦æœ‰ä¸€ä¸ªç©ºæ ¼ã€‚\nå¼€å§‹èŠ±æ‹¬å·å¿…é¡»å†™åœ¨å£°æ˜çš„åŒä¸€è¡Œï¼Œç»“æŸèŠ±æ‹¬å·å¿…é¡»ç´§è·Ÿä¸»ä½“ç»“æŸçš„ä¸‹ä¸€è¡Œã€‚\nå‚æ•°åˆ—è¡¨å’Œå˜é‡åˆ—è¡¨çš„å·¦æ‹¬å·åä»¥åŠå³æ‹¬å·å‰ï¼Œå¿…é¡»ä¸èƒ½ æœ‰ç©ºæ ¼ã€‚\nå‚æ•°å’Œå˜é‡åˆ—è¡¨ä¸­ï¼Œé€—å·å‰å¿…é¡»ä¸èƒ½æœ‰ç©ºæ ¼ï¼Œè€Œé€—å·åå¿…é¡»è¦æœ‰ç©ºæ ¼ã€‚\né—­åŒ…ä¸­æœ‰é»˜è®¤å€¼çš„å‚æ•°å¿…é¡»æ”¾åˆ°åˆ—è¡¨çš„åé¢ã€‚\næ ‡å‡†çš„é—­åŒ…å£°æ˜è¯­å¥å¦‚ä¸‹æ‰€ç¤ºï¼Œæ³¨æ„å…¶ æ‹¬å·ã€é€—å·ã€ç©ºæ ¼ä»¥åŠèŠ±æ‹¬å·çš„ä½ç½®ã€‚\n\u0026lt;?php $closureWithArgs = function ($arg1, $arg2) { // body }; $closureWithArgsAndVars = function ($arg1, $arg2) use ($var1, $var2) { // body }; å‚æ•°åˆ—è¡¨ä»¥åŠå˜é‡åˆ—è¡¨å¯ä»¥åˆ†æˆå¤šè¡Œï¼Œè¿™æ ·ï¼ŒåŒ…æ‹¬ç¬¬ä¸€ä¸ªåœ¨å†…çš„æ¯ä¸ªå‚æ•°æˆ–å˜é‡éƒ½å¿…é¡»å•ç‹¬æˆè¡Œï¼Œè€Œåˆ—è¡¨çš„å³æ‹¬å·ä¸é—­åŒ…çš„å¼€å§‹èŠ±æ‹¬å·å¿…é¡»æ”¾åœ¨åŒä¸€è¡Œã€‚\nä»¥ä¸‹å‡ ä¸ªä¾‹å­ï¼ŒåŒ…å«äº†å‚æ•°å’Œå˜é‡åˆ—è¡¨è¢«åˆ†æˆå¤šè¡Œçš„å¤šæƒ…å†µã€‚\n\u0026lt;?php $longArgs_noVars = function ( $longArgument, $longerArgument, $muchLongerArgument ) { // body }; $noArgs_longVars = function () use ( $longVar1, $longerVar2, $muchLongerVar3 ) { // body }; $longArgs_longVars = function ( $longArgument, $longerArgument, $muchLongerArgument ) use ( $longVar1, $longerVar2, $muchLongerVar3 ) { // body }; $longArgs_shortVars = function ( $longArgument, $longerArgument, $muchLongerArgument ) use ($var1) { // body }; $shortArgs_longVars = function ($arg) use ( $longVar1, $longerVar2, $muchLongerVar3 ) { // body }; æ³¨æ„ï¼Œé—­åŒ…è¢«ç›´æ¥ç”¨ä½œå‡½æ•°æˆ–æ–¹æ³•è°ƒç”¨çš„å‚æ•°æ—¶ï¼Œä»¥ä¸Šè§„åˆ™ä»ç„¶é€‚ç”¨ã€‚\n\u0026lt;?php $foo-\u0026gt;bar( $arg1, function ($arg2) use ($var1) { // body  }, $arg3 );  PSR-3 æ—¥å¿—æ¥å£è§„èŒƒ(Logger Interface)  æœ¬è§„èŒƒçš„ä¸»è¦ç›®çš„ï¼Œæ˜¯ä¸ºäº†è®©æ—¥å¿—ç±»åº“ä»¥ç®€å•é€šç”¨çš„æ–¹å¼ï¼Œé€šè¿‡æ¥æ”¶ä¸€ä¸ª Psr\\Log\\LoggerInterface å¯¹è±¡ï¼Œæ¥è®°å½•æ—¥å¿—ä¿¡æ¯ã€‚\n  æœ¬æ–‡ä¸­çš„ å®ç°è€… æŒ‡çš„æ˜¯å®ç°äº† LoggerInterface æ¥å£çš„ç±»åº“æˆ–è€…æ¡†æ¶ï¼Œåè¿‡æ¥è®²ï¼Œä»–ä»¬å°±æ˜¯ LoggerInterface çš„ ä½¿ç”¨è€…ã€‚\n 1. è§„èŒƒè¯´æ˜ è¿™éƒ¨åˆ†å†…å®¹ç­‰éœ€è¦çš„æ—¶å€™åœ¨çœ‹,ç­‰éœ€è¦äº†è§£çš„æ—¶å€™å†çœ‹,ç¡®å®æœ‰äº›æ¯ç‡¥!!\n1.1 åŸºæœ¬è§„èŒƒ   LoggerInterface æ¥å£å¯¹å¤–å®šä¹‰äº†å…«ä¸ªæ–¹æ³•ï¼Œåˆ†åˆ«ç”¨æ¥è®°å½• RFC 5424 ä¸­å®šä¹‰çš„å…«ä¸ªç­‰çº§çš„æ—¥å¿—ï¼šdebugã€ infoã€ noticeã€ warningã€ errorã€ criticalã€ alert ä»¥åŠ emergency ã€‚\n  ç¬¬ä¹ä¸ªæ–¹æ³• â€”â€” logï¼Œå…¶ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºè®°å½•çš„ç­‰çº§ã€‚å¯ä½¿ç”¨ä¸€ä¸ªé¢„å…ˆå®šä¹‰çš„ç­‰çº§å¸¸é‡ä½œä¸ºå‚æ•°æ¥è°ƒç”¨æ­¤æ–¹æ³•ï¼Œå¿…é¡»ä¸ç›´æ¥è°ƒç”¨ä»¥ä¸Šå…«ä¸ªæ–¹æ³•å…·æœ‰ç›¸åŒçš„æ•ˆæœã€‚å¦‚æœä¼ å…¥çš„ç­‰çº§å¸¸é‡å‚æ•°æ²¡æœ‰é¢„å…ˆå®šä¹‰ï¼Œåˆ™å¿…é¡»æŠ›å‡º Psr\\Log\\InvalidArgumentException ç±»å‹çš„å¼‚å¸¸ã€‚åœ¨ä¸ç¡®å®šçš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨è€…ä¸è¯¥ä½¿ç”¨æœªæ”¯æŒçš„ç­‰çº§å¸¸é‡æ¥è°ƒç”¨æ­¤æ–¹æ³•ã€‚\n  1.2 è®°å½•ä¿¡æ¯   ä»¥ä¸Šæ¯ä¸ªæ–¹æ³•éƒ½æ¥å—ä¸€ä¸ªå­—ç¬¦ä¸²ç±»å‹æˆ–è€…æ˜¯æœ‰ __toString() æ–¹æ³•çš„å¯¹è±¡ä½œä¸ºè®°å½•ä¿¡æ¯å‚æ•°ï¼Œè¿™æ ·ï¼Œå®ç°è€…å°±èƒ½æŠŠå®ƒå½“æˆå­—ç¬¦ä¸²æ¥å¤„ç†ï¼Œå¦åˆ™å®ç°è€…å¿…é¡»è‡ªå·±æŠŠå®ƒè½¬æ¢æˆå­—ç¬¦ä¸²ã€‚\n  è®°å½•ä¿¡æ¯å‚æ•°å¯ä»¥æºå¸¦å ä½ç¬¦ï¼Œå®ç°è€…å¯ä»¥æ ¹æ®ä¸Šä¸‹æ–‡å°†å…¶å®ƒæ›¿æ¢æˆç›¸åº”çš„å€¼ã€‚\nå…¶ä¸­å ä½ç¬¦å¿…é¡»ä¸ä¸Šä¸‹æ–‡æ•°ç»„ä¸­çš„é”®åä¿æŒä¸€è‡´ã€‚\nå ä½ç¬¦çš„åç§°å¿…é¡»ç”±ä¸€ä¸ªå·¦èŠ±æ‹¬å· { ä»¥åŠä¸€ä¸ªå³æ‹¬å· } åŒ…å«ã€‚ä½†èŠ±æ‹¬å·ä¸åç§°ä¹‹é—´ä¸€å®šä¸èƒ½æœ‰ç©ºæ ¼ç¬¦ã€‚\nå ä½ç¬¦çš„åç§°åº”è¯¥åªç”± A-Zã€ a-z,0-9ã€ä¸‹åˆ’çº¿ _ã€ä»¥åŠè‹±æ–‡çš„å¥å· .ç»„æˆï¼Œå…¶å®ƒå­—ç¬¦ä½œä¸ºå°†æ¥å ä½ç¬¦è§„èŒƒçš„ä¿ç•™ã€‚\nå®ç°è€…å¯ä»¥é€šè¿‡å¯¹å ä½ç¬¦é‡‡ç”¨ä¸åŒçš„è½¬ä¹‰å’Œè½¬æ¢ç­–ç•¥ï¼Œæ¥ç”Ÿæˆæœ€ç»ˆçš„æ—¥å¿—ã€‚ è€Œä½¿ç”¨è€…åœ¨ä¸çŸ¥é“ä¸Šä¸‹æ–‡çš„å‰æä¸‹ï¼Œä¸è¯¥ æå‰è½¬ä¹‰å ä½ç¬¦ã€‚\nä»¥ä¸‹æ˜¯ä¸€ä¸ªå ä½ç¬¦ä½¿ç”¨çš„ä¾‹å­ï¼š\n/** * ç”¨ä¸Šä¸‹æ–‡ä¿¡æ¯æ›¿æ¢è®°å½•ä¿¡æ¯ä¸­çš„å ä½ç¬¦ */ function interpolate($message, array $context = array()) { // æ„å»ºä¸€ä¸ªèŠ±æ‹¬å·åŒ…å«çš„é”®åçš„æ›¿æ¢æ•°ç»„ $replace = array(); foreach ($context as $key =\u0026gt; $val) { $replace[\u0026#39;{\u0026#39; . $key . \u0026#39;}\u0026#39;] = $val; } // æ›¿æ¢è®°å½•ä¿¡æ¯ä¸­çš„å ä½ç¬¦ï¼Œæœ€åè¿”å›ä¿®æ”¹åçš„è®°å½•ä¿¡æ¯ã€‚ return strtr($message, $replace); } // å«æœ‰å¸¦èŠ±æ‹¬å·å ä½ç¬¦çš„è®°å½•ä¿¡æ¯ã€‚ $message = \u0026#34;User {username} created\u0026#34;; // å¸¦æœ‰æ›¿æ¢ä¿¡æ¯çš„ä¸Šä¸‹æ–‡æ•°ç»„ï¼Œé”®åä¸ºå ä½ç¬¦åç§°ï¼Œé”®å€¼ä¸ºæ›¿æ¢å€¼ã€‚ $context = array(\u0026#39;username\u0026#39; =\u0026gt; \u0026#39;bolivar\u0026#39;); // è¾“å‡º \u0026#34;Username bolivar created\u0026#34; echo interpolate($message, $context);   1.3 ä¸Šä¸‹æ–‡   æ¯ä¸ªè®°å½•å‡½æ•°éƒ½æ¥å—ä¸€ä¸ªä¸Šä¸‹æ–‡æ•°ç»„å‚æ•°ï¼Œç”¨æ¥è£…è½½å­—ç¬¦ä¸²ç±»å‹æ— æ³•è¡¨ç¤ºçš„ä¿¡æ¯ã€‚å®ƒå¯ä»¥è£…è½½ä»»ä½•ä¿¡æ¯ï¼Œæ‰€ä»¥å®ç°è€…å¿…é¡»ç¡®ä¿èƒ½æ­£ç¡®å¤„ç†å…¶è£…è½½çš„ä¿¡æ¯ï¼Œå¯¹äºå…¶è£…è½½çš„æ•°æ®ï¼Œä¸€å®šä¸èƒ½ æŠ›å‡ºå¼‚å¸¸ï¼Œæˆ–äº§ç”ŸPHPå‡ºé”™ã€è­¦å‘Šæˆ–æé†’ä¿¡æ¯ï¼ˆerrorã€warningã€noticeï¼‰ã€‚\n  å¦‚éœ€é€šè¿‡ä¸Šä¸‹æ–‡å‚æ•°ä¼ å…¥äº†ä¸€ä¸ª Exception å¯¹è±¡ï¼Œ å¿…é¡» ä»¥ 'exception' ä½œä¸ºé”®åã€‚ è®°å½•å¼‚å¸¸ä¿¡æ¯æ˜¯å¾ˆæ™®éçš„ï¼Œæ‰€ä»¥å¦‚æœå®ƒèƒ½å¤Ÿåœ¨è®°å½•ç±»åº“çš„åº•å±‚å®ç°ï¼Œå°±èƒ½å¤Ÿè®©å®ç°è€…ä»å¼‚å¸¸ä¿¡æ¯ä¸­æŠ½ä¸å‰¥èŒ§ã€‚ å½“ç„¶ï¼Œå®ç°è€…åœ¨ä½¿ç”¨å®ƒæ—¶ï¼Œå¿…é¡» ç¡®ä¿é”®åä¸º 'exception' çš„é”®å€¼æ˜¯å¦çœŸçš„æ˜¯ä¸€ä¸ª Exceptionï¼Œæ¯•ç«Ÿå®ƒå¯ä»¥è£…è½½ä»»ä½•ä¿¡æ¯ã€‚\n  1.4 åŠ©æ‰‹ç±»å’Œæ¥å£   Psr\\Log\\AbstractLogger ç±»ä½¿å¾—åªéœ€ç»§æ‰¿å®ƒå’Œå®ç°å…¶ä¸­çš„ log æ–¹æ³•ï¼Œå°±èƒ½å¤Ÿå¾ˆè½»æ˜“åœ°å®ç° LoggerInterface æ¥å£ï¼Œè€Œå¦å¤–å…«ä¸ªæ–¹æ³•å°±èƒ½å¤ŸæŠŠè®°å½•ä¿¡æ¯å’Œä¸Šä¸‹æ–‡ä¿¡æ¯ä¼ ç»™å®ƒã€‚\n  åŒæ ·åœ°ï¼Œä½¿ç”¨ Psr\\Log\\LoggerTrait ä¹Ÿåªéœ€å®ç°å…¶ä¸­çš„ log æ–¹æ³•ã€‚ä¸è¿‡ï¼Œéœ€è¦ç‰¹åˆ«æ³¨æ„çš„æ˜¯ï¼Œåœ¨traitså¯å¤ç”¨ä»£ç å—è¿˜ä¸èƒ½å®ç°æ¥å£å‰ï¼Œè¿˜éœ€è¦ implement LoggerInterfaceã€‚\n  åœ¨æ²¡æœ‰å¯ç”¨çš„æ—¥å¿—è®°å½•å™¨æ—¶ï¼Œ Psr\\Log\\NullLogger æ¥å£å¯ä»¥ä¸ºä½¿ç”¨è€…æä¾›ä¸€ä¸ªå¤‡ç”¨çš„æ—¥å¿—â€œé»‘æ´â€ã€‚ä¸è¿‡ï¼Œå½“ä¸Šä¸‹æ–‡çš„æ„å»ºéå¸¸æ¶ˆè€—èµ„æºæ—¶ï¼Œå¸¦æ¡ä»¶æ£€æŸ¥çš„æ—¥å¿—è®°å½•æˆ–è®¸æ˜¯æ›´å¥½çš„åŠæ³•ã€‚\n  Psr\\Log\\LoggerAwareInterface æ¥å£ä»…åŒ…æ‹¬ä¸€ä¸ª setLogger(LoggerInterface $logger) æ–¹æ³•ï¼Œæ¡†æ¶å¯ä»¥ä½¿ç”¨å®ƒå®ç°è‡ªåŠ¨è¿æ¥ä»»æ„çš„æ—¥å¿—è®°å½•å®ä¾‹ã€‚\n  Psr\\Log\\LoggerAwareTrait traitå¯å¤ç”¨ä»£ç å—å¯ä»¥åœ¨ä»»ä½•çš„ç±»é‡Œé¢ä½¿ç”¨ï¼Œåªéœ€é€šè¿‡å®ƒæä¾›çš„ $this-\u0026gt;loggerï¼Œå°±å¯ä»¥è½»æ¾åœ°å®ç°ç­‰åŒçš„æ¥å£ã€‚\n  Psr\\Log\\LogLevel ç±»è£…è½½äº†å…«ä¸ªè®°å½•ç­‰çº§å¸¸é‡ã€‚\n  2. åŒ…  ä¸Šè¿°çš„æ¥å£ã€ç±»å’Œç›¸å…³çš„å¼‚å¸¸ç±»ï¼Œä»¥åŠä¸€ç³»åˆ—çš„å®ç°æ£€æµ‹æ–‡ä»¶ï¼Œéƒ½åŒ…å«åœ¨ psr/log æ–‡ä»¶åŒ…ä¸­ã€‚\n3. Psr\\Log\\LoggerInterface  \u0026lt;?php namespace Psr\\Log; /** * æ—¥å¿—è®°å½•å®ä¾‹ * * æ—¥å¿—ä¿¡æ¯å˜é‡ â€”â€” messageï¼Œ **å¿…é¡»**æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æˆ–æ˜¯å®ç°äº† __toString() æ–¹æ³•çš„å¯¹è±¡ã€‚ * * æ—¥å¿—ä¿¡æ¯å˜é‡ä¸­**å¯ä»¥**åŒ…å«æ ¼å¼å¦‚ â€œ{foo}â€ (ä»£è¡¨foo) çš„å ä½ç¬¦ï¼Œ * å®ƒå°†ä¼šç”±ä¸Šä¸‹æ–‡æ•°ç»„ä¸­é”®åä¸º \u0026#34;foo\u0026#34; çš„é”®å€¼æ›¿ä»£ã€‚ * * ä¸Šä¸‹æ–‡æ•°ç»„å¯ä»¥æºå¸¦ä»»æ„çš„æ•°æ®ï¼Œå”¯ä¸€çš„é™åˆ¶æ˜¯ï¼Œå½“å®ƒæºå¸¦çš„æ˜¯ä¸€ä¸ª exception å¯¹è±¡æ—¶ï¼Œå®ƒçš„é”®å å¿…é¡» æ˜¯ \u0026#34;exception\u0026#34;ã€‚ * * è¯¦æƒ…å¯å‚é˜…ï¼š https://github.com/PizzaLiu/PHP-FIG/blob/master/PSR-3-logger-interface-cn.md */ interface LoggerInterface { /** * ç³»ç»Ÿä¸å¯ç”¨ * * @param string $message * @param array $context * @return null */ public function emergency($message, array $context = array()); /** * **å¿…é¡»**ç«‹åˆ»é‡‡å–è¡ŒåŠ¨ * * ä¾‹å¦‚ï¼šåœ¨æ•´ä¸ªç½‘ç«™éƒ½å®æ‰äº†ã€æ•°æ®åº“ä¸å¯ç”¨äº†æˆ–è€…å…¶ä»–çš„æƒ…å†µä¸‹ï¼Œ**åº”è¯¥**å‘é€ä¸€æ¡è­¦æŠ¥çŸ­ä¿¡æŠŠä½ å«é†’ã€‚ * * @param string $message * @param array $context * @return null */ public function alert($message, array $context = array()); /** * ç´§æ€¥æƒ…å†µ * * ä¾‹å¦‚ï¼šç¨‹åºç»„ä»¶ä¸å¯ç”¨æˆ–è€…å‡ºç°éé¢„æœŸçš„å¼‚å¸¸ã€‚ * * @param string $message * @param array $context * @return null */ public function critical($message, array $context = array()); /** * è¿è¡Œæ—¶å‡ºç°çš„é”™è¯¯ï¼Œä¸éœ€è¦ç«‹åˆ»é‡‡å–è¡ŒåŠ¨ï¼Œä½†å¿…é¡»è®°å½•ä¸‹æ¥ä»¥å¤‡æ£€æµ‹ã€‚ * * @param string $message * @param array $context * @return null */ public function error($message, array $context = array()); /** * å‡ºç°éé”™è¯¯æ€§çš„å¼‚å¸¸ã€‚ * * ä¾‹å¦‚ï¼šä½¿ç”¨äº†è¢«å¼ƒç”¨çš„APIã€é”™è¯¯åœ°ä½¿ç”¨äº†APIæˆ–è€…éé¢„æƒ³çš„ä¸å¿…è¦é”™è¯¯ã€‚ * * @param string $message * @param array $context * @return null */ public function warning($message, array $context = array()); /** * ä¸€èˆ¬æ€§é‡è¦çš„äº‹ä»¶ã€‚ * * @param string $message * @param array $context * @return null */ public function notice($message, array $context = array()); /** * é‡è¦äº‹ä»¶ * * ä¾‹å¦‚ï¼šç”¨æˆ·ç™»å½•å’ŒSQLè®°å½•ã€‚ * * @param string $message * @param array $context * @return null */ public function info($message, array $context = array()); /** * debug è¯¦æƒ… * * @param string $message * @param array $context * @return null */ public function debug($message, array $context = array()); /** * ä»»æ„ç­‰çº§çš„æ—¥å¿—è®°å½• * * @param mixed $level * @param string $message * @param array $context * @return null */ public function log($level, $message, array $context = array()); } 4. Psr\\Log\\LoggerAwareInterface  \u0026lt;?php namespace Psr\\Log; /** * logger-aware å®šä¹‰å®ä¾‹ */ interface LoggerAwareInterface { /** * è®¾ç½®ä¸€ä¸ªæ—¥å¿—è®°å½•å®ä¾‹ * * @param LoggerInterface $logger * @return null */ public function setLogger(LoggerInterface $logger); } 5. Psr\\Log\\LogLevel  \u0026lt;?php namespace Psr\\Log; /** * æ—¥å¿—ç­‰çº§å¸¸é‡å®šä¹‰ */ class LogLevel { const EMERGENCY = \u0026#39;emergency\u0026#39;; const ALERT = \u0026#39;alert\u0026#39;; const CRITICAL = \u0026#39;critical\u0026#39;; const ERROR = \u0026#39;error\u0026#39;; const WARNING = \u0026#39;warning\u0026#39;; const NOTICE = \u0026#39;notice\u0026#39;; const INFO = \u0026#39;info\u0026#39;; const DEBUG = \u0026#39;debug\u0026#39;; }  PSR-4 è‡ªåŠ¨è½½å…¥(Autoloader) 1. æ¦‚è¿° æœ¬ PSR æ˜¯å…³äºç”±æ–‡ä»¶è·¯å¾„ è‡ªåŠ¨è½½å…¥ å¯¹åº”ç±»çš„ç›¸å…³è§„èŒƒï¼Œ æœ¬è§„èŒƒæ˜¯å¯äº’æ“ä½œçš„ï¼Œå¯ä»¥ä½œä¸ºä»»ä¸€è‡ªåŠ¨è½½å…¥è§„èŒƒçš„è¡¥å……ï¼Œå…¶ä¸­åŒ…æ‹¬ PSR-0ï¼Œæ­¤å¤–ï¼Œ æœ¬ PSR è¿˜åŒ…æ‹¬è‡ªåŠ¨è½½å…¥çš„ç±»å¯¹åº”çš„æ–‡ä»¶å­˜æ”¾è·¯å¾„è§„èŒƒã€‚\n2. è¯¦ç»†è¯´æ˜   æ­¤å¤„çš„â€œç±»â€æ³›æŒ‡æ‰€æœ‰çš„classç±»ã€æ¥å£ã€traitså¯å¤ç”¨ä»£ç å—ä»¥åŠå…¶å®ƒç±»ä¼¼ç»“æ„ã€‚\n  ä¸€ä¸ªå®Œæ•´çš„ç±»åéœ€å…·æœ‰ä»¥ä¸‹ç»“æ„:\n `\\\u0026lt;å‘½åç©ºé—´\u0026gt;(\\\u0026lt;å­å‘½åç©ºé—´\u0026gt;)*\\\u0026lt;ç±»å\u0026gt;`    å®Œæ•´çš„ç±»å å¿…é¡» è¦æœ‰ä¸€ä¸ªé¡¶çº§å‘½åç©ºé—´ï¼Œè¢«ç§°ä¸º \u0026ldquo;vendor namespace\u0026rdquo;ï¼›\n  å®Œæ•´çš„ç±»å å¯ä»¥ æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªå­å‘½åç©ºé—´ï¼›\n  å®Œæ•´çš„ç±»å å¿…é¡» æœ‰ä¸€ä¸ªæœ€ç»ˆçš„ç±»åï¼›\n  å®Œæ•´çš„ç±»åä¸­ä»»æ„ä¸€éƒ¨åˆ†ä¸­çš„ä¸‹æ»‘çº¿éƒ½æ˜¯æ²¡æœ‰ç‰¹æ®Šå«ä¹‰çš„ï¼›\n  å®Œæ•´çš„ç±»å å¯ä»¥ ç”±ä»»æ„å¤§å°å†™å­—æ¯ç»„æˆï¼›\n  æ‰€æœ‰ç±»åéƒ½ å¿…é¡» æ˜¯å¤§å°å†™æ•æ„Ÿçš„ã€‚\n    å½“æ ¹æ®å®Œæ•´çš„ç±»åè½½å…¥ç›¸åº”çš„æ–‡ä»¶â€¦â€¦\n  å®Œæ•´çš„ç±»åä¸­ï¼Œå»æ‰æœ€å‰é¢çš„å‘½åç©ºé—´åˆ†éš”ç¬¦ï¼Œå‰é¢è¿ç»­çš„ä¸€ä¸ªæˆ–å¤šä¸ªå‘½åç©ºé—´å’Œå­å‘½åç©ºé—´ï¼Œä½œä¸ºâ€œå‘½åç©ºé—´å‰ç¼€â€ï¼Œå…¶å¿…é¡»ä¸è‡³å°‘ä¸€ä¸ªâ€œæ–‡ä»¶åŸºç›®å½•â€ç›¸å¯¹åº”ï¼›\n  ç´§æ¥å‘½åç©ºé—´å‰ç¼€åçš„å­å‘½åç©ºé—´ å¿…é¡» ä¸ç›¸åº”çš„â€æ–‡ä»¶åŸºç›®å½•â€œç›¸åŒ¹é…ï¼Œå…¶ä¸­çš„å‘½åç©ºé—´åˆ†éš”ç¬¦å°†ä½œä¸ºç›®å½•åˆ†éš”ç¬¦ã€‚\n  æœ«å°¾çš„ç±»åå¿…é¡»ä¸å¯¹åº”çš„ä»¥ .php ä¸ºåç¼€çš„æ–‡ä»¶åŒåã€‚\n  è‡ªåŠ¨åŠ è½½å™¨ï¼ˆautoloaderï¼‰çš„å®ç° ä¸€å®šä¸èƒ½ æŠ›å‡ºå¼‚å¸¸ã€ä¸€å®šä¸èƒ½ è§¦å‘ä»»ä¸€çº§åˆ«çš„é”™è¯¯ä¿¡æ¯ä»¥åŠ ä¸åº”è¯¥ æœ‰è¿”å›å€¼ã€‚\n    3. ä¾‹å­ ä¸‹è¡¨å±•ç¤ºäº†ç¬¦åˆè§„èŒƒå®Œæ•´ç±»åã€å‘½åç©ºé—´å‰ç¼€å’Œæ–‡ä»¶åŸºç›®å½•æ‰€å¯¹åº”çš„æ–‡ä»¶è·¯å¾„ã€‚\n   å®Œæ•´ç±»å å‘½åç©ºé—´å‰ç¼€ æ–‡ä»¶åŸºç›®å½• æ–‡ä»¶è·¯å¾„     \\Acme\\Log\\Writer\\File_Writer Acme\\Log\\Writer ./acme-log-writer/lib/ ./acme-log-writer/lib/File_Writer.php   \\Aura\\Web\\Response\\Status Aura\\Web /path/to/aura-web/src/ /path/to/aura-web/src/Response/Status.php   \\Symfony\\Core\\Request Symfony\\Core ./vendor/Symfony/Core/ ./vendor/Symfony/Core/Request.php   \\Zend\\Acl Zend /usr/includes/Zend/ /usr/includes/Zend/Acl.php    å…³äºæœ¬è§„èŒƒçš„å®ç°ï¼Œå¯å‚é˜… ç›¸å…³å®ä¾‹ æ³¨æ„ï¼šå®ä¾‹å¹¶ä¸å±äºè§„èŒƒçš„ä¸€éƒ¨åˆ†ï¼Œä¸”éšæ—¶ä¼šæœ‰æ‰€å˜åŠ¨ã€‚\n","permalink":"https://wedojava.github.io/posts/php%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/","tags":["php"," TheRightWay"," PHPä¹‹é“"," PSR"," ç¼–ç è§„èŒƒ"],"title":"PHPç¼–ç è§„èŒƒ-å­¦ä¹ ç¬”è®°"},{"categories":["Mac"],"contents":"ä¸ºäº†è£…hexo-cli,éœ€è¦å…ˆè£…é…å¥½npmç¯å¢ƒå’ŒGitç¯å¢ƒ,äºæ˜¯æ¥è§¦åˆ°äº†npmçš„å®‰è£…éš¾çš„é—®é¢˜,æˆ‘åœ¨Ubuntuç³»ç»Ÿä¸Šé‡åˆ°çš„é—®é¢˜æ˜¯ä¸ªåˆ«ç›®å½•æ— æƒé™è®¿é—®,æˆ‘åœ¨Macä¸Šä¹Ÿé‡åˆ°äº†åŒæ ·çš„é—®é¢˜,æœ‰å»ºè®®æ˜¯ç”¨rootæƒé™å–å®‰è£…å°±å¥½äº†,ä½†æ˜¯æˆ‘ä¸æƒ³è¿™æ ·,è¿™æ ·åŠ¿å¿…æ˜¯å½±å“äº†æˆ‘çš„æ“ä½œä¹ æƒ¯,rootçš„æ ¹ç›®å½•å’Œérootç”¨æˆ·çš„æ ¹ç›®å½•ä¸åŒçš„.æ‰€ä»¥æˆ‘è¿™ä¹ˆåšäº†:\nsudo chown -R [ä½ çš„å½“å‰ç”¨æˆ·å] /usr/local å¦‚æœä½ å·²ç»å®‰è£…äº†å¾ˆå¤šäº†,å»ºè®®ç›´æ¥åˆ é™¤æ‰é¡¹ç›®é‡Œçš„node_moudles,é‡æ–°å®‰è£….\næœ€å,å¦‚æœä½ æ„Ÿåˆ°ç½‘é€Ÿä¸ç»™åŠ›,å¯ä»¥è¯•è¯•æ‹œæ‰˜å¤§ä¸­åå±€åŸŸç½‘çš„ä¸­å›½é•œåƒ,å¦‚:cnodejsæˆ–taobao.org\nå¦‚æœä½ ç”Ÿé™¤ä¸­å›½,æ›´å»ºè®®ä½ ç”¨cnpm,å®ƒå’ŒnpmåŒæ­¥æ›´æ–°çš„,è¶³å¤Ÿä½ ä½¿ç”¨äº†:\nnpm install -g cnpm --registry=http://registry.npm.taobao.org æˆ–\nnpm install -g cnpm æœ€å,æ„Ÿè°¢NPMç»´æŠ¤è€…æä¾›è§£å†³æ–¹æ¡ˆ:https://github.com/npm/npm/issues/5922\nå‚è€ƒæ–‡çŒ®:å…³äºMacOSXä½¿ç”¨NPMçš„å§¿åŠ¿è¡¥å……\n","permalink":"https://wedojava.github.io/posts/macosx%E5%AE%89%E8%A3%85npm%E7%BB%8F%E9%AA%8C%E8%B0%88/","tags":["Mac"," npm"," node"," å®‰è£…"],"title":"MacOSXå®‰è£…NPMç»éªŒè°ˆ"},{"categories":["PHP"],"contents":"è¿™ç§æƒ…å†µä¸€èˆ¬æ˜¯å› ä¸ºæƒé™é—®é¢˜å¯¼è‡´çš„,æœ€å¼€å§‹é‡åˆ°è¿™ç§æƒ…æ˜¯ç”¨linuxeyeçš„ä¸€é”®é‡åˆ°çš„,å…±äº«å‡ºæ¥å’Œæœ¬åœ°æ˜ å°„çš„æ–‡ä»¶å¤¹é‡Œçš„phpä»£ç ä¸èƒ½è¢«è§£æ,åœ¨è™šæ‹Ÿæœºé‡ŒæŸ¥çœ‹æ–‡ä»¶å¤¹ç¯å¢ƒ,å‘ç°éƒ½æ˜¯wwwçš„ç”¨æˆ·å’Œç”¨æˆ·ç»„,ä½†æ˜¯æ€ä¹ˆæ”¹éƒ½æ”¹ä¸è¿‡æ¥,åœ¨å®¿ä¸»æœºä¸Šæ€ä¹ˆæ”¹ownerä¹Ÿæ˜¯å¾’åŠ³,æ€ä¹ˆåŠå‘¢?\nåœ¨Linuxä¸­è¿è¡Œçš„æœåŠ¡éƒ½ä¼šä½¿ç”¨ç‰¹å®šçš„ç”¨æˆ·,å¯ä»¥åœ¨å„è‡ªçš„é…ç½®æ–‡ä»¶ä¸­ä¿®æ”¹:\n Nginxçš„å·¥ä½œè¿›ç¨‹é»˜è®¤ä¼šä½¿ç”¨nginxè¿™ä¸ªç”¨æˆ· php-fpmå·¥ä½œè¿›ç¨‹é»˜è®¤ä¼šä½¿ç”¨php-fpmè¿™ä¸ªç”¨æˆ· linuxeyeä¸€é”®åŒ…æ˜¯wwwè¿™ä¸ªç”¨æˆ·å’Œç”¨æˆ·ç»„  å¦‚æœæ˜¯vagrantæ¶è®¾çš„è™šæ‹Ÿlinuxå»ºè®®åšå¦‚ä¸‹ä¿®æ”¹:\n linuxeyeçš„ä¸€é”®åŒ…:  sudo vim options.conf\nå°†run_user=wwwä¿®æ”¹ä¸ºrun_user=vagrant\næˆ–ä¿®æ”¹php-fpmé…ç½®:sudo vim /usr/local/php/etc/php-fpm.conf\n è‡ªå·±æ¶è®¾çš„:  sudo vim /lnmp/conf/nginx.conf\nå°†user www www; ä¿®æ”¹ä¸ºuser vagrant www;\nå¦‚æœæ˜¯php-fpmæ¥è§£æphp,é‚£ä¹ˆè¦ä¿®æ”¹php-fpmè¿›ç¨‹çš„æ‰€æœ‰è€…:\nsudo vim /etc/php-fpm.d/www.conf\nç±»ä¼¼çš„,å°†user = php-fpm æ”¹ä¸ºuser = vagrant\n","permalink":"https://wedojava.github.io/posts/%E9%97%AE%E9%A2%98-%E8%83%BD%E8%A7%A3%E6%9E%90html%E4%BD%86%E4%B8%8D%E8%83%BD%E8%A7%A3%E6%9E%90php/","tags":["linux"," html"," php"," php-fpm"," nginx"," ç”¨æˆ·"," ç”¨æˆ·ç»„"," vagrant"],"title":"'é—®é¢˜:èƒ½è§£æhtmlä½†ä¸èƒ½è§£æphp'"},{"categories":["Linux"],"contents":" vagrantï¼‹virtualbox å®‰è£…è™šæ‹Ÿæœºä¼šé‡åˆ°æœåŠ¡å™¨å†…å®¹ä¿®æ”¹äº†ä½†æ˜¯é¡µé¢ä¸å˜åŒ–çš„é—®é¢˜\n å…³é—­Nginxçš„sendfileä¸€é¡¹çš„å±æ€§:\nsudo vim /etc/nginx/nginx.conf æ‰¾åˆ°sendfile,å°†onæ”¹ä¸ºoff,ä¿å­˜å…³é—­æ–‡ä»¶.\n","permalink":"https://wedojava.github.io/posts/%E9%97%AE%E9%A2%98-%E6%80%8E%E4%B9%88%E4%BF%AE%E6%94%B9%E9%A1%B5%E9%9D%A2%E9%83%BD%E4%B8%8D%E7%94%9F%E6%95%88/","tags":["linux"," nginx"," sendfile"," vagrant"," virtualbox"," è™šæ‹Ÿæœº"],"title":"'é—®é¢˜:æ€ä¹ˆä¿®æ”¹é¡µé¢éƒ½ä¸ç”Ÿæ•ˆ'"},{"categories":["Tickets"],"contents":"Sessionç›®å½•çš„æƒé™ php.iniæ–‡ä»¶é‡Œä¸€èˆ¬ä¼šå®šä¹‰sessionæ–‡ä»¶çš„è·¯å¾„,ä½†æ˜¯php-fpmé…ç½®æ–‡ä»¶ä¼šè¦†ç›–php.inié‡Œçš„é…ç½®.\nåœ¨/etc/php-fpm.d/www.confæ–‡ä»¶ä¸­,ä¸€èˆ¬åœ¨åº•éƒ¨ä¼šæœ‰session.save_path,è¿™é‡Œå°±æ˜¯sessionæ–‡ä»¶çš„ä¿å­˜ä½ç½®äº†\n çŸ¥é“è°åœ¨è¿è¡ŒæœåŠ¡ åœ¨Linuxä¸­è¿è¡Œçš„æœåŠ¡éƒ½ä¼šä½¿ç”¨ç‰¹å®šçš„ç”¨æˆ·,å¯ä»¥åœ¨å„è‡ªçš„é…ç½®æ–‡ä»¶ä¸­ä¿®æ”¹:\n  Nginxçš„å·¥ä½œè¿›ç¨‹é»˜è®¤ä¼šä½¿ç”¨nginxè¿™ä¸ªç”¨æˆ·\n  php-fpmå·¥ä½œè¿›ç¨‹é»˜è®¤ä¼šä½¿ç”¨php-fpmè¿™ä¸ªç”¨æˆ·\n  æŸ¥çœ‹ç³»ç»Ÿè¿›ç¨‹:ps aux\næŸ¥çœ‹phpç›¸å…³è¿›ç¨‹:ps aux | grep php\nåŒç†,æŸ¥çœ‹nginxè¿›ç¨‹:ps aux | grep nginx\n é”™è¯¯æ—¥å¿—:å‘Šè¯‰æ‚¨å“ªé‡Œå‡ºé”™äº† Nginxä¸»é…ç½®æ–‡ä»¶/etc/nginx/nginx.confä¸­æœ‰ä¸€è¡Œæ˜¯error_logå¼€å¤´çš„,è¿™é‡Œå‘Šè¯‰äº†ä½ æ—¥å¿—éƒ½æ”¾åˆ°äº†å“ªé‡Œ,ä½¿ç”¨sudo tail /var/log/nginx/error.logå‘½ä»¤æ¥æŸ¥çœ‹æ—¥å¿—çš„æœ€åéƒ¨åˆ†.(ä¸€èˆ¬æ˜¯è¿™ä¸ªç›®å½•ä½ç½®,æ ¹æ®error_logæŒ‡å®šä½ç½®ç¡®å®š)\nphp-fpmçš„ä¸»é…ç½®æ–‡ä»¶/etc/php-fpm.d/www.confä¸­æœ‰ä¸€è¡ŒåŒ…å«[error_log],è¯¥è¡Œå¼€å¤´æ˜¯php_admin_value[error_log],å®ƒè¯´æ˜äº†phpé”™è¯¯æ—¥å¿—çš„ä½ç½®,ä¸€èˆ¬æ˜¯/var/log/php-fpm/www-error.log\n","permalink":"https://wedojava.github.io/posts/%E5%B8%B8%E8%AF%86%E4%B8%8D%E5%B8%B8%E8%AF%86/","tags":["linux"," nginx"," php"," php-fpm"," ini"," session"," æƒé™"," æ—¥å¿—"," æœåŠ¡"," ps"," error"," error_log"],"title":"å¸¸è¯†ä¸å¸¸è¯†"},{"categories":["Linux"],"contents":"sudo vim /etc/nginx/conf.d/default.conf(ç¼–è¾‘å…¶ä»–é…ç½®æ–‡ä»¶ä¹Ÿå¯)\nåœ¨server{}é‡Œé¢å†æ·»åŠ ä¸€ä¸ªlocationåŒºå—,æˆ–åœ¨index è®¾ç½®è¡Œçš„ä¸‹é¢æ·»åŠ ä¸€è¡Œinclude laravel.conf;(linuxeyeä¸€é”®åŒ…çš„æ–¹å¼)\nlocation / { try_files $uri $uri/ /index.php?$query_string; }    å­—æ®µ è¯´æ˜     try_files è¯•ç€æ‰“å¼€ä¸€ç³»åˆ—çš„ä¸œè¥¿,å¦‚æœéƒ½ä¸èƒ½æ‰“å¼€å°±é‡å®šå‘åˆ°æœ€åä¸€ä¸ªå‚æ•°   $uri çœ‹æœåŠ¡å™¨æœ‰æ²¡æœ‰è¯·æ±‚åŒ…å«çš„é‚£ä¸ªæ–‡ä»¶,å¦‚æœæœ‰å°±æ‰“å¼€å®ƒ,å¦‚æœæ²¡æœ‰å°±è¿›è¡Œä¸‹ä¸€é¡¹åŒ¹é…   $uri/ çœ‹æœåŠ¡å™¨æœ‰æ²¡æœ‰è¯·æ±‚çš„ç›®å½•,å¦‚æœæœ‰å°±æ‰“å¼€å®ƒ,å¦‚æœæ²¡æœ‰å°±è¿›è¡Œä¸‹ä¸€é¡¹åŒ¹é…   /index.php?$query_string; è¿™ä¸ªå¥½ç†è§£,è‡ªè¡Œç†è§£å§,åæ­£å°±æ˜¯ä¼ å‚æ•°   ","permalink":"https://wedojava.github.io/posts/07-%E9%85%8D%E7%BD%AEnginx%E4%BC%AA%E9%9D%99%E6%80%81/","tags":["linux"," nginx"," rewrite"," ä¼ªé™æ€"],"title":"é…ç½®Nginxä¼ªé™æ€"},{"categories":["Linux"],"contents":" è¿è¡Œless /etc/php-fpm.confæŸ¥çœ‹é…ç½®,include=/etc/php-fpm.d/*.confä¸€è¡Œè¯´æ˜åªè¦åœ¨è¿™ä¸ªç›®å½•ä¸‹çš„confç±»å‹çš„æ–‡ä»¶éƒ½ä¼šè¢«åŒ…å«åˆ°é…ç½®é‡Œ.è¯¥ç›®å½•ä¸‹ä¼šæœ‰ä¸€ä¸ªwww.confçš„æ–‡ä»¶,ä¸ºé»˜è®¤é…ç½®æ–‡ä»¶.  listen = 127.0.0.1:9000è¡¨ç¤ºç›‘å¬åœ°å€,å¦‚æœæœ‰è¯·æ±‚æ˜¯PHPè„šæœ¬å°±å‘é€åˆ°è¿™ä¸ªåœ°å€,å¯ä»¥ç†è§£ä¸ºPHPè„šæœ¬æ˜¯é€šè¿‡è¯¥åœ°å€çš„æœåŠ¡æ¥è§£æçš„.å¯ä»¥æ˜¯IPåœ°å€åŠ ç«¯å£å·,ä¹Ÿå¯ä»¥ç”¨socketçš„æ–¹å¼,socketæ–¹å¼æ›´å®‰å…¨äº›.   ä¿®æ”¹Nginxçš„é…ç½®æ–‡ä»¶,åœ¨ä¹‹å‰å·²ç»æ·»åŠ äº†!æ–‡ä»¶æ˜¯:/etc/nginx/conf.d/default.conf,é€šè¿‡viç¼–è¾‘å™¨ç»§ç»­ä¿®æ”¹,æ·»åŠ nginxå¯¹phpç±»æ–‡ä»¶çš„è§£æè®¾ç½®:  server{ listen 80;\t# ç›‘å¬ç«¯å£ server_name mynginx.bhl.local;\t# æœåŠ¡å,å¯ä»¥ç†è§£ä¸ºç½‘ç«™çš„åŸŸå root /vagrant/app/default/;\t# ç½‘ç«™æ–‡ä»¶åœ¨æœåŠ¡å™¨ä¸Šçš„ä½ç½® index index.php index.html;\t# éœ€è¦è®©nginxè‡ªåŠ¨è¯†åˆ«çš„æ–‡ä»¶ location ~ \\.php$ { fastcgi_pass 127.0.0.1:9000;\t##æœåŠ¡å™¨ä¸ŠPHP-fpmçš„fastcgiæœåŠ¡ç›‘å¬çš„åœ°å€ fastcgi_index index.php;\t##æœåŠ¡å™¨ä¸Šç›‘å¬çš„é»˜è®¤å…¥å£æ–‡ä»¶ include fastcgi.conf;\t##è¯¥æ–‡ä»¶åœ¨/etc/nginx/fastcgi.conf ##æ˜¯nginxè‡ªå¸¦çš„fastcgié…ç½® } } æœ€åå¯ä»¥è¿è¡Œsudo nginx -tæ¥æµ‹è¯•çœ‹nginxçš„é…ç½®æ˜¯å¦è¯­æ³•æ­£ç¡®. **æ³¨æ„:**è¿™é‡Œå®¹æ˜“çŠ¯é”™:locationç©ºæ ¼~ \\.php$ç©ºæ ¼{è¿™ä¸¤ä¸ªç©ºæ ¼åˆ«è½ä¸‹!!\n","permalink":"https://wedojava.github.io/posts/06-%E9%85%8D%E7%BD%AEnginx%E5%A4%84%E7%90%86php%E8%AF%B7%E6%B1%82/","tags":["linux"," nginx"," php"," php-fpm"," fastcgi"," æµ‹è¯•"],"title":"é…ç½®Nginxå¤„ç†PHPè¯·æ±‚"},{"categories":["Linux"],"contents":"å®Œå…¨DIYé…ç½®çš„æƒ…å†µ é»˜è®¤æƒ…å†µä¸‹æ˜¯å®‰è£…åœ¨/etc/nginxç›®å½•ä¸‹çš„:nginx.confæ˜¯ä¸»é…ç½®æ–‡ä»¶,é‡Œé¢æœ‰ä¸€ä¸ªserveråŒºå—æ˜¯é»˜è®¤çš„,åˆšå®‰è£…å¥½æ‰“å¼€çš„é»˜è®¤é¡µé¢å°±æ˜¯è¿™é‡Œæ‰€è®¾å®šçš„.include /etc/nginx/conf.d/*.conf;ä¸€è¡Œå°±æ˜¯å°†æ‰€æœ‰conf.dç›®å½•ä¸‹çš„æ‰€æœ‰.confçš„é…ç½®æ–‡ä»¶å…¨éƒ¨åŠ è½½è¿›æ¥,è¿™æ ·çš„è¯,æˆ‘ä»¬è¦é…ç½®æ–°çš„è™šæ‹Ÿç›®å½•åªéœ€è¦å°†åœ¨è¯¥ç›®å½•ä¸‹æ·»åŠ .confçš„é…ç½®æ–‡ä»¶å³å¯,ä¸åŒçš„ç«™ç‚¹å¯ä»¥æ˜¯ä¸åŒçš„é…ç½®æ–‡ä»¶.å¯ä»¥å…ˆé…ç½®ä¸€ä¸ªæ¨¡æ¿å‹confæ–‡ä»¶,æ¯”å¦‚æˆ‘ä»¬å¯ä»¥å…ˆæŠŠè‡ªå¸¦çš„default.confæ–‡ä»¶é…ç½®ä¸‹:\nsudo vi /etc/nginx/conf.d/default.conf\nserver{ listen 80; #ç›‘å¬80ç«¯å£ server_name default.myweb.local; #å¦‚æœæ”¶åˆ°è¿™ä¸ªåŸŸåçš„è¯·æ±‚ç›´æ¥å¼•å¯¼åˆ°rootç›®å½•å»è§£æ root /vagrant/app/default/; #vagrantç¥å™¨è®©æˆ‘ä»¬å®ç°æœ¬åœ°å¼€å‘è™šæ‹Ÿæœºç¯å¢ƒè¿è¡Œ index index.php index.html; } è®¾å®šçš„é…ç½®æ˜¯å¦æ­£ç¡®?è¾“å…¥å‘½ä»¤æµ‹è¯•:sudo nginx -t\nè®¾ç½®å®Œæ¯•éœ€è¦é‡å¯nginxæœåŠ¡æ¥å¯ç”¨æ–°é…ç½®:sudo systemctl reload nginx\nä¸‹é¢è®¾å®šä¸»æœºåå’ŒIPåœ°å€çš„å¯¹åº”å…³ç³»,è®¾å®šå¥½äº†æ‰å¯ä»¥è®©ä¸€äº›è‡ªå®šä¹‰åŸŸååœ¨è®¿é—®çš„æ—¶å€™æŒ‡å‘æˆ‘ä»¬åˆ¶å®šçš„IPåœ°å€, ç„¶åè®©Nginxè§£æå¹¶å¼•å¯¼è‡³æŒ‡å®šçš„æœåŠ¡å™¨ç›®å½•.\nlinuxã€Unixã€MacOSç³»ç»Ÿç¼–è¾‘æ–‡ä»¶:sudo vi /etc/hosts\nwindowsç³»ç»Ÿç¼–è¾‘æ–‡ä»¶:C:\\Windows\\System32\\Drivers\\etc\\hosts\n# ä¸‹é¢æ˜¯å®šä¹‰çš„æ ·ä¾‹ 192.168.33.33 default.myweb.local è¿™æ ·,å½“ä½ åœ¨æœ¬åœ°æµè§ˆå™¨è¾“å…¥default.myweb.localçš„æ—¶å€™å°±ä¼šè®¿é—®nginxè®¾å®šå¥½çš„ç½‘ç«™äº†,å½“ç„¶,ä½ å¯ä»¥pingä¸€ä¸‹ç½‘å€çœ‹çœ‹æŒ‡å‘çš„IPåœ°å€æ˜¯å¦æ­£ç¡®.\nç”¨\u0026quot;linuxeye\u0026quot;ä¸€é”®åŒ…çš„æƒ…å†µ å®‰è£…ä½ç½®æœ‰æ‰€ä¸åŒ,ä¸€é”®åŒ…éƒ½æ˜¯å®‰è£…åœ¨/usr/localä¸‹çš„,é…ç½®æ–‡ä»¶å°±åœ¨å¯¹åº”çš„ç›®å½•ä¸‹,å¦‚æœå®åœ¨æ‰¾ä¸åˆ°å»ºè®®çœ‹çœ‹lnmpç›®å½•ä¸‹çš„options.confæ–‡ä»¶\n","permalink":"https://wedojava.github.io/posts/05-%E9%85%8D%E7%BD%AEnginx%E8%99%9A%E6%8B%9F%E4%B8%BB%E6%9C%BA/","tags":["linux"," nginx"," vhost"," è™šæ‹Ÿä¸»æœº"," é…ç½®"],"title":"é…ç½®Nginxè™šæ‹Ÿä¸»æœº"},{"categories":["Linux"],"contents":"è¿™ä¸ªç®€å•ï¼Œç›´æ¥ä¸Šå‘½ä»¤ï¼š\nsudo yum install -y nginx å¯åŠ¨æœåŠ¡ï¼šsudo systemctl start nginx\næ£€æŸ¥æœåŠ¡ï¼šsystemctl status nginx\nè®¾ä¸ºå¯åŠ¨é¡¹ï¼šsudo systemctl enable nginx\n","permalink":"https://wedojava.github.io/posts/04-%E5%AE%89%E8%A3%85web%E6%9C%8D%E5%8A%A1%E5%99%A8nginx/","tags":["linux"," nginx"],"title":"å®‰è£…WebæœåŠ¡å™¨ï¼šNginx"},{"categories":["Linux"],"contents":"yum search php | grep fpm å¯ä»¥æ‰¾åˆ°ä¸€è¡Œæ˜¯php56u-fpm.x86_64,å°±å®‰è£…è¿™ä¸ªï¼š\nsudo yum install -y php56u-fpm ç”¨sudo systemctl start php-fpmå¯åŠ¨php-fpm,ç”¨systemctl status php-fpmæ¥çœ‹æœåŠ¡æ˜¯å¦èµ·æ¥ï¼Œç”¨sudo systemctl enable php-fpmæ¥å°†æœåŠ¡ä½œä¸ºå¯åŠ¨é¡¹åŒç³»ç»Ÿä¸€èµ·å¯åŠ¨ã€‚\ncentos 6 è®¾å®šå¼€æœºå¯åŠ¨:\nsudo chkconfig --add php-fpm sudo chkconfig php-fpm on åœ¨åŸºäºDebiançš„å‘è¡Œç‰ˆä¸­ä½ å¯ä»¥ä½¿ç”¨ update-rc.d:\nupdate-rc.d php-fpm defaults ä¸‹é¢æˆ‘ä»¬å®‰è£…å¸¸ç”¨æ‰©å±•ï¼š\nsudo yum install -y php56u-gd php56u-mysqlnd php56u-pdo php56u-mcrypt php56u-mbstring php56u-xmlrpc php56u-pecl-jsonc  php-cliçš„mcryptæ‰©å±•çš„å®‰è£… php-cliå°±æ˜¯åœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥phpå‘½ä»¤æ—¶æ‰§è¡Œçš„php,php -vå¯ä»¥çœ‹åˆ°ç‰ˆæœ¬,php -må¯ä»¥çœ‹åˆ°å·²ç»å®‰è£…å’ŒåŠ è½½çš„æ¨¡å—\nå¦‚æœä½ å‘ç°æ²¡æœ‰mcrypt ,å¯ä»¥è¿è¡Œ:\nsudo apt-get install mcrypt\nsudo apt-get install php5-mcrypt\næ­¤æ—¶,å¦‚æœæ²¡æœ‰æ„å¤–,ä½ php -mä¾ç„¶æ²¡æœ‰mcryptæ¨¡å—,æ€ä¹ˆåŠå‘¢?\nè¿™æ˜¯æˆ‘æŸ¥åˆ°çš„å¸®åˆ°æˆ‘çš„é¡µé¢ -\u0026gt; çŸ­é“¾æ¥ åŸé“¾æ¥\næˆ‘åšäº†ä»¥ä¸‹ä¸¤æ­¥å°±æˆäº†:\n cd /etc/php5/cli/conf.d ln -s ../../mods-available/mcrypt.ini 20-mcrypt.ini ","permalink":"https://wedojava.github.io/posts/03-%E5%AE%89%E8%A3%85php%E4%B8%8E%E5%B8%B8%E7%94%A8%E6%89%A9%E5%B1%95/","tags":["linux"," php"," php-fpm"," mcrypt"," php-cli"],"title":"å®‰è£…PHPä¸å¸¸ç”¨æ‰©å±•"},{"categories":["Linux"],"contents":" Mariaæ•°æ®åº“å…·ä½“å¯ä»¥æœç´¢çœ‹ï¼Œå®Œå…¨å¯ä»¥æ›¿ä»£äº†MySQLæ•°æ®åº“ï¼Œæ¨èä½¿ç”¨MySQLåŸä½œè€…ä»¥è‡ªå·±å¥³å„¿å‘½åçš„å¼€æºæ•°æ®åº“Mariaï¼ŒMySQLè¢«Oracleæ”¶ä¸‹äº†ã€‚æ©æ©ã€‚ã€‚\n æ³¨æ„,èƒ½è¿è¡Œä¸‹é¢çš„å‘½ä»¤,å‰ææ˜¯ä½ å·²ç»æˆåŠŸæ·»åŠ äº†èµ„æºä»“åº“,å¹¶ä¸”æ˜¯CentOS 7.X,å¦‚æœæ˜¯6.X,å»ºè®®ç›´æ¥è·³åˆ°æœ€åä¸€é¡¹.\nè¿™é‡Œå¼€å§‹å®‰è£…,å‘½ä»¤è¡Œï¼š\nsudo yum install -y mariadb100u-server mariadb100u å®‰è£…å®Œæ¯•åå¯èƒ½ä¼šæœ‰é”™è¯¯æç¤ºï¼š\né”™è¯¯ï¼šmariadb100u-config conflicts with 1: mariadb-libs-.......x86_64 è¿™ä¸ªå†²çªè¯´æ˜ç³»ç»Ÿå·²ç»å®‰è£…äº†Mariaæ•°æ®åº“ï¼Œåˆ é™¤è€çš„æ•°æ®åº“ï¼š\nsudo yum remove -y mariadb-libs ç„¶åå†æ‰§è¡Œä¸€éå®‰è£…å‘½ä»¤ï¼š\nsudo yum install -y mariadb100u-server mariadb100u å‘½ä»¤æ‰§è¡Œå®Œæ¯•ï¼Œmariadbåº”è¯¥å°±å·²ç»å®‰è£…å¥½äº†ï¼Œæˆ‘ä»¬ç°åœ¨å¯åŠ¨è¯¥æœåŠ¡ï¼š\nsudo systemctl start mariadb æœåŠ¡æˆåŠŸå¯åŠ¨åæŸ¥çœ‹ä¸‹æœåŠ¡çŠ¶æ€ï¼š\nsystemctl status mariadb å¦‚æœActive:é€‰é¡¹æ˜¾ç¤ºactive(running)è¯´æ˜æœåŠ¡è¿è¡Œæ­£å¸¸ï¼Œä¸‹é¢æˆ‘ä»¬å°†æœåŠ¡è®¾ä¸ºå¯åŠ¨é¡¹:\nsudo systemctl enable mariadb ç„¶ååœ¨å‘½ä»¤è¡Œè¾“å…¥mysql_secure_installationè®¾ç½®mariadbçš„å®‰å…¨é€‰é¡¹ï¼š\n ç¬¬ä¸€ä¸ªæç¤ºæ˜¯é—®æ•°æ®åº“ç³»ç»Ÿçš„å¯†ç ï¼Œè¿™ä¸ªä¸€èˆ¬ä¸ºç©ºï¼Œæ‰€ä»¥ç›´æ¥å›è½¦ï¼› ç¬¬äºŒä¸ªæé—®åº”è¯¥æ˜¯æ˜¯å¦è®¾ç½®rootç”¨æˆ·çš„å¯†ç ï¼Œè¾“å…¥yå›è½¦ï¼Œæ¥ç€å‘½ä»¤è¡Œæç¤ºæˆ‘ä»¬è®¾ç½®å¯†ç ï¼› ä»¥æ­¤ç±»æ¨ï¼Œç¬¬ä¸‰ä¸ªæé—®åº”è¯¥æ˜¯æ˜¯å¦åˆ é™¤åŒ¿åç”¨æˆ·ï¼Œæˆ‘é€‰æ‹©yï¼› æ˜¯å¦ç¦ç”¨rootç”¨æˆ·çš„è¿œç¨‹ç™»é™†ï¼Œæˆ‘é€‰æ‹©y; æ˜¯å¦è¦åˆ é™¤testè¿™ä¸ªæ•°æ®åº“ï¼Œæˆ‘é€‰æ‹©y; æœ€åæç¤ºæ˜¯å¦è¦é‡æ–°åŠ è½½æƒé™ï¼Œæˆ‘é€‰æ‹©y;  è¿™æ ·ï¼Œæˆ‘ä»¬å°±å®Œæˆäº†mariadbçš„å®‰è£…é…ç½®ï¼Œç™»é™†è¯•è¯•ï¼š\nmysql -u root -p show databases; è¿™é‡Œç‰¹åˆ«è¯´è¯´å¦‚æœæ˜¯CentOS 6.Xæ€ä¹ˆYUMå®‰è£…MariaDB CentOS6.6ä¹Ÿå¯ä»¥æˆå®‰è£…èµ„æºä»“åº“,ä½†æ˜¯å³ä½¿ä½ å®‰è£…äº†,yum search mariadbä¹Ÿæ˜¯æœä¸åˆ°mariadbçš„,æˆ‘å°±é‡åˆ°äº†è¿™æ ·çš„é—®é¢˜,è§£å†³åŠæ³•:\n è®¿é—®è¿™é‡Œ:repository generator é€‰æ‹©ä½ çš„ç³»ç»Ÿ,å¤åˆ¶ç²˜è´´ç½‘ç«™æä¾›çš„ä»£ç ,æˆ‘çš„æ˜¯CentOS 6 32ä½:  å°†ä»£ç å¤åˆ¶åˆ°æ–‡ä»¶ä¸­,è¿™ä¸ªæ–‡ä»¶é»˜è®¤åº”è¯¥ä¸å­˜åœ¨,éœ€è¦è‡ªå·±å»ºç«‹,sudo vim /etc/yum.repos.d/MariaDB.repo:\n# MariaDB 10.0 CentOS repository list - created 2015-08-21 11:06 UTC # http://mariadb.org/mariadb/repositories/ [mariadb] name = MariaDB baseurl = http://yum.mariadb.org/10.0/centos6-x86 gpgkey=https://yum.mariadb.org/RPM-GPG-KEY-MariaDB gpgcheck=1 å¥½äº†,ç°åœ¨åº”è¯¥å¯ä»¥å®‰è£…äº†  sudo yum install MariaDB-server MariaDB-client ","permalink":"https://wedojava.github.io/posts/02-%E5%AE%89%E8%A3%85%E6%95%B0%E6%8D%AE%E5%BA%93%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9Fmariadb-or-mysql/","tags":["linux"," MySQL"," MariaDB"," Maria"," å®‰å…¨é€‰é¡¹"],"title":"å®‰è£…æ•°æ®åº“ç®¡ç†ç³»ç»ŸMariaDB(MySQL)"},{"categories":["Linux"],"contents":"ç”±äºcentosè‡ªå¸¦çš„èµ„æºä»“åº“é‡Œèµ„æºçš„ç‰ˆæœ¬ä¸å¤Ÿæ–°,æ‰€ä»¥æˆ‘ä»¬é€‰æ‹©æ·»åŠ ä¸¤ä¸ªèµ„æºä»“åº“.\nè™šæ‹Ÿæœºä» https://github.com/chef/bento æ‰¾,å®‰è£…å¥½å,è¿›è¡Œä¸‹é¢çš„æ­¥éª¤:\nè¿™é‡Œæˆ‘å®‰è£…äº†centos7.1ç‰ˆæœ¬\nä¸‹é¢å¼€å§‹:\n è®¿é—®ç½‘ç«™:http://iuscommunity.org =\u0026gt; Repos\nåœ¨é¡µé¢çš„æœ€ä¸‹æ–¹æ‰¾åˆ°äº†CentOS 7 å¯¹åº”çš„ä¸¤ä¸ªè¿æ¥,åˆ†åˆ«ç‚¹å¼€,å¤åˆ¶å…³é”®è¿æ¥(Packagesä¸‹é¢),ç„¶å:\nsudo rpm -Uvh https://dl.fedoraproject.org/pub/epel/7/x86_64/e/epel-release-7-5.noarch.rpm sudo rpm -Uvh https://dl.iuscommunity.org/pub/ius/stable/CentOS/7/x86_64/ius-release-1.0-14.ius.centos7.noarch.rpm Uvhè¡¨ç¤ºæ˜¾ç¤ºå®‰è£…çš„ä¿¡æ¯å’Œå®‰è£…è¿›åº¦\næœ€å,çœ‹ä¸‹ç³»ç»Ÿä»“åº“çš„åˆ—è¡¨:yum repolist,åŒ…å«epel/x86_64å’Œius/x86_64ä¸¤ä¸ªä»“åº“è¯´æ˜ä¸€åˆ‡æ­£å¸¸.\n","permalink":"https://wedojava.github.io/posts/01-%E6%B7%BB%E5%8A%A0%E8%B5%84%E6%BA%90%E4%BB%93%E5%BA%93/","tags":["linux"," lnmp"," epel"," ius"," èµ„æºä»“åº“"," Uvh"," Repos"],"title":"æ·»åŠ èµ„æºä»“åº“"},{"categories":["Linux"],"contents":"å¸¸ç”¨æŒ‡ä»¤  lsã€€æ˜¾ç¤ºæ–‡ä»¶æˆ–ç›®å½•  -l åˆ—å‡ºæ–‡ä»¶è¯¦ç»†ä¿¡æ¯l(list) -a åˆ—å‡ºå½“å‰ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶åŠç›®å½•ï¼ŒåŒ…æ‹¬éšè—çš„a(all)   mkdir åˆ›å»ºç›®å½•  -p åˆ›å»ºç›®å½•ï¼Œè‹¥æ— çˆ¶ç›®å½•ï¼Œåˆ™åˆ›å»ºp(parent)   cd åˆ‡æ¢ç›®å½• touch åˆ›å»ºç©ºæ–‡ä»¶ echo åˆ›å»ºå¸¦æœ‰å†…å®¹çš„æ–‡ä»¶ã€‚ cat æŸ¥çœ‹æ–‡ä»¶å†…å®¹ cp æ‹·è´   mv ç§»åŠ¨æˆ–é‡å‘½å rm åˆ é™¤æ–‡ä»¶  -r é€’å½’åˆ é™¤ï¼Œå¯åˆ é™¤å­ç›®å½•åŠæ–‡ä»¶ -f å¼ºåˆ¶åˆ é™¤   find åœ¨æ–‡ä»¶ç³»ç»Ÿä¸­æœç´¢æŸæ–‡ä»¶ wc ç»Ÿè®¡æ–‡æœ¬ä¸­è¡Œæ•°ã€å­—æ•°ã€å­—ç¬¦æ•° grep åœ¨æ–‡æœ¬æ–‡ä»¶ä¸­æŸ¥æ‰¾æŸä¸ªå­—ç¬¦ä¸² rmdir åˆ é™¤ç©ºç›®å½• tree æ ‘å½¢ç»“æ„æ˜¾ç¤ºç›®å½•ï¼Œéœ€è¦å®‰è£…treeåŒ… pwd æ˜¾ç¤ºå½“å‰ç›®å½• ln åˆ›å»ºé“¾æ¥æ–‡ä»¶ moreã€less åˆ†é¡µæ˜¾ç¤ºæ–‡æœ¬æ–‡ä»¶å†…å®¹ headã€tail æ˜¾ç¤ºæ–‡ä»¶å¤´ã€å°¾å†…å®¹ ctrl+alt+F1 å‘½ä»¤è¡Œå…¨å±æ¨¡å¼  è®¾å®šå¼€æœºå¯åŠ¨ å‚è€ƒ:https://mariadb.com/kb/zh-cn/iniciando-e-parando-mariadb-automaticamente/\nUbuntu\næœåŠ¡å¯åŠ¨:sudo /etc/init.d/mysql startæˆ–service mysql start\nCentOS 6\nåœ¨åŸºäºRPMçš„å‘è¡Œç‰ˆç³»ç»Ÿ(like Fedora and CentOS), å¯ä»¥ä½¿ç”¨ chkconfigé…ç½®å¼€æœºå¯åŠ¨:\nchkconfig --add mysql chkconfig [--level 345] mysql on [\u0026ndash;level 345]ä¸ºå¯é€‰é¡¹\nç³»ç»Ÿç®¡ç†å‘½ä»¤  stat æ˜¾ç¤ºæŒ‡å®šæ–‡ä»¶çš„è¯¦ç»†ä¿¡æ¯ï¼Œæ¯”lsæ›´è¯¦ç»† who æ˜¾ç¤ºåœ¨çº¿ç™»é™†ç”¨æˆ· whoami æ˜¾ç¤ºå½“å‰æ“ä½œç”¨æˆ· hostname æ˜¾ç¤ºä¸»æœºå uname æ˜¾ç¤ºç³»ç»Ÿç®€è¦ä¿¡æ¯  -a æ˜¾ç¤ºç³»ç»Ÿå®Œæ•´ä¿¡æ¯   top åŠ¨æ€æ˜¾ç¤ºå½“å‰è€—è´¹èµ„æºæœ€å¤šè¿›ç¨‹ä¿¡æ¯ ps æ˜¾ç¤ºç¬é—´è¿›ç¨‹çŠ¶æ€ ps aux  -ef æ˜¾ç¤ºç³»ç»Ÿå¸¸é©»è¿›ç¨‹   du æŸ¥çœ‹ç›®å½•å¤§å° du -h /homeå¸¦æœ‰å•ä½æ˜¾ç¤ºç›®å½•ä¿¡æ¯ df æŸ¥çœ‹ç£ç›˜å¤§å° df -h å¸¦æœ‰å•ä½æ˜¾ç¤ºç£ç›˜ä¿¡æ¯ ifconfig æŸ¥çœ‹ç½‘ç»œæƒ…å†µ ping æµ‹è¯•ç½‘ç»œè¿é€š netstat æ˜¾ç¤ºç½‘ç»œçŠ¶æ€ä¿¡æ¯ man æ˜¾ç¤ºå‘½ä»¤æ‰‹å†Œ clear æ¸…å± alias å¯¹å‘½ä»¤é‡å‘½å å¦‚ï¼šalias showmeit=â€ps auxâ€ ï¼Œå¦å¤–è§£é™¤ä½¿ç”¨unaliax showmeit kill æ€æ­»è¿›ç¨‹ï¼Œå¯ä»¥å…ˆç”¨ ps æˆ– top å‘½ä»¤æŸ¥çœ‹è¿›ç¨‹çš„idï¼Œç„¶åå†ç”¨killå‘½ä»¤æ€æ­»è¿›ç¨‹ã€‚  æ‰“åŒ…å‹ç¼©ç›¸å…³å‘½ä»¤  gzipï¼š bzip2ï¼š tar: æ‰“åŒ…å‹ç¼©  -c å½’æ¡£æ–‡ä»¶ -x è§£å‹ç¼©æ–‡ä»¶ -z gzipå‹ç¼©æ–‡ä»¶ -j bzip2å‹ç¼©æ–‡ä»¶ -v æ˜¾ç¤ºå‹ç¼©æˆ–è§£å‹ç¼©è¿‡ç¨‹ v(view) -f ä½¿ç”¨æ¡£å     ä¾‹ï¼š\n tar -cvf /home/abc.tar /home/abc åªæ‰“åŒ…ï¼Œä¸å‹ç¼©\n  tar -zcvf /home/abc.tar.gz /home/abc æ‰“åŒ…ï¼Œå¹¶ç”¨gzipå‹ç¼©\n  tar -jcvf /home/abc.tar.bz2 /home/abc æ‰“åŒ…ï¼Œå¹¶ç”¨bzip2å‹ç¼©\nå¦‚æœæƒ³è§£å‹ç¼©ï¼Œå°±ç›´æ¥æ›¿æ¢ä¸Šé¢çš„å‘½ä»¤ tar -cvf / tar -zcvf / tar -jcvf ä¸­çš„â€œcâ€ æ¢æˆâ€œxâ€ å°±å¯ä»¥äº†ã€‚  å…³æœº/é‡å¯æœºå™¨  shutdown  -r å…³æœºé‡å¯ -h å…³æœºä¸é‡å¯ now ç«‹åˆ»å…³æœº   halt å…³æœº reboot é‡å¯ init 0 ç«‹åˆ»å…³æœº init 6 é‡å¯  Linuxç®¡é“ å°†ä¸€ä¸ªå‘½ä»¤çš„æ ‡å‡†è¾“å‡ºä½œä¸ºå¦ä¸€ä¸ªå‘½ä»¤çš„æ ‡å‡†è¾“å…¥ã€‚ä¹Ÿå°±æ˜¯æŠŠå‡ ä¸ªå‘½ä»¤ç»„åˆèµ·æ¥ä½¿ç”¨ï¼Œåä¸€ä¸ªå‘½ä»¤å¤„ç†å‰ä¸€ä¸ªå‘½ä»¤çš„è¾“å‡ºç»“æœã€‚\n ä¾‹ï¼šgrep -r â€œcloseâ€ /home/* | more åœ¨homeç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶ä¸­æŸ¥æ‰¾ï¼ŒåŒ…æ‹¬closeçš„æ–‡ä»¶ï¼Œå¹¶åˆ†é¡µè¾“å‡ºã€‚\n  ä¾‹: cat text.txt \u0026gt; tmp.txt æˆ– echo \u0026quot;something\u0026quot; \u0026gt; tmp.txt ä¼šæŠŠå‰é¢çš„è¾“å‡ºå†…å®¹ è¦†ç›– åˆ°tmp.txté‡Œ.\n  ä¾‹: cat text.txt \u0026gt;\u0026gt; tmp.txt æˆ– echo \u0026quot;something\u0026quot; \u0026gt;\u0026gt; tmp.txt ä¼šæŠŠå‰é¢çš„è¾“å‡ºå†…å®¹ è¿½åŠ  åˆ°tmp.txté‡Œ.\n Linuxè½¯ä»¶åŒ…ç®¡ç† dpkg (Debian Package)ç®¡ç†å·¥å…·ï¼Œè½¯ä»¶åŒ…åä»¥.debåç¼€ã€‚è¿™ç§æ–¹æ³•é€‚åˆç³»ç»Ÿä¸èƒ½è”ç½‘çš„æƒ…å†µä¸‹ã€‚ æ¯”å¦‚å®‰è£…treeå‘½ä»¤çš„å®‰è£…åŒ…ï¼Œå…ˆå°†tree.debä¼ åˆ°Linuxç³»ç»Ÿä¸­ã€‚å†ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤å®‰è£…ã€‚\nsudo dpkg -i tree_1.5.3-1_i386.deb å®‰è£…è½¯ä»¶ sudo dpkg -r tree å¸è½½è½¯ä»¶ æ³¨ï¼š\n  å°†tree.debä¼ åˆ°Linuxç³»ç»Ÿä¸­ï¼Œæœ‰å¤šç§æ–¹å¼ã€‚VMwareToolï¼Œä½¿ç”¨æŒ‚è½½æ–¹å¼ï¼›ä½¿ç”¨winSCPå·¥å…·ç­‰ï¼› APTï¼ˆAdvanced Packaging Toolï¼‰é«˜çº§è½¯ä»¶å·¥å…·ã€‚è¿™ç§æ–¹æ³•é€‚åˆç³»ç»Ÿèƒ½å¤Ÿè¿æ¥äº’è”ç½‘çš„æƒ…å†µã€‚\n  ä¾ç„¶ä»¥treeä¸ºä¾‹:\nsudo apt-get install tree å®‰è£…tree sudo apt-get remove tree å¸è½½tree sudo apt-get update æ›´æ–°è½¯ä»¶ sudo apt-get upgrade   å°†.rpmæ–‡ä»¶è½¬ä¸º.debæ–‡ä»¶\n.rpmä¸ºRedHatä½¿ç”¨çš„è½¯ä»¶æ ¼å¼ã€‚åœ¨Ubuntuä¸‹ä¸èƒ½ç›´æ¥ä½¿ç”¨ï¼Œæ‰€ä»¥éœ€è¦è½¬æ¢ä¸€ä¸‹ã€‚\nsudo alien filename.rpm\n    vimä½¿ç”¨ vimä¸‰ç§æ¨¡å¼ï¼šå‘½ä»¤æ¨¡å¼ã€æ’å…¥æ¨¡å¼ã€ç¼–è¾‘æ¨¡å¼ã€‚ä½¿ç”¨ESCæˆ–iæˆ–ï¼šæ¥åˆ‡æ¢æ¨¡å¼ã€‚\nå‘½ä»¤æ¨¡å¼ä¸‹ï¼š\n :q é€€å‡º :q! å¼ºåˆ¶é€€å‡º :wq ä¿å­˜å¹¶é€€å‡º :set number æ˜¾ç¤ºè¡Œå· :set nonumber éšè—è¡Œå· /apache åœ¨æ–‡æ¡£ä¸­æŸ¥æ‰¾å­—ç¬¦apacheï¼ŒæŒ‰nè·³åˆ°ä¸‹ä¸€ä¸ªï¼Œshift+nä¸Šä¸€ä¸ª yyp å¤åˆ¶å…‰æ ‡æ‰€åœ¨è¡Œï¼Œå¹¶ç²˜è´´ h(å·¦ç§»ä¸€ä¸ªå­—ç¬¦â†)ã€j(ä¸‹ä¸€è¡Œâ†“)ã€k(ä¸Šä¸€è¡Œâ†‘)ã€l(å³ç§»ä¸€ä¸ªå­—ç¬¦â†’)  ç”¨æˆ·åŠç”¨æˆ·ç»„ç®¡ç†  /etc/passwd å­˜å‚¨ç”¨æˆ·è´¦å· /etc/group å­˜å‚¨ç»„è´¦å· /etc/shadow å­˜å‚¨ç”¨æˆ·è´¦å·çš„å¯†ç  /etc/gshadow å­˜å‚¨ç”¨æˆ·ç»„è´¦å·çš„å¯†ç  useradd user æ·»åŠ ç”¨æˆ· userdel user åˆ é™¤ç”¨æˆ· groupadd user æ·»åŠ ç»„ç”¨æˆ· groupdel user åˆ é™¤ç»„ç”¨æˆ· passwd root ç»™ç”¨æˆ·rootè®¾ç½®å¯†ç  su root ä¸´æ—¶ææƒåˆ°rootç”¨æˆ· su â€“ root åˆ‡æ¢åˆ°rootç”¨æˆ· /etc/profile ç³»ç»Ÿç¯å¢ƒå˜é‡ bash_profile ç”¨æˆ·ç¯å¢ƒå˜é‡ .bashrc ç”¨æˆ·ç¯å¢ƒå˜é‡ su user åˆ‡æ¢ç”¨æˆ·ï¼ŒåŠ è½½é…ç½®æ–‡ä»¶.bashrc su â€“ user åˆ‡æ¢ç”¨æˆ·ï¼ŒåŠ è½½é…ç½®æ–‡ä»¶/etc/profile ï¼ŒåŠ è½½bash_profile  æ›´æ”¹æ–‡ä»¶çš„ç”¨æˆ·åŠç”¨æˆ·ç»„ sudo chown [-Ré€’å½’] owner[:group] {File|Directory}\nè¦æƒ³åˆ‡æ¢æ–‡ä»¶æ‰€å±çš„ç”¨æˆ·åŠç»„ã€‚å¯ä»¥ä½¿ç”¨å‘½ä»¤:\nsudo chown root:root rarlinux-x64-5.1.b3.tar.gz\næ–‡ä»¶æƒé™ç®¡ç† ä¸‰ç§åŸºæœ¬æƒé™\nR è¯» æ•°å€¼è¡¨ç¤ºä¸º4\nW å†™ æ•°å€¼è¡¨ç¤ºä¸º2\nX å¯æ‰§è¡Œ æ•°å€¼è¡¨ç¤ºä¸º1\næ›´æ”¹æƒé™ sudo chmod [uæ‰€å±ç”¨æˆ· gæ‰€å±ç»„ oå…¶ä»–ç”¨æˆ· aæ‰€æœ‰ç”¨æˆ·] [+å¢åŠ æƒé™ -å‡å°‘æƒé™] [r w x] ç›®å½•å\nä¾‹å¦‚ï¼šæœ‰ä¸€ä¸ªæ–‡ä»¶filenameï¼Œæƒé™ä¸ºâ€œ-rw-râ€”-xâ€ ,å°†æƒé™å€¼æ”¹ä¸ºâ€-rwxrw-r-xâ€ï¼Œç”¨æ•°å€¼è¡¨ç¤ºä¸º765\nsudo chmod u+x g+w o+r filename\nä¸Šé¢çš„ä¾‹å­å¯ä»¥ç”¨æ•°å€¼è¡¨ç¤º\nsudo chmod 765 filename\n","permalink":"https://wedojava.github.io/posts/linux-common-commands/","tags":["linux"," å‘½ä»¤"," vim"],"title":"Linux ç³»ç»Ÿå¸¸ç”¨å‘½ä»¤"}]